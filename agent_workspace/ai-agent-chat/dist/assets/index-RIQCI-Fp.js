function Sm(i,r){for(var s=0;s<r.length;s++){const a=r[s];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in i)){const c=Object.getOwnPropertyDescriptor(a,l);c&&Object.defineProperty(i,l,c.get?c:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();function Bf(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Nm(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var r=i.default;if(typeof r=="function"){var s=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var l=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(s,a,l.get?l:{enumerable:!0,get:function(){return i[a]}})}),s}var cl={exports:{}},Cs={},dl={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd;function Cm(){if(Gd)return de;Gd=1;var i=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function _(S){return S===null||typeof S!="object"?null:(S=x&&S[x]||S["@@iterator"],typeof S=="function"?S:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,O={};function k(S,$,ce){this.props=S,this.context=$,this.refs=O,this.updater=ce||E}k.prototype.isReactComponent={},k.prototype.setState=function(S,$){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,$,"setState")},k.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function L(){}L.prototype=k.prototype;function M(S,$,ce){this.props=S,this.context=$,this.refs=O,this.updater=ce||E}var R=M.prototype=new L;R.constructor=M,A(R,k.prototype),R.isPureReactComponent=!0;var V=Array.isArray,te=Object.prototype.hasOwnProperty,z={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function I(S,$,ce){var fe,ge={},ye=null,je=null;if($!=null)for(fe in $.ref!==void 0&&(je=$.ref),$.key!==void 0&&(ye=""+$.key),$)te.call($,fe)&&!Z.hasOwnProperty(fe)&&(ge[fe]=$[fe]);var xe=arguments.length-2;if(xe===1)ge.children=ce;else if(1<xe){for(var Ee=Array(xe),ft=0;ft<xe;ft++)Ee[ft]=arguments[ft+2];ge.children=Ee}if(S&&S.defaultProps)for(fe in xe=S.defaultProps,xe)ge[fe]===void 0&&(ge[fe]=xe[fe]);return{$$typeof:i,type:S,key:ye,ref:je,props:ge,_owner:z.current}}function Y(S,$){return{$$typeof:i,type:S.type,key:$,ref:S.ref,props:S.props,_owner:S._owner}}function le(S){return typeof S=="object"&&S!==null&&S.$$typeof===i}function ze(S){var $={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(ce){return $[ce]})}var Te=/\/+/g;function be(S,$){return typeof S=="object"&&S!==null&&S.key!=null?ze(""+S.key):$.toString(36)}function Ye(S,$,ce,fe,ge){var ye=typeof S;(ye==="undefined"||ye==="boolean")&&(S=null);var je=!1;if(S===null)je=!0;else switch(ye){case"string":case"number":je=!0;break;case"object":switch(S.$$typeof){case i:case r:je=!0}}if(je)return je=S,ge=ge(je),S=fe===""?"."+be(je,0):fe,V(ge)?(ce="",S!=null&&(ce=S.replace(Te,"$&/")+"/"),Ye(ge,$,ce,"",function(ft){return ft})):ge!=null&&(le(ge)&&(ge=Y(ge,ce+(!ge.key||je&&je.key===ge.key?"":(""+ge.key).replace(Te,"$&/")+"/")+S)),$.push(ge)),1;if(je=0,fe=fe===""?".":fe+":",V(S))for(var xe=0;xe<S.length;xe++){ye=S[xe];var Ee=fe+be(ye,xe);je+=Ye(ye,$,ce,Ee,ge)}else if(Ee=_(S),typeof Ee=="function")for(S=Ee.call(S),xe=0;!(ye=S.next()).done;)ye=ye.value,Ee=fe+be(ye,xe++),je+=Ye(ye,$,ce,Ee,ge);else if(ye==="object")throw $=String(S),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return je}function W(S,$,ce){if(S==null)return S;var fe=[],ge=0;return Ye(S,fe,"","",function(ye){return $.call(ce,ye,ge++)}),fe}function ae(S){if(S._status===-1){var $=S._result;$=$(),$.then(function(ce){(S._status===0||S._status===-1)&&(S._status=1,S._result=ce)},function(ce){(S._status===0||S._status===-1)&&(S._status=2,S._result=ce)}),S._status===-1&&(S._status=0,S._result=$)}if(S._status===1)return S._result.default;throw S._result}var pe={current:null},q={transition:null},ee={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:q,ReactCurrentOwner:z};function K(){throw Error("act(...) is not supported in production builds of React.")}return de.Children={map:W,forEach:function(S,$,ce){W(S,function(){$.apply(this,arguments)},ce)},count:function(S){var $=0;return W(S,function(){$++}),$},toArray:function(S){return W(S,function($){return $})||[]},only:function(S){if(!le(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},de.Component=k,de.Fragment=s,de.Profiler=l,de.PureComponent=M,de.StrictMode=a,de.Suspense=m,de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,de.act=K,de.cloneElement=function(S,$,ce){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var fe=A({},S.props),ge=S.key,ye=S.ref,je=S._owner;if($!=null){if($.ref!==void 0&&(ye=$.ref,je=z.current),$.key!==void 0&&(ge=""+$.key),S.type&&S.type.defaultProps)var xe=S.type.defaultProps;for(Ee in $)te.call($,Ee)&&!Z.hasOwnProperty(Ee)&&(fe[Ee]=$[Ee]===void 0&&xe!==void 0?xe[Ee]:$[Ee])}var Ee=arguments.length-2;if(Ee===1)fe.children=ce;else if(1<Ee){xe=Array(Ee);for(var ft=0;ft<Ee;ft++)xe[ft]=arguments[ft+2];fe.children=xe}return{$$typeof:i,type:S.type,key:ge,ref:ye,props:fe,_owner:je}},de.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:c,_context:S},S.Consumer=S},de.createElement=I,de.createFactory=function(S){var $=I.bind(null,S);return $.type=S,$},de.createRef=function(){return{current:null}},de.forwardRef=function(S){return{$$typeof:p,render:S}},de.isValidElement=le,de.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:ae}},de.memo=function(S,$){return{$$typeof:y,type:S,compare:$===void 0?null:$}},de.startTransition=function(S){var $=q.transition;q.transition={};try{S()}finally{q.transition=$}},de.unstable_act=K,de.useCallback=function(S,$){return pe.current.useCallback(S,$)},de.useContext=function(S){return pe.current.useContext(S)},de.useDebugValue=function(){},de.useDeferredValue=function(S){return pe.current.useDeferredValue(S)},de.useEffect=function(S,$){return pe.current.useEffect(S,$)},de.useId=function(){return pe.current.useId()},de.useImperativeHandle=function(S,$,ce){return pe.current.useImperativeHandle(S,$,ce)},de.useInsertionEffect=function(S,$){return pe.current.useInsertionEffect(S,$)},de.useLayoutEffect=function(S,$){return pe.current.useLayoutEffect(S,$)},de.useMemo=function(S,$){return pe.current.useMemo(S,$)},de.useReducer=function(S,$,ce){return pe.current.useReducer(S,$,ce)},de.useRef=function(S){return pe.current.useRef(S)},de.useState=function(S){return pe.current.useState(S)},de.useSyncExternalStore=function(S,$,ce){return pe.current.useSyncExternalStore(S,$,ce)},de.useTransition=function(){return pe.current.useTransition()},de.version="18.3.1",de}var Jd;function zl(){return Jd||(Jd=1,dl.exports=Cm()),dl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd;function Em(){if(Qd)return Cs;Qd=1;var i=zl(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,m,y){var v,x={},_=null,E=null;y!==void 0&&(_=""+y),m.key!==void 0&&(_=""+m.key),m.ref!==void 0&&(E=m.ref);for(v in m)a.call(m,v)&&!c.hasOwnProperty(v)&&(x[v]=m[v]);if(p&&p.defaultProps)for(v in m=p.defaultProps,m)x[v]===void 0&&(x[v]=m[v]);return{$$typeof:r,type:p,key:_,ref:E,props:x,_owner:l.current}}return Cs.Fragment=s,Cs.jsx=f,Cs.jsxs=f,Cs}var Yd;function Pm(){return Yd||(Yd=1,cl.exports=Em()),cl.exports}var u=Pm(),N=zl();const Wf=Bf(N),Tm=Sm({__proto__:null,default:Wf},[N]);var Yi={},fl={exports:{}},ct={},hl={exports:{}},pl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xd;function Am(){return Xd||(Xd=1,function(i){function r(q,ee){var K=q.length;q.push(ee);e:for(;0<K;){var S=K-1>>>1,$=q[S];if(0<l($,ee))q[S]=ee,q[K]=$,K=S;else break e}}function s(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var ee=q[0],K=q.pop();if(K!==ee){q[0]=K;e:for(var S=0,$=q.length,ce=$>>>1;S<ce;){var fe=2*(S+1)-1,ge=q[fe],ye=fe+1,je=q[ye];if(0>l(ge,K))ye<$&&0>l(je,ge)?(q[S]=je,q[ye]=K,S=ye):(q[S]=ge,q[fe]=K,S=fe);else if(ye<$&&0>l(je,K))q[S]=je,q[ye]=K,S=ye;else break e}}return ee}function l(q,ee){var K=q.sortIndex-ee.sortIndex;return K!==0?K:q.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var m=[],y=[],v=1,x=null,_=3,E=!1,A=!1,O=!1,k=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(q){for(var ee=s(y);ee!==null;){if(ee.callback===null)a(y);else if(ee.startTime<=q)a(y),ee.sortIndex=ee.expirationTime,r(m,ee);else break;ee=s(y)}}function V(q){if(O=!1,R(q),!A)if(s(m)!==null)A=!0,ae(te);else{var ee=s(y);ee!==null&&pe(V,ee.startTime-q)}}function te(q,ee){A=!1,O&&(O=!1,L(I),I=-1),E=!0;var K=_;try{for(R(ee),x=s(m);x!==null&&(!(x.expirationTime>ee)||q&&!ze());){var S=x.callback;if(typeof S=="function"){x.callback=null,_=x.priorityLevel;var $=S(x.expirationTime<=ee);ee=i.unstable_now(),typeof $=="function"?x.callback=$:x===s(m)&&a(m),R(ee)}else a(m);x=s(m)}if(x!==null)var ce=!0;else{var fe=s(y);fe!==null&&pe(V,fe.startTime-ee),ce=!1}return ce}finally{x=null,_=K,E=!1}}var z=!1,Z=null,I=-1,Y=5,le=-1;function ze(){return!(i.unstable_now()-le<Y)}function Te(){if(Z!==null){var q=i.unstable_now();le=q;var ee=!0;try{ee=Z(!0,q)}finally{ee?be():(z=!1,Z=null)}}else z=!1}var be;if(typeof M=="function")be=function(){M(Te)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,W=Ye.port2;Ye.port1.onmessage=Te,be=function(){W.postMessage(null)}}else be=function(){k(Te,0)};function ae(q){Z=q,z||(z=!0,be())}function pe(q,ee){I=k(function(){q(i.unstable_now())},ee)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_continueExecution=function(){A||E||(A=!0,ae(te))},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_getFirstCallbackNode=function(){return s(m)},i.unstable_next=function(q){switch(_){case 1:case 2:case 3:var ee=3;break;default:ee=_}var K=_;_=ee;try{return q()}finally{_=K}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var K=_;_=q;try{return ee()}finally{_=K}},i.unstable_scheduleCallback=function(q,ee,K){var S=i.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?S+K:S):K=S,q){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=K+$,q={id:v++,callback:ee,priorityLevel:q,startTime:K,expirationTime:$,sortIndex:-1},K>S?(q.sortIndex=K,r(y,q),s(m)===null&&q===s(y)&&(O?(L(I),I=-1):O=!0,pe(V,K-S))):(q.sortIndex=$,r(m,q),A||E||(A=!0,ae(te))),q},i.unstable_shouldYield=ze,i.unstable_wrapCallback=function(q){var ee=_;return function(){var K=_;_=ee;try{return q.apply(this,arguments)}finally{_=K}}}}(pl)),pl}var Zd;function Rm(){return Zd||(Zd=1,hl.exports=Am()),hl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef;function Om(){if(ef)return ct;ef=1;var i=zl(),r=Rm();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function c(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},x={};function _(e){return m.call(x,e)?!0:m.call(v,e)?!1:y.test(e)?x[e]=!0:(v[e]=!0,!1)}function E(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A(e,t,n,o){if(t===null||typeof t>"u"||E(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function O(e,t,n,o,d,h,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=d,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=g}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];k[t]=new O(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function M(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(L,M);k[t]=new O(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(L,M);k[t]=new O(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(L,M);k[t]=new O(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function R(e,t,n,o){var d=k.hasOwnProperty(t)?k[t]:null;(d!==null?d.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(A(t,n,d,o)&&(n=null),o||d===null?_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):d.mustUseProperty?e[d.propertyName]=n===null?d.type===3?!1:"":n:(t=d.attributeName,o=d.attributeNamespace,n===null?e.removeAttribute(t):(d=d.type,n=d===3||d===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var V=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),z=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),ze=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),q=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,S;function $(e){if(S===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var ce=!1;function fe(e,t){if(!e||ce)return"";ce=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(T){var o=T}Reflect.construct(e,[],t)}else{try{t.call()}catch(T){o=T}e.call(t.prototype)}else{try{throw Error()}catch(T){o=T}e()}}catch(T){if(T&&o&&typeof T.stack=="string"){for(var d=T.stack.split(`
`),h=o.stack.split(`
`),g=d.length-1,w=h.length-1;1<=g&&0<=w&&d[g]!==h[w];)w--;for(;1<=g&&0<=w;g--,w--)if(d[g]!==h[w]){if(g!==1||w!==1)do if(g--,w--,0>w||d[g]!==h[w]){var b=`
`+d[g].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=g&&0<=w);break}}}finally{ce=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function ge(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=fe(e.type,!1),e;case 11:return e=fe(e.type.render,!1),e;case 1:return e=fe(e.type,!0),e;default:return""}}function ye(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case z:return"Portal";case Y:return"Profiler";case I:return"StrictMode";case be:return"Suspense";case Ye:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ze:return(e.displayName||"Context")+".Consumer";case le:return(e._context.displayName||"Context")+".Provider";case Te:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return t=e.displayName||null,t!==null?t:ye(e.type)||"Memo";case ae:t=e._payload,e=e._init;try{return ye(e(t))}catch{}}return null}function je(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ft(e){var t=Ee(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var d=n.get,h=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(g){o=""+g,h.call(this,g)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zs(e){e._valueTracker||(e._valueTracker=ft(e))}function eu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=Ee(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function Bs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yo(e,t){var n=t.checked;return K({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function tu(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=xe(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ru(e,t){t=t.checked,t!=null&&R(e,"checked",t,!1)}function vo(e,t){ru(e,t);var n=xe(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xo(e,t.type,n):t.hasOwnProperty("defaultValue")&&xo(e,t.type,xe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xo(e,t,n){(t!=="number"||Bs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Bn=Array.isArray;function Zr(e,t,n,o){if(e=e.options,t){t={};for(var d=0;d<n.length;d++)t["$"+n[d]]=!0;for(n=0;n<e.length;n++)d=t.hasOwnProperty("$"+e[n].value),e[n].selected!==d&&(e[n].selected=d),d&&o&&(e[n].defaultSelected=!0)}else{for(n=""+xe(n),t=null,d=0;d<e.length;d++){if(e[d].value===n){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function wo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return K({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function su(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(s(92));if(Bn(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xe(n)}}function iu(e,t){var n=xe(t.value),o=xe(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function ou(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function au(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _o(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?au(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ws,lu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,d){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,d)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ws=Ws||document.createElement("div"),Ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ph=["Webkit","ms","Moz","O"];Object.keys(qn).forEach(function(e){Ph.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qn[t]=qn[e]})});function uu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qn.hasOwnProperty(e)&&qn[e]?(""+t).trim():t+"px"}function cu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,d=uu(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,d):e[n]=d}}var Th=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bo(e,t){if(t){if(Th[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function jo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ko=null;function So(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var No=null,en=null,tn=null;function du(e){if(e=fs(e)){if(typeof No!="function")throw Error(s(280));var t=e.stateNode;t&&(t=fi(t),No(e.stateNode,e.type,t))}}function fu(e){en?tn?tn.push(e):tn=[e]:en=e}function hu(){if(en){var e=en,t=tn;if(tn=en=null,du(e),t)for(e=0;e<t.length;e++)du(t[e])}}function pu(e,t){return e(t)}function mu(){}var Co=!1;function gu(e,t,n){if(Co)return e(t,n);Co=!0;try{return pu(e,t,n)}finally{Co=!1,(en!==null||tn!==null)&&(mu(),hu())}}function Vn(e,t){var n=e.stateNode;if(n===null)return null;var o=fi(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var Eo=!1;if(p)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{Eo=!1}function Ah(e,t,n,o,d,h,g,w,b){var T=Array.prototype.slice.call(arguments,3);try{t.apply(n,T)}catch(D){this.onError(D)}}var Kn=!1,qs=null,Vs=!1,Po=null,Rh={onError:function(e){Kn=!0,qs=e}};function Oh(e,t,n,o,d,h,g,w,b){Kn=!1,qs=null,Ah.apply(Rh,arguments)}function Lh(e,t,n,o,d,h,g,w,b){if(Oh.apply(this,arguments),Kn){if(Kn){var T=qs;Kn=!1,qs=null}else throw Error(s(198));Vs||(Vs=!0,Po=T)}}function Er(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vu(e){if(Er(e)!==e)throw Error(s(188))}function Ih(e){var t=e.alternate;if(!t){if(t=Er(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,o=t;;){var d=n.return;if(d===null)break;var h=d.alternate;if(h===null){if(o=d.return,o!==null){n=o;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===n)return vu(d),e;if(h===o)return vu(d),t;h=h.sibling}throw Error(s(188))}if(n.return!==o.return)n=d,o=h;else{for(var g=!1,w=d.child;w;){if(w===n){g=!0,n=d,o=h;break}if(w===o){g=!0,o=d,n=h;break}w=w.sibling}if(!g){for(w=h.child;w;){if(w===n){g=!0,n=h,o=d;break}if(w===o){g=!0,o=h,n=d;break}w=w.sibling}if(!g)throw Error(s(189))}}if(n.alternate!==o)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function xu(e){return e=Ih(e),e!==null?wu(e):null}function wu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wu(e);if(t!==null)return t;e=e.sibling}return null}var _u=r.unstable_scheduleCallback,bu=r.unstable_cancelCallback,$h=r.unstable_shouldYield,Uh=r.unstable_requestPaint,Le=r.unstable_now,Dh=r.unstable_getCurrentPriorityLevel,To=r.unstable_ImmediatePriority,ju=r.unstable_UserBlockingPriority,Hs=r.unstable_NormalPriority,Fh=r.unstable_LowPriority,ku=r.unstable_IdlePriority,Ks=null,Rt=null;function Mh(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Ks,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Wh,zh=Math.log,Bh=Math.LN2;function Wh(e){return e>>>=0,e===0?32:31-(zh(e)/Bh|0)|0}var Gs=64,Js=4194304;function Gn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qs(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,d=e.suspendedLanes,h=e.pingedLanes,g=n&268435455;if(g!==0){var w=g&~d;w!==0?o=Gn(w):(h&=g,h!==0&&(o=Gn(h)))}else g=n&~d,g!==0?o=Gn(g):h!==0&&(o=Gn(h));if(o===0)return 0;if(t!==0&&t!==o&&(t&d)===0&&(d=o&-o,h=t&-t,d>=h||d===16&&(h&4194240)!==0))return t;if((o&4)!==0&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-jt(t),d=1<<n,o|=e[n],t&=~d;return o}function qh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vh(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes;0<h;){var g=31-jt(h),w=1<<g,b=d[g];b===-1?((w&n)===0||(w&o)!==0)&&(d[g]=qh(w,t)):b<=t&&(e.expiredLanes|=w),h&=~w}}function Ao(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Su(){var e=Gs;return Gs<<=1,(Gs&4194240)===0&&(Gs=64),e}function Ro(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Jn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=n}function Hh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var d=31-jt(n),h=1<<d;t[d]=0,o[d]=-1,e[d]=-1,n&=~h}}function Oo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-jt(n),d=1<<o;d&t|e[o]&t&&(e[o]|=t),n&=~d}}var we=0;function Nu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Cu,Lo,Eu,Pu,Tu,Io=!1,Ys=[],Zt=null,er=null,tr=null,Qn=new Map,Yn=new Map,rr=[],Kh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Au(e,t){switch(e){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Qn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yn.delete(t.pointerId)}}function Xn(e,t,n,o,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:h,targetContainers:[d]},t!==null&&(t=fs(t),t!==null&&Lo(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function Gh(e,t,n,o,d){switch(t){case"focusin":return Zt=Xn(Zt,e,t,n,o,d),!0;case"dragenter":return er=Xn(er,e,t,n,o,d),!0;case"mouseover":return tr=Xn(tr,e,t,n,o,d),!0;case"pointerover":var h=d.pointerId;return Qn.set(h,Xn(Qn.get(h)||null,e,t,n,o,d)),!0;case"gotpointercapture":return h=d.pointerId,Yn.set(h,Xn(Yn.get(h)||null,e,t,n,o,d)),!0}return!1}function Ru(e){var t=Pr(e.target);if(t!==null){var n=Er(t);if(n!==null){if(t=n.tag,t===13){if(t=yu(n),t!==null){e.blockedOn=t,Tu(e.priority,function(){Eu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Uo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);ko=o,n.target.dispatchEvent(o),ko=null}else return t=fs(n),t!==null&&Lo(t),e.blockedOn=n,!1;t.shift()}return!0}function Ou(e,t,n){Xs(e)&&n.delete(t)}function Jh(){Io=!1,Zt!==null&&Xs(Zt)&&(Zt=null),er!==null&&Xs(er)&&(er=null),tr!==null&&Xs(tr)&&(tr=null),Qn.forEach(Ou),Yn.forEach(Ou)}function Zn(e,t){e.blockedOn===t&&(e.blockedOn=null,Io||(Io=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Jh)))}function es(e){function t(d){return Zn(d,e)}if(0<Ys.length){Zn(Ys[0],e);for(var n=1;n<Ys.length;n++){var o=Ys[n];o.blockedOn===e&&(o.blockedOn=null)}}for(Zt!==null&&Zn(Zt,e),er!==null&&Zn(er,e),tr!==null&&Zn(tr,e),Qn.forEach(t),Yn.forEach(t),n=0;n<rr.length;n++)o=rr[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<rr.length&&(n=rr[0],n.blockedOn===null);)Ru(n),n.blockedOn===null&&rr.shift()}var rn=V.ReactCurrentBatchConfig,Zs=!0;function Qh(e,t,n,o){var d=we,h=rn.transition;rn.transition=null;try{we=1,$o(e,t,n,o)}finally{we=d,rn.transition=h}}function Yh(e,t,n,o){var d=we,h=rn.transition;rn.transition=null;try{we=4,$o(e,t,n,o)}finally{we=d,rn.transition=h}}function $o(e,t,n,o){if(Zs){var d=Uo(e,t,n,o);if(d===null)ea(e,t,o,ei,n),Au(e,o);else if(Gh(d,e,t,n,o))o.stopPropagation();else if(Au(e,o),t&4&&-1<Kh.indexOf(e)){for(;d!==null;){var h=fs(d);if(h!==null&&Cu(h),h=Uo(e,t,n,o),h===null&&ea(e,t,o,ei,n),h===d)break;d=h}d!==null&&o.stopPropagation()}else ea(e,t,o,null,n)}}var ei=null;function Uo(e,t,n,o){if(ei=null,e=So(o),e=Pr(e),e!==null)if(t=Er(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ei=e,null}function Lu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dh()){case To:return 1;case ju:return 4;case Hs:case Fh:return 16;case ku:return 536870912;default:return 16}default:return 16}}var nr=null,Do=null,ti=null;function Iu(){if(ti)return ti;var e,t=Do,n=t.length,o,d="value"in nr?nr.value:nr.textContent,h=d.length;for(e=0;e<n&&t[e]===d[e];e++);var g=n-e;for(o=1;o<=g&&t[n-o]===d[h-o];o++);return ti=d.slice(e,1<o?1-o:void 0)}function ri(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ni(){return!0}function $u(){return!1}function ht(e){function t(n,o,d,h,g){this._reactName=n,this._targetInst=d,this.type=o,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(n=e[w],this[w]=n?n(h):h[w]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ni:$u,this.isPropagationStopped=$u,this}return K(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),t}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=ht(nn),ts=K({},nn,{view:0,detail:0}),Xh=ht(ts),Mo,zo,rs,si=K({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rs&&(rs&&e.type==="mousemove"?(Mo=e.screenX-rs.screenX,zo=e.screenY-rs.screenY):zo=Mo=0,rs=e),Mo)},movementY:function(e){return"movementY"in e?e.movementY:zo}}),Uu=ht(si),Zh=K({},si,{dataTransfer:0}),ep=ht(Zh),tp=K({},ts,{relatedTarget:0}),Bo=ht(tp),rp=K({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),np=ht(rp),sp=K({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ip=ht(sp),op=K({},nn,{data:0}),Du=ht(op),ap={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=up[e])?!!t[e]:!1}function Wo(){return cp}var dp=K({},ts,{key:function(e){if(e.key){var t=ap[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ri(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wo,charCode:function(e){return e.type==="keypress"?ri(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ri(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fp=ht(dp),hp=K({},si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fu=ht(hp),pp=K({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wo}),mp=ht(pp),gp=K({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),yp=ht(gp),vp=K({},si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xp=ht(vp),wp=[9,13,27,32],qo=p&&"CompositionEvent"in window,ns=null;p&&"documentMode"in document&&(ns=document.documentMode);var _p=p&&"TextEvent"in window&&!ns,Mu=p&&(!qo||ns&&8<ns&&11>=ns),zu=" ",Bu=!1;function Wu(e,t){switch(e){case"keyup":return wp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sn=!1;function bp(e,t){switch(e){case"compositionend":return qu(t);case"keypress":return t.which!==32?null:(Bu=!0,zu);case"textInput":return e=t.data,e===zu&&Bu?null:e;default:return null}}function jp(e,t){if(sn)return e==="compositionend"||!qo&&Wu(e,t)?(e=Iu(),ti=Do=nr=null,sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mu&&t.locale!=="ko"?null:t.data;default:return null}}var kp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kp[e.type]:t==="textarea"}function Hu(e,t,n,o){fu(o),t=ui(t,"onChange"),0<t.length&&(n=new Fo("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var ss=null,is=null;function Sp(e){cc(e,0)}function ii(e){var t=cn(e);if(eu(t))return e}function Np(e,t){if(e==="change")return t}var Ku=!1;if(p){var Vo;if(p){var Ho="oninput"in document;if(!Ho){var Gu=document.createElement("div");Gu.setAttribute("oninput","return;"),Ho=typeof Gu.oninput=="function"}Vo=Ho}else Vo=!1;Ku=Vo&&(!document.documentMode||9<document.documentMode)}function Ju(){ss&&(ss.detachEvent("onpropertychange",Qu),is=ss=null)}function Qu(e){if(e.propertyName==="value"&&ii(is)){var t=[];Hu(t,is,e,So(e)),gu(Sp,t)}}function Cp(e,t,n){e==="focusin"?(Ju(),ss=t,is=n,ss.attachEvent("onpropertychange",Qu)):e==="focusout"&&Ju()}function Ep(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ii(is)}function Pp(e,t){if(e==="click")return ii(t)}function Tp(e,t){if(e==="input"||e==="change")return ii(t)}function Ap(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Ap;function os(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var d=n[o];if(!m.call(t,d)||!kt(e[d],t[d]))return!1}return!0}function Yu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xu(e,t){var n=Yu(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yu(n)}}function Zu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ec(){for(var e=window,t=Bs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bs(e.document)}return t}function Ko(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rp(e){var t=ec(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zu(n.ownerDocument.documentElement,n)){if(o!==null&&Ko(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=n.textContent.length,h=Math.min(o.start,d);o=o.end===void 0?h:Math.min(o.end,d),!e.extend&&h>o&&(d=o,o=h,h=d),d=Xu(n,h);var g=Xu(n,o);d&&g&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),h>o?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Op=p&&"documentMode"in document&&11>=document.documentMode,on=null,Go=null,as=null,Jo=!1;function tc(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jo||on==null||on!==Bs(o)||(o=on,"selectionStart"in o&&Ko(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),as&&os(as,o)||(as=o,o=ui(Go,"onSelect"),0<o.length&&(t=new Fo("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=on)))}function oi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var an={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionend:oi("Transition","TransitionEnd")},Qo={},rc={};p&&(rc=document.createElement("div").style,"AnimationEvent"in window||(delete an.animationend.animation,delete an.animationiteration.animation,delete an.animationstart.animation),"TransitionEvent"in window||delete an.transitionend.transition);function ai(e){if(Qo[e])return Qo[e];if(!an[e])return e;var t=an[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rc)return Qo[e]=t[n];return e}var nc=ai("animationend"),sc=ai("animationiteration"),ic=ai("animationstart"),oc=ai("transitionend"),ac=new Map,lc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sr(e,t){ac.set(e,t),c(t,[e])}for(var Yo=0;Yo<lc.length;Yo++){var Xo=lc[Yo],Lp=Xo.toLowerCase(),Ip=Xo[0].toUpperCase()+Xo.slice(1);sr(Lp,"on"+Ip)}sr(nc,"onAnimationEnd"),sr(sc,"onAnimationIteration"),sr(ic,"onAnimationStart"),sr("dblclick","onDoubleClick"),sr("focusin","onFocus"),sr("focusout","onBlur"),sr(oc,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$p=new Set("cancel close invalid load scroll toggle".split(" ").concat(ls));function uc(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,Lh(o,t,void 0,e),e.currentTarget=null}function cc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],d=o.event;o=o.listeners;e:{var h=void 0;if(t)for(var g=o.length-1;0<=g;g--){var w=o[g],b=w.instance,T=w.currentTarget;if(w=w.listener,b!==h&&d.isPropagationStopped())break e;uc(d,w,T),h=b}else for(g=0;g<o.length;g++){if(w=o[g],b=w.instance,T=w.currentTarget,w=w.listener,b!==h&&d.isPropagationStopped())break e;uc(d,w,T),h=b}}}if(Vs)throw e=Po,Vs=!1,Po=null,e}function Ne(e,t){var n=t[oa];n===void 0&&(n=t[oa]=new Set);var o=e+"__bubble";n.has(o)||(dc(t,e,2,!1),n.add(o))}function Zo(e,t,n){var o=0;t&&(o|=4),dc(n,e,o,t)}var li="_reactListening"+Math.random().toString(36).slice(2);function us(e){if(!e[li]){e[li]=!0,a.forEach(function(n){n!=="selectionchange"&&($p.has(n)||Zo(n,!1,e),Zo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[li]||(t[li]=!0,Zo("selectionchange",!1,t))}}function dc(e,t,n,o){switch(Lu(t)){case 1:var d=Qh;break;case 4:d=Yh;break;default:d=$o}n=d.bind(null,t,n,e),d=void 0,!Eo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(t,n,{capture:!0,passive:d}):e.addEventListener(t,n,!0):d!==void 0?e.addEventListener(t,n,{passive:d}):e.addEventListener(t,n,!1)}function ea(e,t,n,o,d){var h=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var w=o.stateNode.containerInfo;if(w===d||w.nodeType===8&&w.parentNode===d)break;if(g===4)for(g=o.return;g!==null;){var b=g.tag;if((b===3||b===4)&&(b=g.stateNode.containerInfo,b===d||b.nodeType===8&&b.parentNode===d))return;g=g.return}for(;w!==null;){if(g=Pr(w),g===null)return;if(b=g.tag,b===5||b===6){o=h=g;continue e}w=w.parentNode}}o=o.return}gu(function(){var T=h,D=So(n),F=[];e:{var U=ac.get(e);if(U!==void 0){var H=Fo,J=e;switch(e){case"keypress":if(ri(n)===0)break e;case"keydown":case"keyup":H=fp;break;case"focusin":J="focus",H=Bo;break;case"focusout":J="blur",H=Bo;break;case"beforeblur":case"afterblur":H=Bo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=ep;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=mp;break;case nc:case sc:case ic:H=np;break;case oc:H=yp;break;case"scroll":H=Xh;break;case"wheel":H=xp;break;case"copy":case"cut":case"paste":H=ip;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Fu}var Q=(t&4)!==0,Ie=!Q&&e==="scroll",C=Q?U!==null?U+"Capture":null:U;Q=[];for(var j=T,P;j!==null;){P=j;var B=P.stateNode;if(P.tag===5&&B!==null&&(P=B,C!==null&&(B=Vn(j,C),B!=null&&Q.push(cs(j,B,P)))),Ie)break;j=j.return}0<Q.length&&(U=new H(U,J,null,n,D),F.push({event:U,listeners:Q}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",U&&n!==ko&&(J=n.relatedTarget||n.fromElement)&&(Pr(J)||J[Ft]))break e;if((H||U)&&(U=D.window===D?D:(U=D.ownerDocument)?U.defaultView||U.parentWindow:window,H?(J=n.relatedTarget||n.toElement,H=T,J=J?Pr(J):null,J!==null&&(Ie=Er(J),J!==Ie||J.tag!==5&&J.tag!==6)&&(J=null)):(H=null,J=T),H!==J)){if(Q=Uu,B="onMouseLeave",C="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(Q=Fu,B="onPointerLeave",C="onPointerEnter",j="pointer"),Ie=H==null?U:cn(H),P=J==null?U:cn(J),U=new Q(B,j+"leave",H,n,D),U.target=Ie,U.relatedTarget=P,B=null,Pr(D)===T&&(Q=new Q(C,j+"enter",J,n,D),Q.target=P,Q.relatedTarget=Ie,B=Q),Ie=B,H&&J)t:{for(Q=H,C=J,j=0,P=Q;P;P=ln(P))j++;for(P=0,B=C;B;B=ln(B))P++;for(;0<j-P;)Q=ln(Q),j--;for(;0<P-j;)C=ln(C),P--;for(;j--;){if(Q===C||C!==null&&Q===C.alternate)break t;Q=ln(Q),C=ln(C)}Q=null}else Q=null;H!==null&&fc(F,U,H,Q,!1),J!==null&&Ie!==null&&fc(F,Ie,J,Q,!0)}}e:{if(U=T?cn(T):window,H=U.nodeName&&U.nodeName.toLowerCase(),H==="select"||H==="input"&&U.type==="file")var X=Np;else if(Vu(U))if(Ku)X=Tp;else{X=Ep;var re=Cp}else(H=U.nodeName)&&H.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(X=Pp);if(X&&(X=X(e,T))){Hu(F,X,n,D);break e}re&&re(e,U,T),e==="focusout"&&(re=U._wrapperState)&&re.controlled&&U.type==="number"&&xo(U,"number",U.value)}switch(re=T?cn(T):window,e){case"focusin":(Vu(re)||re.contentEditable==="true")&&(on=re,Go=T,as=null);break;case"focusout":as=Go=on=null;break;case"mousedown":Jo=!0;break;case"contextmenu":case"mouseup":case"dragend":Jo=!1,tc(F,n,D);break;case"selectionchange":if(Op)break;case"keydown":case"keyup":tc(F,n,D)}var ne;if(qo)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else sn?Wu(e,n)&&(se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(se="onCompositionStart");se&&(Mu&&n.locale!=="ko"&&(sn||se!=="onCompositionStart"?se==="onCompositionEnd"&&sn&&(ne=Iu()):(nr=D,Do="value"in nr?nr.value:nr.textContent,sn=!0)),re=ui(T,se),0<re.length&&(se=new Du(se,e,null,n,D),F.push({event:se,listeners:re}),ne?se.data=ne:(ne=qu(n),ne!==null&&(se.data=ne)))),(ne=_p?bp(e,n):jp(e,n))&&(T=ui(T,"onBeforeInput"),0<T.length&&(D=new Du("onBeforeInput","beforeinput",null,n,D),F.push({event:D,listeners:T}),D.data=ne))}cc(F,t)})}function cs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ui(e,t){for(var n=t+"Capture",o=[];e!==null;){var d=e,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=Vn(e,n),h!=null&&o.unshift(cs(e,h,d)),h=Vn(e,t),h!=null&&o.push(cs(e,h,d))),e=e.return}return o}function ln(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fc(e,t,n,o,d){for(var h=t._reactName,g=[];n!==null&&n!==o;){var w=n,b=w.alternate,T=w.stateNode;if(b!==null&&b===o)break;w.tag===5&&T!==null&&(w=T,d?(b=Vn(n,h),b!=null&&g.unshift(cs(n,b,w))):d||(b=Vn(n,h),b!=null&&g.push(cs(n,b,w)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var Up=/\r\n?/g,Dp=/\u0000|\uFFFD/g;function hc(e){return(typeof e=="string"?e:""+e).replace(Up,`
`).replace(Dp,"")}function ci(e,t,n){if(t=hc(t),hc(e)!==t&&n)throw Error(s(425))}function di(){}var ta=null,ra=null;function na(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sa=typeof setTimeout=="function"?setTimeout:void 0,Fp=typeof clearTimeout=="function"?clearTimeout:void 0,pc=typeof Promise=="function"?Promise:void 0,Mp=typeof queueMicrotask=="function"?queueMicrotask:typeof pc<"u"?function(e){return pc.resolve(null).then(e).catch(zp)}:sa;function zp(e){setTimeout(function(){throw e})}function ia(e,t){var n=t,o=0;do{var d=n.nextSibling;if(e.removeChild(n),d&&d.nodeType===8)if(n=d.data,n==="/$"){if(o===0){e.removeChild(d),es(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=d}while(n);es(t)}function ir(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var un=Math.random().toString(36).slice(2),Ot="__reactFiber$"+un,ds="__reactProps$"+un,Ft="__reactContainer$"+un,oa="__reactEvents$"+un,Bp="__reactListeners$"+un,Wp="__reactHandles$"+un;function Pr(e){var t=e[Ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ft]||n[Ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mc(e);e!==null;){if(n=e[Ot])return n;e=mc(e)}return t}e=n,n=e.parentNode}return null}function fs(e){return e=e[Ot]||e[Ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function fi(e){return e[ds]||null}var aa=[],dn=-1;function or(e){return{current:e}}function Ce(e){0>dn||(e.current=aa[dn],aa[dn]=null,dn--)}function ke(e,t){dn++,aa[dn]=e.current,e.current=t}var ar={},Xe=or(ar),it=or(!1),Tr=ar;function fn(e,t){var n=e.type.contextTypes;if(!n)return ar;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in n)d[h]=t[h];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function ot(e){return e=e.childContextTypes,e!=null}function hi(){Ce(it),Ce(Xe)}function gc(e,t,n){if(Xe.current!==ar)throw Error(s(168));ke(Xe,t),ke(it,n)}function yc(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var d in o)if(!(d in t))throw Error(s(108,je(e)||"Unknown",d));return K({},n,o)}function pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ar,Tr=Xe.current,ke(Xe,e),ke(it,it.current),!0}function vc(e,t,n){var o=e.stateNode;if(!o)throw Error(s(169));n?(e=yc(e,t,Tr),o.__reactInternalMemoizedMergedChildContext=e,Ce(it),Ce(Xe),ke(Xe,e)):Ce(it),ke(it,n)}var Mt=null,mi=!1,la=!1;function xc(e){Mt===null?Mt=[e]:Mt.push(e)}function qp(e){mi=!0,xc(e)}function lr(){if(!la&&Mt!==null){la=!0;var e=0,t=we;try{var n=Mt;for(we=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}Mt=null,mi=!1}catch(d){throw Mt!==null&&(Mt=Mt.slice(e+1)),_u(To,lr),d}finally{we=t,la=!1}}return null}var hn=[],pn=0,gi=null,yi=0,yt=[],vt=0,Ar=null,zt=1,Bt="";function Rr(e,t){hn[pn++]=yi,hn[pn++]=gi,gi=e,yi=t}function wc(e,t,n){yt[vt++]=zt,yt[vt++]=Bt,yt[vt++]=Ar,Ar=e;var o=zt;e=Bt;var d=32-jt(o)-1;o&=~(1<<d),n+=1;var h=32-jt(t)+d;if(30<h){var g=d-d%5;h=(o&(1<<g)-1).toString(32),o>>=g,d-=g,zt=1<<32-jt(t)+d|n<<d|o,Bt=h+e}else zt=1<<h|n<<d|o,Bt=e}function ua(e){e.return!==null&&(Rr(e,1),wc(e,1,0))}function ca(e){for(;e===gi;)gi=hn[--pn],hn[pn]=null,yi=hn[--pn],hn[pn]=null;for(;e===Ar;)Ar=yt[--vt],yt[vt]=null,Bt=yt[--vt],yt[vt]=null,zt=yt[--vt],yt[vt]=null}var pt=null,mt=null,Pe=!1,St=null;function _c(e,t){var n=bt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,mt=ir(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ar!==null?{id:zt,overflow:Bt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pt=e,mt=null,!0):!1;default:return!1}}function da(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fa(e){if(Pe){var t=mt;if(t){var n=t;if(!bc(e,t)){if(da(e))throw Error(s(418));t=ir(n.nextSibling);var o=pt;t&&bc(e,t)?_c(o,n):(e.flags=e.flags&-4097|2,Pe=!1,pt=e)}}else{if(da(e))throw Error(s(418));e.flags=e.flags&-4097|2,Pe=!1,pt=e}}}function jc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function vi(e){if(e!==pt)return!1;if(!Pe)return jc(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!na(e.type,e.memoizedProps)),t&&(t=mt)){if(da(e))throw kc(),Error(s(418));for(;t;)_c(e,t),t=ir(t.nextSibling)}if(jc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){mt=ir(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=pt?ir(e.stateNode.nextSibling):null;return!0}function kc(){for(var e=mt;e;)e=ir(e.nextSibling)}function mn(){mt=pt=null,Pe=!1}function ha(e){St===null?St=[e]:St.push(e)}var Vp=V.ReactCurrentBatchConfig;function hs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(s(309));var o=n.stateNode}if(!o)throw Error(s(147,e));var d=o,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(g){var w=d.refs;g===null?delete w[h]:w[h]=g},t._stringRef=h,t)}if(typeof e!="string")throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function xi(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sc(e){var t=e._init;return t(e._payload)}function Nc(e){function t(C,j){if(e){var P=C.deletions;P===null?(C.deletions=[j],C.flags|=16):P.push(j)}}function n(C,j){if(!e)return null;for(;j!==null;)t(C,j),j=j.sibling;return null}function o(C,j){for(C=new Map;j!==null;)j.key!==null?C.set(j.key,j):C.set(j.index,j),j=j.sibling;return C}function d(C,j){return C=gr(C,j),C.index=0,C.sibling=null,C}function h(C,j,P){return C.index=P,e?(P=C.alternate,P!==null?(P=P.index,P<j?(C.flags|=2,j):P):(C.flags|=2,j)):(C.flags|=1048576,j)}function g(C){return e&&C.alternate===null&&(C.flags|=2),C}function w(C,j,P,B){return j===null||j.tag!==6?(j=sl(P,C.mode,B),j.return=C,j):(j=d(j,P),j.return=C,j)}function b(C,j,P,B){var X=P.type;return X===Z?D(C,j,P.props.children,B,P.key):j!==null&&(j.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===ae&&Sc(X)===j.type)?(B=d(j,P.props),B.ref=hs(C,j,P),B.return=C,B):(B=Wi(P.type,P.key,P.props,null,C.mode,B),B.ref=hs(C,j,P),B.return=C,B)}function T(C,j,P,B){return j===null||j.tag!==4||j.stateNode.containerInfo!==P.containerInfo||j.stateNode.implementation!==P.implementation?(j=il(P,C.mode,B),j.return=C,j):(j=d(j,P.children||[]),j.return=C,j)}function D(C,j,P,B,X){return j===null||j.tag!==7?(j=Mr(P,C.mode,B,X),j.return=C,j):(j=d(j,P),j.return=C,j)}function F(C,j,P){if(typeof j=="string"&&j!==""||typeof j=="number")return j=sl(""+j,C.mode,P),j.return=C,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case te:return P=Wi(j.type,j.key,j.props,null,C.mode,P),P.ref=hs(C,null,j),P.return=C,P;case z:return j=il(j,C.mode,P),j.return=C,j;case ae:var B=j._init;return F(C,B(j._payload),P)}if(Bn(j)||ee(j))return j=Mr(j,C.mode,P,null),j.return=C,j;xi(C,j)}return null}function U(C,j,P,B){var X=j!==null?j.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return X!==null?null:w(C,j,""+P,B);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case te:return P.key===X?b(C,j,P,B):null;case z:return P.key===X?T(C,j,P,B):null;case ae:return X=P._init,U(C,j,X(P._payload),B)}if(Bn(P)||ee(P))return X!==null?null:D(C,j,P,B,null);xi(C,P)}return null}function H(C,j,P,B,X){if(typeof B=="string"&&B!==""||typeof B=="number")return C=C.get(P)||null,w(j,C,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case te:return C=C.get(B.key===null?P:B.key)||null,b(j,C,B,X);case z:return C=C.get(B.key===null?P:B.key)||null,T(j,C,B,X);case ae:var re=B._init;return H(C,j,P,re(B._payload),X)}if(Bn(B)||ee(B))return C=C.get(P)||null,D(j,C,B,X,null);xi(j,B)}return null}function J(C,j,P,B){for(var X=null,re=null,ne=j,se=j=0,qe=null;ne!==null&&se<P.length;se++){ne.index>se?(qe=ne,ne=null):qe=ne.sibling;var ve=U(C,ne,P[se],B);if(ve===null){ne===null&&(ne=qe);break}e&&ne&&ve.alternate===null&&t(C,ne),j=h(ve,j,se),re===null?X=ve:re.sibling=ve,re=ve,ne=qe}if(se===P.length)return n(C,ne),Pe&&Rr(C,se),X;if(ne===null){for(;se<P.length;se++)ne=F(C,P[se],B),ne!==null&&(j=h(ne,j,se),re===null?X=ne:re.sibling=ne,re=ne);return Pe&&Rr(C,se),X}for(ne=o(C,ne);se<P.length;se++)qe=H(ne,C,se,P[se],B),qe!==null&&(e&&qe.alternate!==null&&ne.delete(qe.key===null?se:qe.key),j=h(qe,j,se),re===null?X=qe:re.sibling=qe,re=qe);return e&&ne.forEach(function(yr){return t(C,yr)}),Pe&&Rr(C,se),X}function Q(C,j,P,B){var X=ee(P);if(typeof X!="function")throw Error(s(150));if(P=X.call(P),P==null)throw Error(s(151));for(var re=X=null,ne=j,se=j=0,qe=null,ve=P.next();ne!==null&&!ve.done;se++,ve=P.next()){ne.index>se?(qe=ne,ne=null):qe=ne.sibling;var yr=U(C,ne,ve.value,B);if(yr===null){ne===null&&(ne=qe);break}e&&ne&&yr.alternate===null&&t(C,ne),j=h(yr,j,se),re===null?X=yr:re.sibling=yr,re=yr,ne=qe}if(ve.done)return n(C,ne),Pe&&Rr(C,se),X;if(ne===null){for(;!ve.done;se++,ve=P.next())ve=F(C,ve.value,B),ve!==null&&(j=h(ve,j,se),re===null?X=ve:re.sibling=ve,re=ve);return Pe&&Rr(C,se),X}for(ne=o(C,ne);!ve.done;se++,ve=P.next())ve=H(ne,C,se,ve.value,B),ve!==null&&(e&&ve.alternate!==null&&ne.delete(ve.key===null?se:ve.key),j=h(ve,j,se),re===null?X=ve:re.sibling=ve,re=ve);return e&&ne.forEach(function(km){return t(C,km)}),Pe&&Rr(C,se),X}function Ie(C,j,P,B){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case te:e:{for(var X=P.key,re=j;re!==null;){if(re.key===X){if(X=P.type,X===Z){if(re.tag===7){n(C,re.sibling),j=d(re,P.props.children),j.return=C,C=j;break e}}else if(re.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===ae&&Sc(X)===re.type){n(C,re.sibling),j=d(re,P.props),j.ref=hs(C,re,P),j.return=C,C=j;break e}n(C,re);break}else t(C,re);re=re.sibling}P.type===Z?(j=Mr(P.props.children,C.mode,B,P.key),j.return=C,C=j):(B=Wi(P.type,P.key,P.props,null,C.mode,B),B.ref=hs(C,j,P),B.return=C,C=B)}return g(C);case z:e:{for(re=P.key;j!==null;){if(j.key===re)if(j.tag===4&&j.stateNode.containerInfo===P.containerInfo&&j.stateNode.implementation===P.implementation){n(C,j.sibling),j=d(j,P.children||[]),j.return=C,C=j;break e}else{n(C,j);break}else t(C,j);j=j.sibling}j=il(P,C.mode,B),j.return=C,C=j}return g(C);case ae:return re=P._init,Ie(C,j,re(P._payload),B)}if(Bn(P))return J(C,j,P,B);if(ee(P))return Q(C,j,P,B);xi(C,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,j!==null&&j.tag===6?(n(C,j.sibling),j=d(j,P),j.return=C,C=j):(n(C,j),j=sl(P,C.mode,B),j.return=C,C=j),g(C)):n(C,j)}return Ie}var gn=Nc(!0),Cc=Nc(!1),wi=or(null),_i=null,yn=null,pa=null;function ma(){pa=yn=_i=null}function ga(e){var t=wi.current;Ce(wi),e._currentValue=t}function ya(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function vn(e,t){_i=e,pa=yn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(at=!0),e.firstContext=null)}function xt(e){var t=e._currentValue;if(pa!==e)if(e={context:e,memoizedValue:t,next:null},yn===null){if(_i===null)throw Error(s(308));yn=e,_i.dependencies={lanes:0,firstContext:e}}else yn=yn.next=e;return t}var Or=null;function va(e){Or===null?Or=[e]:Or.push(e)}function Ec(e,t,n,o){var d=t.interleaved;return d===null?(n.next=n,va(t)):(n.next=d.next,d.next=n),t.interleaved=n,Wt(e,o)}function Wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ur=!1;function xa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cr(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(me&2)!==0){var d=o.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),o.pending=t,Wt(e,n)}return d=o.interleaved,d===null?(t.next=t,va(o)):(t.next=d.next,d.next=t),o.interleaved=t,Wt(e,n)}function bi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Oo(e,n)}}function Tc(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var d=null,h=null;if(n=n.firstBaseUpdate,n!==null){do{var g={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};h===null?d=h=g:h=h.next=g,n=n.next}while(n!==null);h===null?d=h=t:h=h.next=t}else d=h=t;n={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ji(e,t,n,o){var d=e.updateQueue;ur=!1;var h=d.firstBaseUpdate,g=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var b=w,T=b.next;b.next=null,g===null?h=T:g.next=T,g=b;var D=e.alternate;D!==null&&(D=D.updateQueue,w=D.lastBaseUpdate,w!==g&&(w===null?D.firstBaseUpdate=T:w.next=T,D.lastBaseUpdate=b))}if(h!==null){var F=d.baseState;g=0,D=T=b=null,w=h;do{var U=w.lane,H=w.eventTime;if((o&U)===U){D!==null&&(D=D.next={eventTime:H,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var J=e,Q=w;switch(U=t,H=n,Q.tag){case 1:if(J=Q.payload,typeof J=="function"){F=J.call(H,F,U);break e}F=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=Q.payload,U=typeof J=="function"?J.call(H,F,U):J,U==null)break e;F=K({},F,U);break e;case 2:ur=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,U=d.effects,U===null?d.effects=[w]:U.push(w))}else H={eventTime:H,lane:U,tag:w.tag,payload:w.payload,callback:w.callback,next:null},D===null?(T=D=H,b=F):D=D.next=H,g|=U;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;U=w,w=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);if(D===null&&(b=F),d.baseState=b,d.firstBaseUpdate=T,d.lastBaseUpdate=D,t=d.shared.interleaved,t!==null){d=t;do g|=d.lane,d=d.next;while(d!==t)}else h===null&&(d.shared.lanes=0);$r|=g,e.lanes=g,e.memoizedState=F}}function Ac(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],d=o.callback;if(d!==null){if(o.callback=null,o=n,typeof d!="function")throw Error(s(191,d));d.call(o)}}}var ps={},Lt=or(ps),ms=or(ps),gs=or(ps);function Lr(e){if(e===ps)throw Error(s(174));return e}function wa(e,t){switch(ke(gs,t),ke(ms,e),ke(Lt,ps),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_o(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_o(t,e)}Ce(Lt),ke(Lt,t)}function xn(){Ce(Lt),Ce(ms),Ce(gs)}function Rc(e){Lr(gs.current);var t=Lr(Lt.current),n=_o(t,e.type);t!==n&&(ke(ms,e),ke(Lt,n))}function _a(e){ms.current===e&&(Ce(Lt),Ce(ms))}var Ae=or(0);function ki(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ba=[];function ja(){for(var e=0;e<ba.length;e++)ba[e]._workInProgressVersionPrimary=null;ba.length=0}var Si=V.ReactCurrentDispatcher,ka=V.ReactCurrentBatchConfig,Ir=0,Re=null,De=null,Be=null,Ni=!1,ys=!1,vs=0,Hp=0;function Ze(){throw Error(s(321))}function Sa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function Na(e,t,n,o,d,h){if(Ir=h,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Si.current=e===null||e.memoizedState===null?Qp:Yp,e=n(o,d),ys){h=0;do{if(ys=!1,vs=0,25<=h)throw Error(s(301));h+=1,Be=De=null,t.updateQueue=null,Si.current=Xp,e=n(o,d)}while(ys)}if(Si.current=Pi,t=De!==null&&De.next!==null,Ir=0,Be=De=Re=null,Ni=!1,t)throw Error(s(300));return e}function Ca(){var e=vs!==0;return vs=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Re.memoizedState=Be=e:Be=Be.next=e,Be}function wt(){if(De===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Be===null?Re.memoizedState:Be.next;if(t!==null)Be=t,De=e;else{if(e===null)throw Error(s(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Be===null?Re.memoizedState=Be=e:Be=Be.next=e}return Be}function xs(e,t){return typeof t=="function"?t(e):t}function Ea(e){var t=wt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var o=De,d=o.baseQueue,h=n.pending;if(h!==null){if(d!==null){var g=d.next;d.next=h.next,h.next=g}o.baseQueue=d=h,n.pending=null}if(d!==null){h=d.next,o=o.baseState;var w=g=null,b=null,T=h;do{var D=T.lane;if((Ir&D)===D)b!==null&&(b=b.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),o=T.hasEagerState?T.eagerState:e(o,T.action);else{var F={lane:D,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};b===null?(w=b=F,g=o):b=b.next=F,Re.lanes|=D,$r|=D}T=T.next}while(T!==null&&T!==h);b===null?g=o:b.next=w,kt(o,t.memoizedState)||(at=!0),t.memoizedState=o,t.baseState=g,t.baseQueue=b,n.lastRenderedState=o}if(e=n.interleaved,e!==null){d=e;do h=d.lane,Re.lanes|=h,$r|=h,d=d.next;while(d!==e)}else d===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pa(e){var t=wt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var o=n.dispatch,d=n.pending,h=t.memoizedState;if(d!==null){n.pending=null;var g=d=d.next;do h=e(h,g.action),g=g.next;while(g!==d);kt(h,t.memoizedState)||(at=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),n.lastRenderedState=h}return[h,o]}function Oc(){}function Lc(e,t){var n=Re,o=wt(),d=t(),h=!kt(o.memoizedState,d);if(h&&(o.memoizedState=d,at=!0),o=o.queue,Ta(Uc.bind(null,n,o,e),[e]),o.getSnapshot!==t||h||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,ws(9,$c.bind(null,n,o,d,t),void 0,null),We===null)throw Error(s(349));(Ir&30)!==0||Ic(n,t,d)}return d}function Ic(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $c(e,t,n,o){t.value=n,t.getSnapshot=o,Dc(t)&&Fc(e)}function Uc(e,t,n){return n(function(){Dc(t)&&Fc(e)})}function Dc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function Fc(e){var t=Wt(e,1);t!==null&&Pt(t,e,1,-1)}function Mc(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=Jp.bind(null,Re,e),[t.memoizedState,e]}function ws(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function zc(){return wt().memoizedState}function Ci(e,t,n,o){var d=It();Re.flags|=e,d.memoizedState=ws(1|t,n,void 0,o===void 0?null:o)}function Ei(e,t,n,o){var d=wt();o=o===void 0?null:o;var h=void 0;if(De!==null){var g=De.memoizedState;if(h=g.destroy,o!==null&&Sa(o,g.deps)){d.memoizedState=ws(t,n,h,o);return}}Re.flags|=e,d.memoizedState=ws(1|t,n,h,o)}function Bc(e,t){return Ci(8390656,8,e,t)}function Ta(e,t){return Ei(2048,8,e,t)}function Wc(e,t){return Ei(4,2,e,t)}function qc(e,t){return Ei(4,4,e,t)}function Vc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hc(e,t,n){return n=n!=null?n.concat([e]):null,Ei(4,4,Vc.bind(null,t,e),n)}function Aa(){}function Kc(e,t){var n=wt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Sa(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Gc(e,t){var n=wt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Sa(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function Jc(e,t,n){return(Ir&21)===0?(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=n):(kt(n,t)||(n=Su(),Re.lanes|=n,$r|=n,e.baseState=!0),t)}function Kp(e,t){var n=we;we=n!==0&&4>n?n:4,e(!0);var o=ka.transition;ka.transition={};try{e(!1),t()}finally{we=n,ka.transition=o}}function Qc(){return wt().memoizedState}function Gp(e,t,n){var o=pr(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Yc(e))Xc(t,n);else if(n=Ec(e,t,n,o),n!==null){var d=nt();Pt(n,e,o,d),Zc(n,t,o)}}function Jp(e,t,n){var o=pr(e),d={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yc(e))Xc(t,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var g=t.lastRenderedState,w=h(g,n);if(d.hasEagerState=!0,d.eagerState=w,kt(w,g)){var b=t.interleaved;b===null?(d.next=d,va(t)):(d.next=b.next,b.next=d),t.interleaved=d;return}}catch{}finally{}n=Ec(e,t,d,o),n!==null&&(d=nt(),Pt(n,e,o,d),Zc(n,t,o))}}function Yc(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function Xc(e,t){ys=Ni=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zc(e,t,n){if((n&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Oo(e,n)}}var Pi={readContext:xt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},Qp={readContext:xt,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:Bc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ci(4194308,4,Vc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ci(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ci(4,2,e,t)},useMemo:function(e,t){var n=It();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=It();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Gp.bind(null,Re,e),[o.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:Mc,useDebugValue:Aa,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=Mc(!1),t=e[0];return e=Kp.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=Re,d=It();if(Pe){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),We===null)throw Error(s(349));(Ir&30)!==0||Ic(o,t,n)}d.memoizedState=n;var h={value:n,getSnapshot:t};return d.queue=h,Bc(Uc.bind(null,o,h,e),[e]),o.flags|=2048,ws(9,$c.bind(null,o,h,n,t),void 0,null),n},useId:function(){var e=It(),t=We.identifierPrefix;if(Pe){var n=Bt,o=zt;n=(o&~(1<<32-jt(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=vs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Hp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yp={readContext:xt,useCallback:Kc,useContext:xt,useEffect:Ta,useImperativeHandle:Hc,useInsertionEffect:Wc,useLayoutEffect:qc,useMemo:Gc,useReducer:Ea,useRef:zc,useState:function(){return Ea(xs)},useDebugValue:Aa,useDeferredValue:function(e){var t=wt();return Jc(t,De.memoizedState,e)},useTransition:function(){var e=Ea(xs)[0],t=wt().memoizedState;return[e,t]},useMutableSource:Oc,useSyncExternalStore:Lc,useId:Qc,unstable_isNewReconciler:!1},Xp={readContext:xt,useCallback:Kc,useContext:xt,useEffect:Ta,useImperativeHandle:Hc,useInsertionEffect:Wc,useLayoutEffect:qc,useMemo:Gc,useReducer:Pa,useRef:zc,useState:function(){return Pa(xs)},useDebugValue:Aa,useDeferredValue:function(e){var t=wt();return De===null?t.memoizedState=e:Jc(t,De.memoizedState,e)},useTransition:function(){var e=Pa(xs)[0],t=wt().memoizedState;return[e,t]},useMutableSource:Oc,useSyncExternalStore:Lc,useId:Qc,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=K({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ra(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:K({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ti={isMounted:function(e){return(e=e._reactInternals)?Er(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=nt(),d=pr(e),h=qt(o,d);h.payload=t,n!=null&&(h.callback=n),t=cr(e,h,d),t!==null&&(Pt(t,e,d,o),bi(t,e,d))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=nt(),d=pr(e),h=qt(o,d);h.tag=1,h.payload=t,n!=null&&(h.callback=n),t=cr(e,h,d),t!==null&&(Pt(t,e,d,o),bi(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nt(),o=pr(e),d=qt(n,o);d.tag=2,t!=null&&(d.callback=t),t=cr(e,d,o),t!==null&&(Pt(t,e,o,n),bi(t,e,o))}};function ed(e,t,n,o,d,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,h,g):t.prototype&&t.prototype.isPureReactComponent?!os(n,o)||!os(d,h):!0}function td(e,t,n){var o=!1,d=ar,h=t.contextType;return typeof h=="object"&&h!==null?h=xt(h):(d=ot(t)?Tr:Xe.current,o=t.contextTypes,h=(o=o!=null)?fn(e,d):ar),t=new t(n,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ti,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=h),t}function rd(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Ti.enqueueReplaceState(t,t.state,null)}function Oa(e,t,n,o){var d=e.stateNode;d.props=n,d.state=e.memoizedState,d.refs={},xa(e);var h=t.contextType;typeof h=="object"&&h!==null?d.context=xt(h):(h=ot(t)?Tr:Xe.current,d.context=fn(e,h)),d.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(Ra(e,t,h,n),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Ti.enqueueReplaceState(d,d.state,null),ji(e,n,d,o),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function wn(e,t){try{var n="",o=t;do n+=ge(o),o=o.return;while(o);var d=n}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:d,digest:null}}function La(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ia(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Zp=typeof WeakMap=="function"?WeakMap:Map;function nd(e,t,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){Ui||(Ui=!0,Qa=o),Ia(e,t)},n}function sd(e,t,n){n=qt(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var d=t.value;n.payload=function(){return o(d)},n.callback=function(){Ia(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(n.callback=function(){Ia(e,t),typeof o!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),n}function id(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new Zp;var d=new Set;o.set(t,d)}else d=o.get(t),d===void 0&&(d=new Set,o.set(t,d));d.has(n)||(d.add(n),e=hm.bind(null,e,t,n),t.then(e,e))}function od(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ad(e,t,n,o,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qt(-1,1),t.tag=2,cr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var em=V.ReactCurrentOwner,at=!1;function rt(e,t,n,o){t.child=e===null?Cc(t,null,n,o):gn(t,e.child,n,o)}function ld(e,t,n,o,d){n=n.render;var h=t.ref;return vn(t,d),o=Na(e,t,n,o,h,d),n=Ca(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Vt(e,t,d)):(Pe&&n&&ua(t),t.flags|=1,rt(e,t,o,d),t.child)}function ud(e,t,n,o,d){if(e===null){var h=n.type;return typeof h=="function"&&!nl(h)&&h.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=h,cd(e,t,h,o,d)):(e=Wi(n.type,null,o,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&d)===0){var g=h.memoizedProps;if(n=n.compare,n=n!==null?n:os,n(g,o)&&e.ref===t.ref)return Vt(e,t,d)}return t.flags|=1,e=gr(h,o),e.ref=t.ref,e.return=t,t.child=e}function cd(e,t,n,o,d){if(e!==null){var h=e.memoizedProps;if(os(h,o)&&e.ref===t.ref)if(at=!1,t.pendingProps=o=h,(e.lanes&d)!==0)(e.flags&131072)!==0&&(at=!0);else return t.lanes=e.lanes,Vt(e,t,d)}return $a(e,t,n,o,d)}function dd(e,t,n){var o=t.pendingProps,d=o.children,h=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(bn,gt),gt|=n;else{if((n&1073741824)===0)return e=h!==null?h.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(bn,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=h!==null?h.baseLanes:n,ke(bn,gt),gt|=o}else h!==null?(o=h.baseLanes|n,t.memoizedState=null):o=n,ke(bn,gt),gt|=o;return rt(e,t,d,n),t.child}function fd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $a(e,t,n,o,d){var h=ot(n)?Tr:Xe.current;return h=fn(t,h),vn(t,d),n=Na(e,t,n,o,h,d),o=Ca(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Vt(e,t,d)):(Pe&&o&&ua(t),t.flags|=1,rt(e,t,n,d),t.child)}function hd(e,t,n,o,d){if(ot(n)){var h=!0;pi(t)}else h=!1;if(vn(t,d),t.stateNode===null)Ri(e,t),td(t,n,o),Oa(t,n,o,d),o=!0;else if(e===null){var g=t.stateNode,w=t.memoizedProps;g.props=w;var b=g.context,T=n.contextType;typeof T=="object"&&T!==null?T=xt(T):(T=ot(n)?Tr:Xe.current,T=fn(t,T));var D=n.getDerivedStateFromProps,F=typeof D=="function"||typeof g.getSnapshotBeforeUpdate=="function";F||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==o||b!==T)&&rd(t,g,o,T),ur=!1;var U=t.memoizedState;g.state=U,ji(t,o,g,d),b=t.memoizedState,w!==o||U!==b||it.current||ur?(typeof D=="function"&&(Ra(t,n,D,o),b=t.memoizedState),(w=ur||ed(t,n,w,o,U,b,T))?(F||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=b),g.props=o,g.state=b,g.context=T,o=w):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{g=t.stateNode,Pc(e,t),w=t.memoizedProps,T=t.type===t.elementType?w:Nt(t.type,w),g.props=T,F=t.pendingProps,U=g.context,b=n.contextType,typeof b=="object"&&b!==null?b=xt(b):(b=ot(n)?Tr:Xe.current,b=fn(t,b));var H=n.getDerivedStateFromProps;(D=typeof H=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==F||U!==b)&&rd(t,g,o,b),ur=!1,U=t.memoizedState,g.state=U,ji(t,o,g,d);var J=t.memoizedState;w!==F||U!==J||it.current||ur?(typeof H=="function"&&(Ra(t,n,H,o),J=t.memoizedState),(T=ur||ed(t,n,T,o,U,J,b)||!1)?(D||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,J,b),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,J,b)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=J),g.props=o,g.state=J,g.context=b,o=T):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),o=!1)}return Ua(e,t,n,o,h,d)}function Ua(e,t,n,o,d,h){fd(e,t);var g=(t.flags&128)!==0;if(!o&&!g)return d&&vc(t,n,!1),Vt(e,t,h);o=t.stateNode,em.current=t;var w=g&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&g?(t.child=gn(t,e.child,null,h),t.child=gn(t,null,w,h)):rt(e,t,w,h),t.memoizedState=o.state,d&&vc(t,n,!0),t.child}function pd(e){var t=e.stateNode;t.pendingContext?gc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gc(e,t.context,!1),wa(e,t.containerInfo)}function md(e,t,n,o,d){return mn(),ha(d),t.flags|=256,rt(e,t,n,o),t.child}var Da={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function gd(e,t,n){var o=t.pendingProps,d=Ae.current,h=!1,g=(t.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(d&2)!==0),w?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),ke(Ae,d&1),e===null)return fa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=o.children,e=o.fallback,h?(o=t.mode,h=t.child,g={mode:"hidden",children:g},(o&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=g):h=qi(g,o,0,null),e=Mr(e,o,n,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=Fa(n),t.memoizedState=Da,e):Ma(t,g));if(d=e.memoizedState,d!==null&&(w=d.dehydrated,w!==null))return tm(e,t,g,o,w,d,n);if(h){h=o.fallback,g=t.mode,d=e.child,w=d.sibling;var b={mode:"hidden",children:o.children};return(g&1)===0&&t.child!==d?(o=t.child,o.childLanes=0,o.pendingProps=b,t.deletions=null):(o=gr(d,b),o.subtreeFlags=d.subtreeFlags&14680064),w!==null?h=gr(w,h):(h=Mr(h,g,n,null),h.flags|=2),h.return=t,o.return=t,o.sibling=h,t.child=o,o=h,h=t.child,g=e.child.memoizedState,g=g===null?Fa(n):{baseLanes:g.baseLanes|n,cachePool:null,transitions:g.transitions},h.memoizedState=g,h.childLanes=e.childLanes&~n,t.memoizedState=Da,o}return h=e.child,e=h.sibling,o=gr(h,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Ma(e,t){return t=qi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ai(e,t,n,o){return o!==null&&ha(o),gn(t,e.child,null,n),e=Ma(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tm(e,t,n,o,d,h,g){if(n)return t.flags&256?(t.flags&=-257,o=La(Error(s(422))),Ai(e,t,g,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=o.fallback,d=t.mode,o=qi({mode:"visible",children:o.children},d,0,null),h=Mr(h,d,g,null),h.flags|=2,o.return=t,h.return=t,o.sibling=h,t.child=o,(t.mode&1)!==0&&gn(t,e.child,null,g),t.child.memoizedState=Fa(g),t.memoizedState=Da,h);if((t.mode&1)===0)return Ai(e,t,g,null);if(d.data==="$!"){if(o=d.nextSibling&&d.nextSibling.dataset,o)var w=o.dgst;return o=w,h=Error(s(419)),o=La(h,o,void 0),Ai(e,t,g,o)}if(w=(g&e.childLanes)!==0,at||w){if(o=We,o!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(o.suspendedLanes|g))!==0?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,Wt(e,d),Pt(o,e,d,-1))}return rl(),o=La(Error(s(421))),Ai(e,t,g,o)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=pm.bind(null,e),d._reactRetry=t,null):(e=h.treeContext,mt=ir(d.nextSibling),pt=t,Pe=!0,St=null,e!==null&&(yt[vt++]=zt,yt[vt++]=Bt,yt[vt++]=Ar,zt=e.id,Bt=e.overflow,Ar=t),t=Ma(t,o.children),t.flags|=4096,t)}function yd(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),ya(e.return,t,n)}function za(e,t,n,o,d){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:d}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=n,h.tailMode=d)}function vd(e,t,n){var o=t.pendingProps,d=o.revealOrder,h=o.tail;if(rt(e,t,o.children,n),o=Ae.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yd(e,n,t);else if(e.tag===19)yd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ke(Ae,o),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(n=t.child,d=null;n!==null;)e=n.alternate,e!==null&&ki(e)===null&&(d=n),n=n.sibling;n=d,n===null?(d=t.child,t.child=null):(d=n.sibling,n.sibling=null),za(t,!1,d,n,h);break;case"backwards":for(n=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&ki(e)===null){t.child=d;break}e=d.sibling,d.sibling=n,n=d,d=e}za(t,!0,n,null,h);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ri(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$r|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=gr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rm(e,t,n){switch(t.tag){case 3:pd(t),mn();break;case 5:Rc(t);break;case 1:ot(t.type)&&pi(t);break;case 4:wa(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,d=t.memoizedProps.value;ke(wi,o._currentValue),o._currentValue=d;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ke(Ae,Ae.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?gd(e,t,n):(ke(Ae,Ae.current&1),e=Vt(e,t,n),e!==null?e.sibling:null);ke(Ae,Ae.current&1);break;case 19:if(o=(n&t.childLanes)!==0,(e.flags&128)!==0){if(o)return vd(e,t,n);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ke(Ae,Ae.current),o)break;return null;case 22:case 23:return t.lanes=0,dd(e,t,n)}return Vt(e,t,n)}var xd,Ba,wd,_d;xd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ba=function(){},wd=function(e,t,n,o){var d=e.memoizedProps;if(d!==o){e=t.stateNode,Lr(Lt.current);var h=null;switch(n){case"input":d=yo(e,d),o=yo(e,o),h=[];break;case"select":d=K({},d,{value:void 0}),o=K({},o,{value:void 0}),h=[];break;case"textarea":d=wo(e,d),o=wo(e,o),h=[];break;default:typeof d.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=di)}bo(n,o);var g;n=null;for(T in d)if(!o.hasOwnProperty(T)&&d.hasOwnProperty(T)&&d[T]!=null)if(T==="style"){var w=d[T];for(g in w)w.hasOwnProperty(g)&&(n||(n={}),n[g]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(l.hasOwnProperty(T)?h||(h=[]):(h=h||[]).push(T,null));for(T in o){var b=o[T];if(w=d!=null?d[T]:void 0,o.hasOwnProperty(T)&&b!==w&&(b!=null||w!=null))if(T==="style")if(w){for(g in w)!w.hasOwnProperty(g)||b&&b.hasOwnProperty(g)||(n||(n={}),n[g]="");for(g in b)b.hasOwnProperty(g)&&w[g]!==b[g]&&(n||(n={}),n[g]=b[g])}else n||(h||(h=[]),h.push(T,n)),n=b;else T==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,w=w?w.__html:void 0,b!=null&&w!==b&&(h=h||[]).push(T,b)):T==="children"?typeof b!="string"&&typeof b!="number"||(h=h||[]).push(T,""+b):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(l.hasOwnProperty(T)?(b!=null&&T==="onScroll"&&Ne("scroll",e),h||w===b||(h=[])):(h=h||[]).push(T,b))}n&&(h=h||[]).push("style",n);var T=h;(t.updateQueue=T)&&(t.flags|=4)}},_d=function(e,t,n,o){n!==o&&(t.flags|=4)};function _s(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var d=e.child;d!==null;)n|=d.lanes|d.childLanes,o|=d.subtreeFlags&14680064,o|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)n|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function nm(e,t,n){var o=t.pendingProps;switch(ca(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return ot(t.type)&&hi(),et(t),null;case 3:return o=t.stateNode,xn(),Ce(it),Ce(Xe),ja(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(vi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,St!==null&&(Za(St),St=null))),Ba(e,t),et(t),null;case 5:_a(t);var d=Lr(gs.current);if(n=t.type,e!==null&&t.stateNode!=null)wd(e,t,n,o,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(s(166));return et(t),null}if(e=Lr(Lt.current),vi(t)){o=t.stateNode,n=t.type;var h=t.memoizedProps;switch(o[Ot]=t,o[ds]=h,e=(t.mode&1)!==0,n){case"dialog":Ne("cancel",o),Ne("close",o);break;case"iframe":case"object":case"embed":Ne("load",o);break;case"video":case"audio":for(d=0;d<ls.length;d++)Ne(ls[d],o);break;case"source":Ne("error",o);break;case"img":case"image":case"link":Ne("error",o),Ne("load",o);break;case"details":Ne("toggle",o);break;case"input":tu(o,h),Ne("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!h.multiple},Ne("invalid",o);break;case"textarea":su(o,h),Ne("invalid",o)}bo(n,h),d=null;for(var g in h)if(h.hasOwnProperty(g)){var w=h[g];g==="children"?typeof w=="string"?o.textContent!==w&&(h.suppressHydrationWarning!==!0&&ci(o.textContent,w,e),d=["children",w]):typeof w=="number"&&o.textContent!==""+w&&(h.suppressHydrationWarning!==!0&&ci(o.textContent,w,e),d=["children",""+w]):l.hasOwnProperty(g)&&w!=null&&g==="onScroll"&&Ne("scroll",o)}switch(n){case"input":zs(o),nu(o,h,!0);break;case"textarea":zs(o),ou(o);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(o.onclick=di)}o=d,t.updateQueue=o,o!==null&&(t.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=au(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=g.createElement(n,{is:o.is}):(e=g.createElement(n),n==="select"&&(g=e,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):e=g.createElementNS(e,n),e[Ot]=t,e[ds]=o,xd(e,t,!1,!1),t.stateNode=e;e:{switch(g=jo(n,o),n){case"dialog":Ne("cancel",e),Ne("close",e),d=o;break;case"iframe":case"object":case"embed":Ne("load",e),d=o;break;case"video":case"audio":for(d=0;d<ls.length;d++)Ne(ls[d],e);d=o;break;case"source":Ne("error",e),d=o;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),d=o;break;case"details":Ne("toggle",e),d=o;break;case"input":tu(e,o),d=yo(e,o),Ne("invalid",e);break;case"option":d=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},d=K({},o,{value:void 0}),Ne("invalid",e);break;case"textarea":su(e,o),d=wo(e,o),Ne("invalid",e);break;default:d=o}bo(n,d),w=d;for(h in w)if(w.hasOwnProperty(h)){var b=w[h];h==="style"?cu(e,b):h==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&lu(e,b)):h==="children"?typeof b=="string"?(n!=="textarea"||b!=="")&&Wn(e,b):typeof b=="number"&&Wn(e,""+b):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(l.hasOwnProperty(h)?b!=null&&h==="onScroll"&&Ne("scroll",e):b!=null&&R(e,h,b,g))}switch(n){case"input":zs(e),nu(e,o,!1);break;case"textarea":zs(e),ou(e);break;case"option":o.value!=null&&e.setAttribute("value",""+xe(o.value));break;case"select":e.multiple=!!o.multiple,h=o.value,h!=null?Zr(e,!!o.multiple,h,!1):o.defaultValue!=null&&Zr(e,!!o.multiple,o.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=di)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)_d(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(s(166));if(n=Lr(gs.current),Lr(Lt.current),vi(t)){if(o=t.stateNode,n=t.memoizedProps,o[Ot]=t,(h=o.nodeValue!==n)&&(e=pt,e!==null))switch(e.tag){case 3:ci(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ci(o.nodeValue,n,(e.mode&1)!==0)}h&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Ot]=t,t.stateNode=o}return et(t),null;case 13:if(Ce(Ae),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&mt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)kc(),mn(),t.flags|=98560,h=!1;else if(h=vi(t),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ot]=t}else mn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),h=!1}else St!==null&&(Za(St),St=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ae.current&1)!==0?Fe===0&&(Fe=3):rl())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return xn(),Ba(e,t),e===null&&us(t.stateNode.containerInfo),et(t),null;case 10:return ga(t.type._context),et(t),null;case 17:return ot(t.type)&&hi(),et(t),null;case 19:if(Ce(Ae),h=t.memoizedState,h===null)return et(t),null;if(o=(t.flags&128)!==0,g=h.rendering,g===null)if(o)_s(h,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=ki(e),g!==null){for(t.flags|=128,_s(h,!1),o=g.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)h=n,e=o,h.flags&=14680066,g=h.alternate,g===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=g.childLanes,h.lanes=g.lanes,h.child=g.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=g.memoizedProps,h.memoizedState=g.memoizedState,h.updateQueue=g.updateQueue,h.type=g.type,e=g.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(Ae,Ae.current&1|2),t.child}e=e.sibling}h.tail!==null&&Le()>jn&&(t.flags|=128,o=!0,_s(h,!1),t.lanes=4194304)}else{if(!o)if(e=ki(g),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_s(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!Pe)return et(t),null}else 2*Le()-h.renderingStartTime>jn&&n!==1073741824&&(t.flags|=128,o=!0,_s(h,!1),t.lanes=4194304);h.isBackwards?(g.sibling=t.child,t.child=g):(n=h.last,n!==null?n.sibling=g:t.child=g,h.last=g)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Le(),t.sibling=null,n=Ae.current,ke(Ae,o?n&1|2:n&1),t):(et(t),null);case 22:case 23:return tl(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(gt&1073741824)!==0&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function sm(e,t){switch(ca(t),t.tag){case 1:return ot(t.type)&&hi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xn(),Ce(it),Ce(Xe),ja(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return _a(t),null;case 13:if(Ce(Ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Ae),null;case 4:return xn(),null;case 10:return ga(t.type._context),null;case 22:case 23:return tl(),null;case 24:return null;default:return null}}var Oi=!1,tt=!1,im=typeof WeakSet=="function"?WeakSet:Set,G=null;function _n(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){Oe(e,t,o)}else n.current=null}function Wa(e,t,n){try{n()}catch(o){Oe(e,t,o)}}var bd=!1;function om(e,t){if(ta=Zs,e=ec(),Ko(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var d=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{n.nodeType,h.nodeType}catch{n=null;break e}var g=0,w=-1,b=-1,T=0,D=0,F=e,U=null;t:for(;;){for(var H;F!==n||d!==0&&F.nodeType!==3||(w=g+d),F!==h||o!==0&&F.nodeType!==3||(b=g+o),F.nodeType===3&&(g+=F.nodeValue.length),(H=F.firstChild)!==null;)U=F,F=H;for(;;){if(F===e)break t;if(U===n&&++T===d&&(w=g),U===h&&++D===o&&(b=g),(H=F.nextSibling)!==null)break;F=U,U=F.parentNode}F=H}n=w===-1||b===-1?null:{start:w,end:b}}else n=null}n=n||{start:0,end:0}}else n=null;for(ra={focusedElem:e,selectionRange:n},Zs=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var J=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(J!==null){var Q=J.memoizedProps,Ie=J.memoizedState,C=t.stateNode,j=C.getSnapshotBeforeUpdate(t.elementType===t.type?Q:Nt(t.type,Q),Ie);C.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(B){Oe(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return J=bd,bd=!1,J}function bs(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&e)===e){var h=d.destroy;d.destroy=void 0,h!==void 0&&Wa(t,n,h)}d=d.next}while(d!==o)}}function Li(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function qa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jd(e){var t=e.alternate;t!==null&&(e.alternate=null,jd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ot],delete t[ds],delete t[oa],delete t[Bp],delete t[Wp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kd(e){return e.tag===5||e.tag===3||e.tag===4}function Sd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Va(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=di));else if(o!==4&&(e=e.child,e!==null))for(Va(e,t,n),e=e.sibling;e!==null;)Va(e,t,n),e=e.sibling}function Ha(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Ha(e,t,n),e=e.sibling;e!==null;)Ha(e,t,n),e=e.sibling}var Ke=null,Ct=!1;function dr(e,t,n){for(n=n.child;n!==null;)Nd(e,t,n),n=n.sibling}function Nd(e,t,n){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Ks,n)}catch{}switch(n.tag){case 5:tt||_n(n,t);case 6:var o=Ke,d=Ct;Ke=null,dr(e,t,n),Ke=o,Ct=d,Ke!==null&&(Ct?(e=Ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(Ct?(e=Ke,n=n.stateNode,e.nodeType===8?ia(e.parentNode,n):e.nodeType===1&&ia(e,n),es(e)):ia(Ke,n.stateNode));break;case 4:o=Ke,d=Ct,Ke=n.stateNode.containerInfo,Ct=!0,dr(e,t,n),Ke=o,Ct=d;break;case 0:case 11:case 14:case 15:if(!tt&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){d=o=o.next;do{var h=d,g=h.destroy;h=h.tag,g!==void 0&&((h&2)!==0||(h&4)!==0)&&Wa(n,t,g),d=d.next}while(d!==o)}dr(e,t,n);break;case 1:if(!tt&&(_n(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(w){Oe(n,t,w)}dr(e,t,n);break;case 21:dr(e,t,n);break;case 22:n.mode&1?(tt=(o=tt)||n.memoizedState!==null,dr(e,t,n),tt=o):dr(e,t,n);break;default:dr(e,t,n)}}function Cd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new im),t.forEach(function(o){var d=mm.bind(null,e,o);n.has(o)||(n.add(o),o.then(d,d))})}}function Et(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var d=n[o];try{var h=e,g=t,w=g;e:for(;w!==null;){switch(w.tag){case 5:Ke=w.stateNode,Ct=!1;break e;case 3:Ke=w.stateNode.containerInfo,Ct=!0;break e;case 4:Ke=w.stateNode.containerInfo,Ct=!0;break e}w=w.return}if(Ke===null)throw Error(s(160));Nd(h,g,d),Ke=null,Ct=!1;var b=d.alternate;b!==null&&(b.return=null),d.return=null}catch(T){Oe(d,t,T)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ed(t,e),t=t.sibling}function Ed(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),$t(e),o&4){try{bs(3,e,e.return),Li(3,e)}catch(Q){Oe(e,e.return,Q)}try{bs(5,e,e.return)}catch(Q){Oe(e,e.return,Q)}}break;case 1:Et(t,e),$t(e),o&512&&n!==null&&_n(n,n.return);break;case 5:if(Et(t,e),$t(e),o&512&&n!==null&&_n(n,n.return),e.flags&32){var d=e.stateNode;try{Wn(d,"")}catch(Q){Oe(e,e.return,Q)}}if(o&4&&(d=e.stateNode,d!=null)){var h=e.memoizedProps,g=n!==null?n.memoizedProps:h,w=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{w==="input"&&h.type==="radio"&&h.name!=null&&ru(d,h),jo(w,g);var T=jo(w,h);for(g=0;g<b.length;g+=2){var D=b[g],F=b[g+1];D==="style"?cu(d,F):D==="dangerouslySetInnerHTML"?lu(d,F):D==="children"?Wn(d,F):R(d,D,F,T)}switch(w){case"input":vo(d,h);break;case"textarea":iu(d,h);break;case"select":var U=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var H=h.value;H!=null?Zr(d,!!h.multiple,H,!1):U!==!!h.multiple&&(h.defaultValue!=null?Zr(d,!!h.multiple,h.defaultValue,!0):Zr(d,!!h.multiple,h.multiple?[]:"",!1))}d[ds]=h}catch(Q){Oe(e,e.return,Q)}}break;case 6:if(Et(t,e),$t(e),o&4){if(e.stateNode===null)throw Error(s(162));d=e.stateNode,h=e.memoizedProps;try{d.nodeValue=h}catch(Q){Oe(e,e.return,Q)}}break;case 3:if(Et(t,e),$t(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{es(t.containerInfo)}catch(Q){Oe(e,e.return,Q)}break;case 4:Et(t,e),$t(e);break;case 13:Et(t,e),$t(e),d=e.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(Ja=Le())),o&4&&Cd(e);break;case 22:if(D=n!==null&&n.memoizedState!==null,e.mode&1?(tt=(T=tt)||D,Et(t,e),tt=T):Et(t,e),$t(e),o&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!D&&(e.mode&1)!==0)for(G=e,D=e.child;D!==null;){for(F=G=D;G!==null;){switch(U=G,H=U.child,U.tag){case 0:case 11:case 14:case 15:bs(4,U,U.return);break;case 1:_n(U,U.return);var J=U.stateNode;if(typeof J.componentWillUnmount=="function"){o=U,n=U.return;try{t=o,J.props=t.memoizedProps,J.state=t.memoizedState,J.componentWillUnmount()}catch(Q){Oe(o,n,Q)}}break;case 5:_n(U,U.return);break;case 22:if(U.memoizedState!==null){Ad(F);continue}}H!==null?(H.return=U,G=H):Ad(F)}D=D.sibling}e:for(D=null,F=e;;){if(F.tag===5){if(D===null){D=F;try{d=F.stateNode,T?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(w=F.stateNode,b=F.memoizedProps.style,g=b!=null&&b.hasOwnProperty("display")?b.display:null,w.style.display=uu("display",g))}catch(Q){Oe(e,e.return,Q)}}}else if(F.tag===6){if(D===null)try{F.stateNode.nodeValue=T?"":F.memoizedProps}catch(Q){Oe(e,e.return,Q)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===e)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===e)break e;for(;F.sibling===null;){if(F.return===null||F.return===e)break e;D===F&&(D=null),F=F.return}D===F&&(D=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:Et(t,e),$t(e),o&4&&Cd(e);break;case 21:break;default:Et(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kd(n)){var o=n;break e}n=n.return}throw Error(s(160))}switch(o.tag){case 5:var d=o.stateNode;o.flags&32&&(Wn(d,""),o.flags&=-33);var h=Sd(e);Ha(e,h,d);break;case 3:case 4:var g=o.stateNode.containerInfo,w=Sd(e);Va(e,w,g);break;default:throw Error(s(161))}}catch(b){Oe(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function am(e,t,n){G=e,Pd(e)}function Pd(e,t,n){for(var o=(e.mode&1)!==0;G!==null;){var d=G,h=d.child;if(d.tag===22&&o){var g=d.memoizedState!==null||Oi;if(!g){var w=d.alternate,b=w!==null&&w.memoizedState!==null||tt;w=Oi;var T=tt;if(Oi=g,(tt=b)&&!T)for(G=d;G!==null;)g=G,b=g.child,g.tag===22&&g.memoizedState!==null?Rd(d):b!==null?(b.return=g,G=b):Rd(d);for(;h!==null;)G=h,Pd(h),h=h.sibling;G=d,Oi=w,tt=T}Td(e)}else(d.subtreeFlags&8772)!==0&&h!==null?(h.return=d,G=h):Td(e)}}function Td(e){for(;G!==null;){var t=G;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:tt||Li(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!tt)if(n===null)o.componentDidMount();else{var d=t.elementType===t.type?n.memoizedProps:Nt(t.type,n.memoizedProps);o.componentDidUpdate(d,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&Ac(t,h,o);break;case 3:var g=t.updateQueue;if(g!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ac(t,g,n)}break;case 5:var w=t.stateNode;if(n===null&&t.flags&4){n=w;var b=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&n.focus();break;case"img":b.src&&(n.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var T=t.alternate;if(T!==null){var D=T.memoizedState;if(D!==null){var F=D.dehydrated;F!==null&&es(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}tt||t.flags&512&&qa(t)}catch(U){Oe(t,t.return,U)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function Ad(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function Rd(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Li(4,t)}catch(b){Oe(t,n,b)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var d=t.return;try{o.componentDidMount()}catch(b){Oe(t,d,b)}}var h=t.return;try{qa(t)}catch(b){Oe(t,h,b)}break;case 5:var g=t.return;try{qa(t)}catch(b){Oe(t,g,b)}}}catch(b){Oe(t,t.return,b)}if(t===e){G=null;break}var w=t.sibling;if(w!==null){w.return=t.return,G=w;break}G=t.return}}var lm=Math.ceil,Ii=V.ReactCurrentDispatcher,Ka=V.ReactCurrentOwner,_t=V.ReactCurrentBatchConfig,me=0,We=null,Ue=null,Ge=0,gt=0,bn=or(0),Fe=0,js=null,$r=0,$i=0,Ga=0,ks=null,lt=null,Ja=0,jn=1/0,Ht=null,Ui=!1,Qa=null,fr=null,Di=!1,hr=null,Fi=0,Ss=0,Ya=null,Mi=-1,zi=0;function nt(){return(me&6)!==0?Le():Mi!==-1?Mi:Mi=Le()}function pr(e){return(e.mode&1)===0?1:(me&2)!==0&&Ge!==0?Ge&-Ge:Vp.transition!==null?(zi===0&&(zi=Su()),zi):(e=we,e!==0||(e=window.event,e=e===void 0?16:Lu(e.type)),e)}function Pt(e,t,n,o){if(50<Ss)throw Ss=0,Ya=null,Error(s(185));Jn(e,n,o),((me&2)===0||e!==We)&&(e===We&&((me&2)===0&&($i|=n),Fe===4&&mr(e,Ge)),ut(e,o),n===1&&me===0&&(t.mode&1)===0&&(jn=Le()+500,mi&&lr()))}function ut(e,t){var n=e.callbackNode;Vh(e,t);var o=Qs(e,e===We?Ge:0);if(o===0)n!==null&&bu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&bu(n),t===1)e.tag===0?qp(Ld.bind(null,e)):xc(Ld.bind(null,e)),Mp(function(){(me&6)===0&&lr()}),n=null;else{switch(Nu(o)){case 1:n=To;break;case 4:n=ju;break;case 16:n=Hs;break;case 536870912:n=ku;break;default:n=Hs}n=Bd(n,Od.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Od(e,t){if(Mi=-1,zi=0,(me&6)!==0)throw Error(s(327));var n=e.callbackNode;if(kn()&&e.callbackNode!==n)return null;var o=Qs(e,e===We?Ge:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=Bi(e,o);else{t=o;var d=me;me|=2;var h=$d();(We!==e||Ge!==t)&&(Ht=null,jn=Le()+500,Dr(e,t));do try{dm();break}catch(w){Id(e,w)}while(!0);ma(),Ii.current=h,me=d,Ue!==null?t=0:(We=null,Ge=0,t=Fe)}if(t!==0){if(t===2&&(d=Ao(e),d!==0&&(o=d,t=Xa(e,d))),t===1)throw n=js,Dr(e,0),mr(e,o),ut(e,Le()),n;if(t===6)mr(e,o);else{if(d=e.current.alternate,(o&30)===0&&!um(d)&&(t=Bi(e,o),t===2&&(h=Ao(e),h!==0&&(o=h,t=Xa(e,h))),t===1))throw n=js,Dr(e,0),mr(e,o),ut(e,Le()),n;switch(e.finishedWork=d,e.finishedLanes=o,t){case 0:case 1:throw Error(s(345));case 2:Fr(e,lt,Ht);break;case 3:if(mr(e,o),(o&130023424)===o&&(t=Ja+500-Le(),10<t)){if(Qs(e,0)!==0)break;if(d=e.suspendedLanes,(d&o)!==o){nt(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=sa(Fr.bind(null,e,lt,Ht),t);break}Fr(e,lt,Ht);break;case 4:if(mr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,d=-1;0<o;){var g=31-jt(o);h=1<<g,g=t[g],g>d&&(d=g),o&=~h}if(o=d,o=Le()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*lm(o/1960))-o,10<o){e.timeoutHandle=sa(Fr.bind(null,e,lt,Ht),o);break}Fr(e,lt,Ht);break;case 5:Fr(e,lt,Ht);break;default:throw Error(s(329))}}}return ut(e,Le()),e.callbackNode===n?Od.bind(null,e):null}function Xa(e,t){var n=ks;return e.current.memoizedState.isDehydrated&&(Dr(e,t).flags|=256),e=Bi(e,t),e!==2&&(t=lt,lt=n,t!==null&&Za(t)),e}function Za(e){lt===null?lt=e:lt.push.apply(lt,e)}function um(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var d=n[o],h=d.getSnapshot;d=d.value;try{if(!kt(h(),d))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mr(e,t){for(t&=~Ga,t&=~$i,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),o=1<<n;e[n]=-1,t&=~o}}function Ld(e){if((me&6)!==0)throw Error(s(327));kn();var t=Qs(e,0);if((t&1)===0)return ut(e,Le()),null;var n=Bi(e,t);if(e.tag!==0&&n===2){var o=Ao(e);o!==0&&(t=o,n=Xa(e,o))}if(n===1)throw n=js,Dr(e,0),mr(e,t),ut(e,Le()),n;if(n===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fr(e,lt,Ht),ut(e,Le()),null}function el(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(jn=Le()+500,mi&&lr())}}function Ur(e){hr!==null&&hr.tag===0&&(me&6)===0&&kn();var t=me;me|=1;var n=_t.transition,o=we;try{if(_t.transition=null,we=1,e)return e()}finally{we=o,_t.transition=n,me=t,(me&6)===0&&lr()}}function tl(){gt=bn.current,Ce(bn)}function Dr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Fp(n)),Ue!==null)for(n=Ue.return;n!==null;){var o=n;switch(ca(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&hi();break;case 3:xn(),Ce(it),Ce(Xe),ja();break;case 5:_a(o);break;case 4:xn();break;case 13:Ce(Ae);break;case 19:Ce(Ae);break;case 10:ga(o.type._context);break;case 22:case 23:tl()}n=n.return}if(We=e,Ue=e=gr(e.current,null),Ge=gt=t,Fe=0,js=null,Ga=$i=$r=0,lt=ks=null,Or!==null){for(t=0;t<Or.length;t++)if(n=Or[t],o=n.interleaved,o!==null){n.interleaved=null;var d=o.next,h=n.pending;if(h!==null){var g=h.next;h.next=d,o.next=g}n.pending=o}Or=null}return e}function Id(e,t){do{var n=Ue;try{if(ma(),Si.current=Pi,Ni){for(var o=Re.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}Ni=!1}if(Ir=0,Be=De=Re=null,ys=!1,vs=0,Ka.current=null,n===null||n.return===null){Fe=1,js=t,Ue=null;break}e:{var h=e,g=n.return,w=n,b=t;if(t=Ge,w.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var T=b,D=w,F=D.tag;if((D.mode&1)===0&&(F===0||F===11||F===15)){var U=D.alternate;U?(D.updateQueue=U.updateQueue,D.memoizedState=U.memoizedState,D.lanes=U.lanes):(D.updateQueue=null,D.memoizedState=null)}var H=od(g);if(H!==null){H.flags&=-257,ad(H,g,w,h,t),H.mode&1&&id(h,T,t),t=H,b=T;var J=t.updateQueue;if(J===null){var Q=new Set;Q.add(b),t.updateQueue=Q}else J.add(b);break e}else{if((t&1)===0){id(h,T,t),rl();break e}b=Error(s(426))}}else if(Pe&&w.mode&1){var Ie=od(g);if(Ie!==null){(Ie.flags&65536)===0&&(Ie.flags|=256),ad(Ie,g,w,h,t),ha(wn(b,w));break e}}h=b=wn(b,w),Fe!==4&&(Fe=2),ks===null?ks=[h]:ks.push(h),h=g;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var C=nd(h,b,t);Tc(h,C);break e;case 1:w=b;var j=h.type,P=h.stateNode;if((h.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(fr===null||!fr.has(P)))){h.flags|=65536,t&=-t,h.lanes|=t;var B=sd(h,w,t);Tc(h,B);break e}}h=h.return}while(h!==null)}Dd(n)}catch(X){t=X,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function $d(){var e=Ii.current;return Ii.current=Pi,e===null?Pi:e}function rl(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),We===null||($r&268435455)===0&&($i&268435455)===0||mr(We,Ge)}function Bi(e,t){var n=me;me|=2;var o=$d();(We!==e||Ge!==t)&&(Ht=null,Dr(e,t));do try{cm();break}catch(d){Id(e,d)}while(!0);if(ma(),me=n,Ii.current=o,Ue!==null)throw Error(s(261));return We=null,Ge=0,Fe}function cm(){for(;Ue!==null;)Ud(Ue)}function dm(){for(;Ue!==null&&!$h();)Ud(Ue)}function Ud(e){var t=zd(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?Dd(e):Ue=t,Ka.current=null}function Dd(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=nm(n,t,gt),n!==null){Ue=n;return}}else{if(n=sm(n,t),n!==null){n.flags&=32767,Ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,Ue=null;return}}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);Fe===0&&(Fe=5)}function Fr(e,t,n){var o=we,d=_t.transition;try{_t.transition=null,we=1,fm(e,t,n,o)}finally{_t.transition=d,we=o}return null}function fm(e,t,n,o){do kn();while(hr!==null);if((me&6)!==0)throw Error(s(327));n=e.finishedWork;var d=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var h=n.lanes|n.childLanes;if(Hh(e,h),e===We&&(Ue=We=null,Ge=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Di||(Di=!0,Bd(Hs,function(){return kn(),null})),h=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||h){h=_t.transition,_t.transition=null;var g=we;we=1;var w=me;me|=4,Ka.current=null,om(e,n),Ed(n,e),Rp(ra),Zs=!!ta,ra=ta=null,e.current=n,am(n),Uh(),me=w,we=g,_t.transition=h}else e.current=n;if(Di&&(Di=!1,hr=e,Fi=d),h=e.pendingLanes,h===0&&(fr=null),Mh(n.stateNode),ut(e,Le()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)d=t[n],o(d.value,{componentStack:d.stack,digest:d.digest});if(Ui)throw Ui=!1,e=Qa,Qa=null,e;return(Fi&1)!==0&&e.tag!==0&&kn(),h=e.pendingLanes,(h&1)!==0?e===Ya?Ss++:(Ss=0,Ya=e):Ss=0,lr(),null}function kn(){if(hr!==null){var e=Nu(Fi),t=_t.transition,n=we;try{if(_t.transition=null,we=16>e?16:e,hr===null)var o=!1;else{if(e=hr,hr=null,Fi=0,(me&6)!==0)throw Error(s(331));var d=me;for(me|=4,G=e.current;G!==null;){var h=G,g=h.child;if((G.flags&16)!==0){var w=h.deletions;if(w!==null){for(var b=0;b<w.length;b++){var T=w[b];for(G=T;G!==null;){var D=G;switch(D.tag){case 0:case 11:case 15:bs(8,D,h)}var F=D.child;if(F!==null)F.return=D,G=F;else for(;G!==null;){D=G;var U=D.sibling,H=D.return;if(jd(D),D===T){G=null;break}if(U!==null){U.return=H,G=U;break}G=H}}}var J=h.alternate;if(J!==null){var Q=J.child;if(Q!==null){J.child=null;do{var Ie=Q.sibling;Q.sibling=null,Q=Ie}while(Q!==null)}}G=h}}if((h.subtreeFlags&2064)!==0&&g!==null)g.return=h,G=g;else e:for(;G!==null;){if(h=G,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:bs(9,h,h.return)}var C=h.sibling;if(C!==null){C.return=h.return,G=C;break e}G=h.return}}var j=e.current;for(G=j;G!==null;){g=G;var P=g.child;if((g.subtreeFlags&2064)!==0&&P!==null)P.return=g,G=P;else e:for(g=j;G!==null;){if(w=G,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:Li(9,w)}}catch(X){Oe(w,w.return,X)}if(w===g){G=null;break e}var B=w.sibling;if(B!==null){B.return=w.return,G=B;break e}G=w.return}}if(me=d,lr(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Ks,e)}catch{}o=!0}return o}finally{we=n,_t.transition=t}}return!1}function Fd(e,t,n){t=wn(n,t),t=nd(e,t,1),e=cr(e,t,1),t=nt(),e!==null&&(Jn(e,1,t),ut(e,t))}function Oe(e,t,n){if(e.tag===3)Fd(e,e,n);else for(;t!==null;){if(t.tag===3){Fd(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(fr===null||!fr.has(o))){e=wn(n,e),e=sd(t,e,1),t=cr(t,e,1),e=nt(),t!==null&&(Jn(t,1,e),ut(t,e));break}}t=t.return}}function hm(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(Ge&n)===n&&(Fe===4||Fe===3&&(Ge&130023424)===Ge&&500>Le()-Ja?Dr(e,0):Ga|=n),ut(e,t)}function Md(e,t){t===0&&((e.mode&1)===0?t=1:(t=Js,Js<<=1,(Js&130023424)===0&&(Js=4194304)));var n=nt();e=Wt(e,t),e!==null&&(Jn(e,t,n),ut(e,n))}function pm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Md(e,n)}function mm(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(n=d.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(s(314))}o!==null&&o.delete(t),Md(e,n)}var zd;zd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)at=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return at=!1,rm(e,t,n);at=(e.flags&131072)!==0}else at=!1,Pe&&(t.flags&1048576)!==0&&wc(t,yi,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Ri(e,t),e=t.pendingProps;var d=fn(t,Xe.current);vn(t,n),d=Na(null,t,o,e,d,n);var h=Ca();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(o)?(h=!0,pi(t)):h=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,xa(t),d.updater=Ti,t.stateNode=d,d._reactInternals=t,Oa(t,o,e,n),t=Ua(null,t,o,!0,h,n)):(t.tag=0,Pe&&h&&ua(t),rt(null,t,d,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Ri(e,t),e=t.pendingProps,d=o._init,o=d(o._payload),t.type=o,d=t.tag=ym(o),e=Nt(o,e),d){case 0:t=$a(null,t,o,e,n);break e;case 1:t=hd(null,t,o,e,n);break e;case 11:t=ld(null,t,o,e,n);break e;case 14:t=ud(null,t,o,Nt(o.type,e),n);break e}throw Error(s(306,o,""))}return t;case 0:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Nt(o,d),$a(e,t,o,d,n);case 1:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Nt(o,d),hd(e,t,o,d,n);case 3:e:{if(pd(t),e===null)throw Error(s(387));o=t.pendingProps,h=t.memoizedState,d=h.element,Pc(e,t),ji(t,o,null,n);var g=t.memoizedState;if(o=g.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){d=wn(Error(s(423)),t),t=md(e,t,o,n,d);break e}else if(o!==d){d=wn(Error(s(424)),t),t=md(e,t,o,n,d);break e}else for(mt=ir(t.stateNode.containerInfo.firstChild),pt=t,Pe=!0,St=null,n=Cc(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mn(),o===d){t=Vt(e,t,n);break e}rt(e,t,o,n)}t=t.child}return t;case 5:return Rc(t),e===null&&fa(t),o=t.type,d=t.pendingProps,h=e!==null?e.memoizedProps:null,g=d.children,na(o,d)?g=null:h!==null&&na(o,h)&&(t.flags|=32),fd(e,t),rt(e,t,g,n),t.child;case 6:return e===null&&fa(t),null;case 13:return gd(e,t,n);case 4:return wa(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=gn(t,null,o,n):rt(e,t,o,n),t.child;case 11:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Nt(o,d),ld(e,t,o,d,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,d=t.pendingProps,h=t.memoizedProps,g=d.value,ke(wi,o._currentValue),o._currentValue=g,h!==null)if(kt(h.value,g)){if(h.children===d.children&&!it.current){t=Vt(e,t,n);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var w=h.dependencies;if(w!==null){g=h.child;for(var b=w.firstContext;b!==null;){if(b.context===o){if(h.tag===1){b=qt(-1,n&-n),b.tag=2;var T=h.updateQueue;if(T!==null){T=T.shared;var D=T.pending;D===null?b.next=b:(b.next=D.next,D.next=b),T.pending=b}}h.lanes|=n,b=h.alternate,b!==null&&(b.lanes|=n),ya(h.return,n,t),w.lanes|=n;break}b=b.next}}else if(h.tag===10)g=h.type===t.type?null:h.child;else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=n,w=g.alternate,w!==null&&(w.lanes|=n),ya(g,n,t),g=h.sibling}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}rt(e,t,d.children,n),t=t.child}return t;case 9:return d=t.type,o=t.pendingProps.children,vn(t,n),d=xt(d),o=o(d),t.flags|=1,rt(e,t,o,n),t.child;case 14:return o=t.type,d=Nt(o,t.pendingProps),d=Nt(o.type,d),ud(e,t,o,d,n);case 15:return cd(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Nt(o,d),Ri(e,t),t.tag=1,ot(o)?(e=!0,pi(t)):e=!1,vn(t,n),td(t,o,d),Oa(t,o,d,n),Ua(null,t,o,!0,e,n);case 19:return vd(e,t,n);case 22:return dd(e,t,n)}throw Error(s(156,t.tag))};function Bd(e,t){return _u(e,t)}function gm(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,n,o){return new gm(e,t,n,o)}function nl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ym(e){if(typeof e=="function")return nl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Te)return 11;if(e===W)return 14}return 2}function gr(e,t){var n=e.alternate;return n===null?(n=bt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wi(e,t,n,o,d,h){var g=2;if(o=e,typeof e=="function")nl(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Z:return Mr(n.children,d,h,t);case I:g=8,d|=8;break;case Y:return e=bt(12,n,t,d|2),e.elementType=Y,e.lanes=h,e;case be:return e=bt(13,n,t,d),e.elementType=be,e.lanes=h,e;case Ye:return e=bt(19,n,t,d),e.elementType=Ye,e.lanes=h,e;case pe:return qi(n,d,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case le:g=10;break e;case ze:g=9;break e;case Te:g=11;break e;case W:g=14;break e;case ae:g=16,o=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=bt(g,n,t,d),t.elementType=e,t.type=o,t.lanes=h,t}function Mr(e,t,n,o){return e=bt(7,e,o,t),e.lanes=n,e}function qi(e,t,n,o){return e=bt(22,e,o,t),e.elementType=pe,e.lanes=n,e.stateNode={isHidden:!1},e}function sl(e,t,n){return e=bt(6,e,null,t),e.lanes=n,e}function il(e,t,n){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vm(e,t,n,o,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ro(0),this.expirationTimes=Ro(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ro(0),this.identifierPrefix=o,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function ol(e,t,n,o,d,h,g,w,b){return e=new vm(e,t,n,w,b),t===1?(t=1,h===!0&&(t|=8)):t=0,h=bt(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xa(h),e}function xm(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function Wd(e){if(!e)return ar;e=e._reactInternals;e:{if(Er(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var n=e.type;if(ot(n))return yc(e,n,t)}return t}function qd(e,t,n,o,d,h,g,w,b){return e=ol(n,o,!0,e,d,h,g,w,b),e.context=Wd(null),n=e.current,o=nt(),d=pr(n),h=qt(o,d),h.callback=t??null,cr(n,h,d),e.current.lanes=d,Jn(e,d,o),ut(e,o),e}function Vi(e,t,n,o){var d=t.current,h=nt(),g=pr(d);return n=Wd(n),t.context===null?t.context=n:t.pendingContext=n,t=qt(h,g),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=cr(d,t,g),e!==null&&(Pt(e,d,g,h),bi(e,d,g)),g}function Hi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function al(e,t){Vd(e,t),(e=e.alternate)&&Vd(e,t)}function wm(){return null}var Hd=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}Ki.prototype.render=ll.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));Vi(e,t,null,null)},Ki.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ur(function(){Vi(null,e,null,null)}),t[Ft]=null}};function Ki(e){this._internalRoot=e}Ki.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<rr.length&&t!==0&&t<rr[n].priority;n++);rr.splice(n,0,e),n===0&&Ru(e)}};function ul(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kd(){}function _m(e,t,n,o,d){if(d){if(typeof o=="function"){var h=o;o=function(){var T=Hi(g);h.call(T)}}var g=qd(t,o,e,0,null,!1,!1,"",Kd);return e._reactRootContainer=g,e[Ft]=g.current,us(e.nodeType===8?e.parentNode:e),Ur(),g}for(;d=e.lastChild;)e.removeChild(d);if(typeof o=="function"){var w=o;o=function(){var T=Hi(b);w.call(T)}}var b=ol(e,0,!1,null,null,!1,!1,"",Kd);return e._reactRootContainer=b,e[Ft]=b.current,us(e.nodeType===8?e.parentNode:e),Ur(function(){Vi(t,b,n,o)}),b}function Ji(e,t,n,o,d){var h=n._reactRootContainer;if(h){var g=h;if(typeof d=="function"){var w=d;d=function(){var b=Hi(g);w.call(b)}}Vi(t,g,e,d)}else g=_m(n,t,e,d,o);return Hi(g)}Cu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gn(t.pendingLanes);n!==0&&(Oo(t,n|1),ut(t,Le()),(me&6)===0&&(jn=Le()+500,lr()))}break;case 13:Ur(function(){var o=Wt(e,1);if(o!==null){var d=nt();Pt(o,e,1,d)}}),al(e,1)}},Lo=function(e){if(e.tag===13){var t=Wt(e,134217728);if(t!==null){var n=nt();Pt(t,e,134217728,n)}al(e,134217728)}},Eu=function(e){if(e.tag===13){var t=pr(e),n=Wt(e,t);if(n!==null){var o=nt();Pt(n,e,t,o)}al(e,t)}},Pu=function(){return we},Tu=function(e,t){var n=we;try{return we=e,t()}finally{we=n}},No=function(e,t,n){switch(t){case"input":if(vo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var d=fi(o);if(!d)throw Error(s(90));eu(o),vo(o,d)}}}break;case"textarea":iu(e,n);break;case"select":t=n.value,t!=null&&Zr(e,!!n.multiple,t,!1)}},pu=el,mu=Ur;var bm={usingClientEntryPoint:!1,Events:[fs,cn,fi,fu,hu,el]},Ns={findFiberByHostInstance:Pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jm={bundleType:Ns.bundleType,version:Ns.version,rendererPackageName:Ns.rendererPackageName,rendererConfig:Ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xu(e),e===null?null:e.stateNode},findFiberByHostInstance:Ns.findFiberByHostInstance||wm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qi.isDisabled&&Qi.supportsFiber)try{Ks=Qi.inject(jm),Rt=Qi}catch{}}return ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bm,ct.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ul(t))throw Error(s(200));return xm(e,t,null,n)},ct.createRoot=function(e,t){if(!ul(e))throw Error(s(299));var n=!1,o="",d=Hd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=ol(e,1,!1,null,null,n,!1,o,d),e[Ft]=t.current,us(e.nodeType===8?e.parentNode:e),new ll(t)},ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=xu(t),e=e===null?null:e.stateNode,e},ct.flushSync=function(e){return Ur(e)},ct.hydrate=function(e,t,n){if(!Gi(t))throw Error(s(200));return Ji(null,e,t,!0,n)},ct.hydrateRoot=function(e,t,n){if(!ul(e))throw Error(s(405));var o=n!=null&&n.hydratedSources||null,d=!1,h="",g=Hd;if(n!=null&&(n.unstable_strictMode===!0&&(d=!0),n.identifierPrefix!==void 0&&(h=n.identifierPrefix),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),t=qd(t,null,e,1,n??null,d,!1,h,g),e[Ft]=t.current,us(e),o)for(e=0;e<o.length;e++)n=o[e],d=n._getVersion,d=d(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,d]:t.mutableSourceEagerHydrationData.push(n,d);return new Ki(t)},ct.render=function(e,t,n){if(!Gi(t))throw Error(s(200));return Ji(null,e,t,!1,n)},ct.unmountComponentAtNode=function(e){if(!Gi(e))throw Error(s(40));return e._reactRootContainer?(Ur(function(){Ji(null,null,e,!1,function(){e._reactRootContainer=null,e[Ft]=null})}),!0):!1},ct.unstable_batchedUpdates=el,ct.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Gi(n))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ji(e,t,n,!1,o)},ct.version="18.3.1-next-f1338f8080-20240426",ct}var tf;function qf(){if(tf)return fl.exports;tf=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),fl.exports=Om(),fl.exports}var rf;function Lm(){if(rf)return Yi;rf=1;var i=qf();return Yi.createRoot=i.createRoot,Yi.hydrateRoot=i.hydrateRoot,Yi}var Im=Lm();const $m=i=>i instanceof Error?i.message+`
`+i.stack:JSON.stringify(i,null,2);class Um extends Wf.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}render(){return this.state.hasError?u.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[u.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),u.jsx("pre",{className:"mt-2 text-sm",children:$m(this.state.error)})]}):this.props.children}}qf();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Is(){return Is=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},Is.apply(this,arguments)}var br;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(br||(br={}));const nf="popstate";function Dm(i){i===void 0&&(i={});function r(a,l){let{pathname:c,search:f,hash:p}=a.location;return jl("",{pathname:c,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(a,l){return typeof l=="string"?l:io(l)}return Mm(r,s,null,i)}function $e(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}function Vf(i,r){if(!i){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Fm(){return Math.random().toString(36).substr(2,8)}function sf(i,r){return{usr:i.state,key:i.key,idx:r}}function jl(i,r,s,a){return s===void 0&&(s=null),Is({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof r=="string"?Dn(r):r,{state:s,key:r&&r.key||a||Fm()})}function io(i){let{pathname:r="/",search:s="",hash:a=""}=i;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Dn(i){let r={};if(i){let s=i.indexOf("#");s>=0&&(r.hash=i.substr(s),i=i.substr(0,s));let a=i.indexOf("?");a>=0&&(r.search=i.substr(a),i=i.substr(0,a)),i&&(r.pathname=i)}return r}function Mm(i,r,s,a){a===void 0&&(a={});let{window:l=document.defaultView,v5Compat:c=!1}=a,f=l.history,p=br.Pop,m=null,y=v();y==null&&(y=0,f.replaceState(Is({},f.state,{idx:y}),""));function v(){return(f.state||{idx:null}).idx}function x(){p=br.Pop;let k=v(),L=k==null?null:k-y;y=k,m&&m({action:p,location:O.location,delta:L})}function _(k,L){p=br.Push;let M=jl(O.location,k,L);y=v()+1;let R=sf(M,y),V=O.createHref(M);try{f.pushState(R,"",V)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;l.location.assign(V)}c&&m&&m({action:p,location:O.location,delta:1})}function E(k,L){p=br.Replace;let M=jl(O.location,k,L);y=v();let R=sf(M,y),V=O.createHref(M);f.replaceState(R,"",V),c&&m&&m({action:p,location:O.location,delta:0})}function A(k){let L=l.location.origin!=="null"?l.location.origin:l.location.href,M=typeof k=="string"?k:io(k);return M=M.replace(/ $/,"%20"),$e(L,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,L)}let O={get action(){return p},get location(){return i(l,f)},listen(k){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(nf,x),m=k,()=>{l.removeEventListener(nf,x),m=null}},createHref(k){return r(l,k)},createURL:A,encodeLocation(k){let L=A(k);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:_,replace:E,go(k){return f.go(k)}};return O}var of;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(of||(of={}));function zm(i,r,s){return s===void 0&&(s="/"),Bm(i,r,s)}function Bm(i,r,s,a){let l=typeof r=="string"?Dn(r):r,c=Bl(l.pathname||"/",s);if(c==null)return null;let f=Hf(i);Wm(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let y=tg(c);p=Xm(f[m],y)}return p}function Hf(i,r,s,a){r===void 0&&(r=[]),s===void 0&&(s=[]),a===void 0&&(a="");let l=(c,f,p)=>{let m={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};m.relativePath.startsWith("/")&&($e(m.relativePath.startsWith(a),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(a.length));let y=jr([a,m.relativePath]),v=s.concat(m);c.children&&c.children.length>0&&($e(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),Hf(c.children,r,v,y)),!(c.path==null&&!c.index)&&r.push({path:y,score:Qm(y,c.index),routesMeta:v})};return i.forEach((c,f)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,f);else for(let m of Kf(c.path))l(c,f,m)}),r}function Kf(i){let r=i.split("/");if(r.length===0)return[];let[s,...a]=r,l=s.endsWith("?"),c=s.replace(/\?$/,"");if(a.length===0)return l?[c,""]:[c];let f=Kf(a.join("/")),p=[];return p.push(...f.map(m=>m===""?c:[c,m].join("/"))),l&&p.push(...f),p.map(m=>i.startsWith("/")&&m===""?"/":m)}function Wm(i){i.sort((r,s)=>r.score!==s.score?s.score-r.score:Ym(r.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const qm=/^:[\w-]+$/,Vm=3,Hm=2,Km=1,Gm=10,Jm=-2,af=i=>i==="*";function Qm(i,r){let s=i.split("/"),a=s.length;return s.some(af)&&(a+=Jm),r&&(a+=Hm),s.filter(l=>!af(l)).reduce((l,c)=>l+(qm.test(c)?Vm:c===""?Km:Gm),a)}function Ym(i,r){return i.length===r.length&&i.slice(0,-1).every((a,l)=>a===r[l])?i[i.length-1]-r[r.length-1]:0}function Xm(i,r,s){let{routesMeta:a}=i,l={},c="/",f=[];for(let p=0;p<a.length;++p){let m=a[p],y=p===a.length-1,v=c==="/"?r:r.slice(c.length)||"/",x=Zm({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},v),_=m.route;if(!x)return null;Object.assign(l,x.params),f.push({params:l,pathname:jr([c,x.pathname]),pathnameBase:ig(jr([c,x.pathnameBase])),route:_}),x.pathnameBase!=="/"&&(c=jr([c,x.pathnameBase]))}return f}function Zm(i,r){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,a]=eg(i.path,i.caseSensitive,i.end),l=r.match(s);if(!l)return null;let c=l[0],f=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:a.reduce((y,v,x)=>{let{paramName:_,isOptional:E}=v;if(_==="*"){let O=p[x]||"";f=c.slice(0,c.length-O.length).replace(/(.)\/+$/,"$1")}const A=p[x];return E&&!A?y[_]=void 0:y[_]=(A||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:i}}function eg(i,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),Vf(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let a=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(a.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),a]}function tg(i){try{return i.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Vf(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),i}}function Bl(i,r){if(r==="/")return i;if(!i.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,a=i.charAt(s);return a&&a!=="/"?null:i.slice(s)||"/"}function rg(i,r){r===void 0&&(r="/");let{pathname:s,search:a="",hash:l=""}=typeof i=="string"?Dn(i):i;return{pathname:s?s.startsWith("/")?s:ng(s,r):r,search:og(a),hash:ag(l)}}function ng(i,r){let s=r.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function ml(i,r,s,a){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sg(i){return i.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function Wl(i,r){let s=sg(i);return r?s.map((a,l)=>l===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function ql(i,r,s,a){a===void 0&&(a=!1);let l;typeof i=="string"?l=Dn(i):(l=Is({},i),$e(!l.pathname||!l.pathname.includes("?"),ml("?","pathname","search",l)),$e(!l.pathname||!l.pathname.includes("#"),ml("#","pathname","hash",l)),$e(!l.search||!l.search.includes("#"),ml("#","search","hash",l)));let c=i===""||l.pathname==="",f=c?"/":l.pathname,p;if(f==null)p=s;else{let x=r.length-1;if(!a&&f.startsWith("..")){let _=f.split("/");for(;_[0]==="..";)_.shift(),x-=1;l.pathname=_.join("/")}p=x>=0?r[x]:"/"}let m=rg(l,p),y=f&&f!=="/"&&f.endsWith("/"),v=(c||f===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(y||v)&&(m.pathname+="/"),m}const jr=i=>i.join("/").replace(/\/\/+/g,"/"),ig=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),og=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,ag=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function lg(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const Gf=["post","put","patch","delete"];new Set(Gf);const ug=["get",...Gf];new Set(ug);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $s(){return $s=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},$s.apply(this,arguments)}const Vl=N.createContext(null),cg=N.createContext(null),Sr=N.createContext(null),ho=N.createContext(null),Xt=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Jf=N.createContext(null);function dg(i,r){let{relative:s}=r===void 0?{}:r;Fn()||$e(!1);let{basename:a,navigator:l}=N.useContext(Sr),{hash:c,pathname:f,search:p}=Yf(i,{relative:s}),m=f;return a!=="/"&&(m=f==="/"?a:jr([a,f])),l.createHref({pathname:m,search:p,hash:c})}function Fn(){return N.useContext(ho)!=null}function Qr(){return Fn()||$e(!1),N.useContext(ho).location}function Qf(i){N.useContext(Sr).static||N.useLayoutEffect(i)}function Mn(){let{isDataRoute:i}=N.useContext(Xt);return i?Sg():fg()}function fg(){Fn()||$e(!1);let i=N.useContext(Vl),{basename:r,future:s,navigator:a}=N.useContext(Sr),{matches:l}=N.useContext(Xt),{pathname:c}=Qr(),f=JSON.stringify(Wl(l,s.v7_relativeSplatPath)),p=N.useRef(!1);return Qf(()=>{p.current=!0}),N.useCallback(function(y,v){if(v===void 0&&(v={}),!p.current)return;if(typeof y=="number"){a.go(y);return}let x=ql(y,JSON.parse(f),c,v.relative==="path");i==null&&r!=="/"&&(x.pathname=x.pathname==="/"?r:jr([r,x.pathname])),(v.replace?a.replace:a.push)(x,v.state,v)},[r,a,f,c,i])}function hg(){let{matches:i}=N.useContext(Xt),r=i[i.length-1];return r?r.params:{}}function Yf(i,r){let{relative:s}=r===void 0?{}:r,{future:a}=N.useContext(Sr),{matches:l}=N.useContext(Xt),{pathname:c}=Qr(),f=JSON.stringify(Wl(l,a.v7_relativeSplatPath));return N.useMemo(()=>ql(i,JSON.parse(f),c,s==="path"),[i,f,c,s])}function pg(i,r){return mg(i,r)}function mg(i,r,s,a){Fn()||$e(!1);let{navigator:l,static:c}=N.useContext(Sr),{matches:f}=N.useContext(Xt),p=f[f.length-1],m=p?p.params:{};p&&p.pathname;let y=p?p.pathnameBase:"/";p&&p.route;let v=Qr(),x;if(r){var _;let L=typeof r=="string"?Dn(r):r;y==="/"||(_=L.pathname)!=null&&_.startsWith(y)||$e(!1),x=L}else x=v;let E=x.pathname||"/",A=E;if(y!=="/"){let L=y.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(L.length).join("/")}let O=zm(i,{pathname:A}),k=wg(O&&O.map(L=>Object.assign({},L,{params:Object.assign({},m,L.params),pathname:jr([y,l.encodeLocation?l.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?y:jr([y,l.encodeLocation?l.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),f,s,a);return r&&k?N.createElement(ho.Provider,{value:{location:$s({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:br.Pop}},k):k}function gg(){let i=kg(),r=lg(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},r),s?N.createElement("pre",{style:l},s):null,null)}const yg=N.createElement(gg,null);class vg extends N.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?N.createElement(Xt.Provider,{value:this.props.routeContext},N.createElement(Jf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xg(i){let{routeContext:r,match:s,children:a}=i,l=N.useContext(Vl);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),N.createElement(Xt.Provider,{value:r},a)}function wg(i,r,s,a){var l;if(r===void 0&&(r=[]),s===void 0&&(s=null),a===void 0&&(a=null),i==null){var c;if(!s)return null;if(s.errors)i=s.matches;else if((c=a)!=null&&c.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let f=i,p=(l=s)==null?void 0:l.errors;if(p!=null){let v=f.findIndex(x=>x.route.id&&(p==null?void 0:p[x.route.id])!==void 0);v>=0||$e(!1),f=f.slice(0,Math.min(f.length,v+1))}let m=!1,y=-1;if(s&&a&&a.v7_partialHydration)for(let v=0;v<f.length;v++){let x=f[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(y=v),x.route.id){let{loaderData:_,errors:E}=s,A=x.route.loader&&_[x.route.id]===void 0&&(!E||E[x.route.id]===void 0);if(x.route.lazy||A){m=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}return f.reduceRight((v,x,_)=>{let E,A=!1,O=null,k=null;s&&(E=p&&x.route.id?p[x.route.id]:void 0,O=x.route.errorElement||yg,m&&(y<0&&_===0?(Ng("route-fallback"),A=!0,k=null):y===_&&(A=!0,k=x.route.hydrateFallbackElement||null)));let L=r.concat(f.slice(0,_+1)),M=()=>{let R;return E?R=O:A?R=k:x.route.Component?R=N.createElement(x.route.Component,null):x.route.element?R=x.route.element:R=v,N.createElement(xg,{match:x,routeContext:{outlet:v,matches:L,isDataRoute:s!=null},children:R})};return s&&(x.route.ErrorBoundary||x.route.errorElement||_===0)?N.createElement(vg,{location:s.location,revalidation:s.revalidation,component:O,error:E,children:M(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):M()},null)}var Xf=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(Xf||{}),Zf=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(Zf||{});function _g(i){let r=N.useContext(Vl);return r||$e(!1),r}function bg(i){let r=N.useContext(cg);return r||$e(!1),r}function jg(i){let r=N.useContext(Xt);return r||$e(!1),r}function eh(i){let r=jg(),s=r.matches[r.matches.length-1];return s.route.id||$e(!1),s.route.id}function kg(){var i;let r=N.useContext(Jf),s=bg(),a=eh();return r!==void 0?r:(i=s.errors)==null?void 0:i[a]}function Sg(){let{router:i}=_g(Xf.UseNavigateStable),r=eh(Zf.UseNavigateStable),s=N.useRef(!1);return Qf(()=>{s.current=!0}),N.useCallback(function(l,c){c===void 0&&(c={}),s.current&&(typeof l=="number"?i.navigate(l):i.navigate(l,$s({fromRouteId:r},c)))},[i,r])}const lf={};function Ng(i,r,s){lf[i]||(lf[i]=!0)}function Cg(i,r){i==null||i.v7_startTransition,i==null||i.v7_relativeSplatPath}function Gr(i){let{to:r,replace:s,state:a,relative:l}=i;Fn()||$e(!1);let{future:c,static:f}=N.useContext(Sr),{matches:p}=N.useContext(Xt),{pathname:m}=Qr(),y=Mn(),v=ql(r,Wl(p,c.v7_relativeSplatPath),m,l==="path"),x=JSON.stringify(v);return N.useEffect(()=>y(JSON.parse(x),{replace:s,state:a,relative:l}),[y,x,l,s,a]),null}function Je(i){$e(!1)}function Eg(i){let{basename:r="/",children:s=null,location:a,navigationType:l=br.Pop,navigator:c,static:f=!1,future:p}=i;Fn()&&$e(!1);let m=r.replace(/^\/*/,"/"),y=N.useMemo(()=>({basename:m,navigator:c,static:f,future:$s({v7_relativeSplatPath:!1},p)}),[m,p,c,f]);typeof a=="string"&&(a=Dn(a));let{pathname:v="/",search:x="",hash:_="",state:E=null,key:A="default"}=a,O=N.useMemo(()=>{let k=Bl(v,m);return k==null?null:{location:{pathname:k,search:x,hash:_,state:E,key:A},navigationType:l}},[m,v,x,_,E,A,l]);return O==null?null:N.createElement(Sr.Provider,{value:y},N.createElement(ho.Provider,{children:s,value:O}))}function Hl(i){let{children:r,location:s}=i;return pg(kl(r),s)}new Promise(()=>{});function kl(i,r){r===void 0&&(r=[]);let s=[];return N.Children.forEach(i,(a,l)=>{if(!N.isValidElement(a))return;let c=[...r,l];if(a.type===N.Fragment){s.push.apply(s,kl(a.props.children,c));return}a.type!==Je&&$e(!1),!a.props.index||!a.props.children||$e(!1);let f={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=kl(a.props.children,c)),s.push(f)}),s}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sl(){return Sl=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},Sl.apply(this,arguments)}function Pg(i,r){if(i==null)return{};var s={},a=Object.keys(i),l,c;for(c=0;c<a.length;c++)l=a[c],!(r.indexOf(l)>=0)&&(s[l]=i[l]);return s}function Tg(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Ag(i,r){return i.button===0&&(!r||r==="_self")&&!Tg(i)}const Rg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Og="6";try{window.__reactRouterVersion=Og}catch{}const Lg="startTransition",uf=Tm[Lg];function Ig(i){let{basename:r,children:s,future:a,window:l}=i,c=N.useRef();c.current==null&&(c.current=Dm({window:l,v5Compat:!0}));let f=c.current,[p,m]=N.useState({action:f.action,location:f.location}),{v7_startTransition:y}=a||{},v=N.useCallback(x=>{y&&uf?uf(()=>m(x)):m(x)},[m,y]);return N.useLayoutEffect(()=>f.listen(v),[f,v]),N.useEffect(()=>Cg(a),[a]),N.createElement(Eg,{basename:r,children:s,location:p.location,navigationType:p.action,navigator:f,future:a})}const $g=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ug=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ut=N.forwardRef(function(r,s){let{onClick:a,relative:l,reloadDocument:c,replace:f,state:p,target:m,to:y,preventScrollReset:v,viewTransition:x}=r,_=Pg(r,Rg),{basename:E}=N.useContext(Sr),A,O=!1;if(typeof y=="string"&&Ug.test(y)&&(A=y,$g))try{let R=new URL(window.location.href),V=y.startsWith("//")?new URL(R.protocol+y):new URL(y),te=Bl(V.pathname,E);V.origin===R.origin&&te!=null?y=te+V.search+V.hash:O=!0}catch{}let k=dg(y,{relative:l}),L=Dg(y,{replace:f,state:p,target:m,preventScrollReset:v,relative:l,viewTransition:x});function M(R){a&&a(R),R.defaultPrevented||L(R)}return N.createElement("a",Sl({},_,{href:A||k,onClick:O||c?a:M,ref:s,target:m}))});var cf;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(cf||(cf={}));var df;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(df||(df={}));function Dg(i,r){let{target:s,replace:a,state:l,preventScrollReset:c,relative:f,viewTransition:p}=r===void 0?{}:r,m=Mn(),y=Qr(),v=Yf(i,{relative:f});return N.useCallback(x=>{if(Ag(x,s)){x.preventDefault();let _=a!==void 0?a:io(y)===io(v);m(i,{replace:_,state:l,preventScrollReset:c,relative:f,viewTransition:p})}},[y,m,v,a,l,s,i,c,f,p])}const Fg="modulepreload",Mg=function(i){return"/"+i},ff={},Ds=function(r,s,a){let l=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));l=Promise.allSettled(s.map(m=>{if(m=Mg(m),m in ff)return;ff[m]=!0;const y=m.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":Fg,y||(x.as="script"),x.crossOrigin="",x.href=m,p&&x.setAttribute("nonce",p),document.head.appendChild(x),y)return new Promise((_,E)=>{x.addEventListener("load",_),x.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return l.then(f=>{for(const p of f||[])p.status==="rejected"&&c(p.reason);return r().catch(c)})},zg=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...s)=>Ds(async()=>{const{default:a}=await Promise.resolve().then(()=>zn);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)};class Kl extends Error{constructor(r,s="FunctionsError",a){super(r),this.name=s,this.context=a}}class Bg extends Kl{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class hf extends Kl{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class pf extends Kl{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Nl;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Nl||(Nl={}));var Wg=function(i,r,s,a){function l(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(a.next(v))}catch(x){f(x)}}function m(v){try{y(a.throw(v))}catch(x){f(x)}}function y(v){v.done?c(v.value):l(v.value).then(p,m)}y((a=a.apply(i,r||[])).next())})};class qg{constructor(r,{headers:s={},customFetch:a,region:l=Nl.Any}={}){this.url=r,this.headers=s,this.region=l,this.fetch=zg(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,s={}){var a;return Wg(this,void 0,void 0,function*(){try{const{headers:l,method:c,body:f}=s;let p={},{region:m}=s;m||(m=this.region);const y=new URL(`${this.url}/${r}`);m&&m!=="any"&&(p["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let v;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=f):typeof f=="string"?(p["Content-Type"]="text/plain",v=f):typeof FormData<"u"&&f instanceof FormData?v=f:(p["Content-Type"]="application/json",v=JSON.stringify(f)));const x=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:v}).catch(O=>{throw new Bg(O)}),_=x.headers.get("x-relay-error");if(_&&_==="true")throw new hf(x);if(!x.ok)throw new pf(x);let E=((a=x.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),A;return E==="application/json"?A=yield x.json():E==="application/octet-stream"?A=yield x.blob():E==="text/event-stream"?A=x:E==="multipart/form-data"?A=yield x.formData():A=yield x.text(),{data:A,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof pf||l instanceof hf?l.context:void 0}}})}}var Ve={},Sn={},Nn={},Cn={},En={},Pn={},Vg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Un=Vg();const Hg=Un.fetch,th=Un.fetch.bind(Un),rh=Un.Headers,Kg=Un.Request,Gg=Un.Response,zn=Object.freeze(Object.defineProperty({__proto__:null,Headers:rh,Request:Kg,Response:Gg,default:th,fetch:Hg},Symbol.toStringTag,{value:"Module"})),Jg=Nm(zn);var Xi={},mf;function nh(){if(mf)return Xi;mf=1,Object.defineProperty(Xi,"__esModule",{value:!0});class i extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Xi.default=i,Xi}var gf;function sh(){if(gf)return Pn;gf=1;var i=Pn&&Pn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Pn,"__esModule",{value:!0});const r=i(Jg),s=i(nh());class a{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,f){return this.headers=Object.assign({},this.headers),this.headers[c]=f,this}then(c,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const p=this.fetch;let m=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var v,x,_;let E=null,A=null,O=null,k=y.status,L=y.statusText;if(y.ok){if(this.method!=="HEAD"){const te=await y.text();te===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?A=te:A=JSON.parse(te))}const R=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),V=(x=y.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");R&&V&&V.length>1&&(O=parseInt(V[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(E={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,O=null,k=406,L="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const R=await y.text();try{E=JSON.parse(R),Array.isArray(E)&&y.status===404&&(A=[],E=null,k=200,L="OK")}catch{y.status===404&&R===""?(k=204,L="No Content"):E={message:R}}if(E&&this.isMaybeSingle&&(!((_=E==null?void 0:E.details)===null||_===void 0)&&_.includes("0 rows"))&&(E=null,k=200,L="OK"),E&&this.shouldThrowOnError)throw new s.default(E)}return{error:E,data:A,count:O,status:k,statusText:L}});return this.shouldThrowOnError||(m=m.catch(y=>{var v,x,_;return{error:{message:`${(v=y==null?void 0:y.name)!==null&&v!==void 0?v:"FetchError"}: ${y==null?void 0:y.message}`,details:`${(x=y==null?void 0:y.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(_=y==null?void 0:y.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),m.then(c,f)}returns(){return this}overrideTypes(){return this}}return Pn.default=a,Pn}var yf;function ih(){if(yf)return En;yf=1;var i=En&&En.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(En,"__esModule",{value:!0});const r=i(sh());class s extends r.default{select(l){let c=!1;const f=(l??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:c=!0,nullsFirst:f,foreignTable:p,referencedTable:m=p}={}){const y=m?`${m}.order`:"order",v=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${v?`${v},`:""}${l}.${c?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:f=c}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${l}`),this}range(l,c,{foreignTable:f,referencedTable:p=f}={}){const m=typeof p>"u"?"offset":`${p}.offset`,y=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(y,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:c=!1,settings:f=!1,buffers:p=!1,wal:m=!1,format:y="text"}={}){var v;const x=[l?"analyze":null,c?"verbose":null,f?"settings":null,p?"buffers":null,m?"wal":null].filter(Boolean).join("|"),_=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${y}; for="${_}"; options=${x};`,y==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return En.default=s,En}var vf;function Gl(){if(vf)return Cn;vf=1;var i=Cn&&Cn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Cn,"__esModule",{value:!0});const r=i(ih());class s extends r.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const f=Array.from(new Set(c)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(l,`in.(${f})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:f,type:p}={}){let m="";p==="plain"?m="pl":p==="phrase"?m="ph":p==="websearch"&&(m="w");const y=f===void 0?"":`(${f})`;return this.url.searchParams.append(l,`${m}fts${y}.${c}`),this}match(l){return Object.entries(l).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(l,c,f){return this.url.searchParams.append(l,`not.${c}.${f}`),this}or(l,{foreignTable:c,referencedTable:f=c}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${l})`),this}filter(l,c,f){return this.url.searchParams.append(l,`${c}.${f}`),this}}return Cn.default=s,Cn}var xf;function oh(){if(xf)return Nn;xf=1;var i=Nn&&Nn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Nn,"__esModule",{value:!0});const r=i(Gl());class s{constructor(l,{headers:c={},schema:f,fetch:p}){this.url=l,this.headers=c,this.schema=f,this.fetch=p}select(l,{head:c=!1,count:f}={}){const p=c?"HEAD":"GET";let m=!1;const y=(l??"*").split("").map(v=>/\s/.test(v)&&!m?"":(v==='"'&&(m=!m),v)).join("");return this.url.searchParams.set("select",y),f&&(this.headers.Prefer=`count=${f}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:c,defaultToNull:f=!0}={}){const p="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),c&&m.push(`count=${c}`),f||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(l)){const y=l.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(y.length>0){const v=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:c,ignoreDuplicates:f=!1,count:p,defaultToNull:m=!0}={}){const y="POST",v=[`resolution=${f?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&v.push(this.headers.Prefer),p&&v.push(`count=${p}`),m||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(l)){const x=l.reduce((_,E)=>_.concat(Object.keys(E)),[]);if(x.length>0){const _=[...new Set(x)].map(E=>`"${E}"`);this.url.searchParams.set("columns",_.join(","))}}return new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:c}={}){const f="PATCH",p=[];return this.headers.Prefer&&p.push(this.headers.Prefer),c&&p.push(`count=${c}`),this.headers.Prefer=p.join(","),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const c="DELETE",f=[];return l&&f.push(`count=${l}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new r.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Nn.default=s,Nn}var Es={},Ps={},wf;function Qg(){return wf||(wf=1,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.version=void 0,Ps.version="0.0.0-automated"),Ps}var _f;function Yg(){if(_f)return Es;_f=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.DEFAULT_HEADERS=void 0;const i=Qg();return Es.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${i.version}`},Es}var bf;function Xg(){if(bf)return Sn;bf=1;var i=Sn&&Sn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Sn,"__esModule",{value:!0});const r=i(oh()),s=i(Gl()),a=Yg();class l{constructor(f,{headers:p={},schema:m,fetch:y}={}){this.url=f,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),p),this.schemaName=m,this.fetch=y}from(f){const p=new URL(`${this.url}/${f}`);return new r.default(p,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new l(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,p={},{head:m=!1,get:y=!1,count:v}={}){let x;const _=new URL(`${this.url}/rpc/${f}`);let E;m||y?(x=m?"HEAD":"GET",Object.entries(p).filter(([O,k])=>k!==void 0).map(([O,k])=>[O,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([O,k])=>{_.searchParams.append(O,k)})):(x="POST",E=p);const A=Object.assign({},this.headers);return v&&(A.Prefer=`count=${v}`),new s.default({method:x,url:_,headers:A,schema:this.schemaName,body:E,fetch:this.fetch,allowEmpty:!1})}}return Sn.default=l,Sn}var jf;function Zg(){if(jf)return Ve;jf=1;var i=Ve&&Ve.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.PostgrestError=Ve.PostgrestBuilder=Ve.PostgrestTransformBuilder=Ve.PostgrestFilterBuilder=Ve.PostgrestQueryBuilder=Ve.PostgrestClient=void 0;const r=i(Xg());Ve.PostgrestClient=r.default;const s=i(oh());Ve.PostgrestQueryBuilder=s.default;const a=i(Gl());Ve.PostgrestFilterBuilder=a.default;const l=i(ih());Ve.PostgrestTransformBuilder=l.default;const c=i(sh());Ve.PostgrestBuilder=c.default;const f=i(nh());return Ve.PostgrestError=f.default,Ve.default={PostgrestClient:r.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:f.default},Ve}var e0=Zg();const t0=Bf(e0),{PostgrestClient:r0,PostgrestQueryBuilder:dx,PostgrestFilterBuilder:fx,PostgrestTransformBuilder:hx,PostgrestBuilder:px,PostgrestError:mx}=t0;class n0{static dynamicRequire(r){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(r):null}catch{return null}}static detectEnvironment(){var r,s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const a=parseInt(process.versions.node.split(".")[0]);if(a>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const l=this.dynamicRequire("undici");if(l&&l.WebSocket)return{type:"native",constructor:l.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const l=this.dynamicRequire("ws");if(l)return{type:"ws",constructor:(s=l.WebSocket)!==null&&s!==void 0?s:l};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${a} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const a=this.getWebSocketConstructor();return new a(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const s0="2.15.0",i0=`realtime-js/${s0}`,o0="1.0.0",Cl=1e4,a0=1e3,l0=100;var As;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(As||(As={}));var Me;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Me||(Me={}));var At;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(At||(At={}));var El;(function(i){i.websocket="websocket"})(El||(El={}));var qr;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(qr||(qr={}));class u0{constructor(){this.HEADER_LENGTH=1}decode(r,s){return r.constructor===ArrayBuffer?s(this._binaryDecode(r)):s(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const s=new DataView(r),a=new TextDecoder;return this._decodeBroadcast(r,s,a)}_decodeBroadcast(r,s,a){const l=s.getUint8(1),c=s.getUint8(2);let f=this.HEADER_LENGTH+2;const p=a.decode(r.slice(f,f+l));f=f+l;const m=a.decode(r.slice(f,f+c));f=f+c;const y=JSON.parse(a.decode(r.slice(f,r.byteLength)));return{ref:null,topic:p,event:m,payload:y}}}class ah{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Se||(Se={}));const kf=(i,r,s={})=>{var a;const l=(a=s.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(r).reduce((c,f)=>(c[f]=c0(f,i,r,l),c),{})},c0=(i,r,s,a)=>{const l=r.find(p=>p.name===i),c=l==null?void 0:l.type,f=s[i];return c&&!a.includes(c)?lh(c,f):Pl(f)},lh=(i,r)=>{if(i.charAt(0)==="_"){const s=i.slice(1,i.length);return p0(r,s)}switch(i){case Se.bool:return d0(r);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return f0(r);case Se.json:case Se.jsonb:return h0(r);case Se.timestamp:return m0(r);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return Pl(r);default:return Pl(r)}},Pl=i=>i,d0=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},f0=i=>{if(typeof i=="string"){const r=parseFloat(i);if(!Number.isNaN(r))return r}return i},h0=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(r){return console.log(`JSON parse error: ${r}`),i}return i},p0=(i,r)=>{if(typeof i!="string")return i;const s=i.length-1,a=i[s];if(i[0]==="{"&&a==="}"){let c;const f=i.slice(1,s);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(p=>lh(r,p))}return i},m0=i=>typeof i=="string"?i.replace(" ","T"):i,uh=i=>{let r=i;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class gl{constructor(r,s,a={},l=Cl){this.channel=r,this.event=s,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var a;return this._hasReceived(r)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Sf;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Sf||(Sf={}));class Rs{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:c,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rs.syncState(this.state,l,c,f),this.pendingDiffs.forEach(m=>{this.state=Rs.syncDiff(this.state,m,c,f)}),this.pendingDiffs=[],p()}),this.channel._on(a.diff,{},l=>{const{onJoin:c,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Rs.syncDiff(this.state,l,c,f),p())}),this.onJoin((l,c,f)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:f})}),this.onLeave((l,c,f)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,a,l){const c=this.cloneDeep(r),f=this.transformState(s),p={},m={};return this.map(c,(y,v)=>{f[y]||(m[y]=v)}),this.map(f,(y,v)=>{const x=c[y];if(x){const _=v.map(k=>k.presence_ref),E=x.map(k=>k.presence_ref),A=v.filter(k=>E.indexOf(k.presence_ref)<0),O=x.filter(k=>_.indexOf(k.presence_ref)<0);A.length>0&&(p[y]=A),O.length>0&&(m[y]=O)}else p[y]=v}),this.syncDiff(c,{joins:p,leaves:m},a,l)}static syncDiff(r,s,a,l){const{joins:c,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(c,(p,m)=>{var y;const v=(y=r[p])!==null&&y!==void 0?y:[];if(r[p]=this.cloneDeep(m),v.length>0){const x=r[p].map(E=>E.presence_ref),_=v.filter(E=>x.indexOf(E.presence_ref)<0);r[p].unshift(..._)}a(p,v,m)}),this.map(f,(p,m)=>{let y=r[p];if(!y)return;const v=m.map(x=>x.presence_ref);y=y.filter(x=>v.indexOf(x.presence_ref)<0),r[p]=y,l(p,y,m),y.length===0&&delete r[p]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(a=>s(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,a)=>{const l=r[a];return"metas"in l?s[a]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[a]=l,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nf;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Nf||(Nf={}));var Os;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Os||(Os={}));var Jt;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Jt||(Jt={}));class Jl{constructor(r,s={config:{}},a){this.topic=r,this.params=s,this.socket=a,this.bindings={},this.state=Me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new gl(this,At.join,this.params,this.timeout),this.rejoinTimer=new ah(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Me.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(At.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Rs(this),this.broadcastEndpointURL=uh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(r,s=this.timeout){var a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Me.closed){const{config:{broadcast:c,presence:f,private:p}}=this.params,m=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(_=>_.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[Os.PRESENCE]&&this.bindings[Os.PRESENCE].length>0,v={},x={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>r==null?void 0:r(Jt.CHANNEL_ERROR,_)),this._onClose(()=>r==null?void 0:r(Jt.CLOSED)),this.updateJoinPayload(Object.assign({config:x},v)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:_})=>{var E;if(this.socket.setAuth(),_===void 0){r==null||r(Jt.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,O=(E=A==null?void 0:A.length)!==null&&E!==void 0?E:0,k=[];for(let L=0;L<O;L++){const M=A[L],{filter:{event:R,schema:V,table:te,filter:z}}=M,Z=_&&_[L];if(Z&&Z.event===R&&Z.schema===V&&Z.table===te&&Z.filter===z)k.push(Object.assign(Object.assign({},M),{id:Z.id}));else{this.unsubscribe(),this.state=Me.errored,r==null||r(Jt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,r&&r(Jt.SUBSCRIBED);return}}).receive("error",_=>{this.state=Me.errored,r==null||r(Jt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Jt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,a){return this.state===Me.joined&&r===Os.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,s,a)}async send(r,s={}){var a,l;if(!this._canPush()&&r.type==="broadcast"){const{event:c,payload:f}=r,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=y.body)===null||l===void 0?void 0:l.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,p,m;const y=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Me.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(At.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new gl(this,At.leave,{},r),a.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Me.closed,this.bindings={}}async _fetchWithTimeout(r,s,a){const l=new AbortController,c=setTimeout(()=>l.abort(),a),f=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(c),f}_push(r,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new gl(this,r,s,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>l0){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,a){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,a){var l,c;const f=r.toLocaleLowerCase(),{close:p,error:m,leave:y,join:v}=At;if(a&&[p,m,y,v].indexOf(f)>=0&&a!==this._joinRef())return;let _=this._onMessage(f,s,a);if(s&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(E=>{var A,O,k;return((A=E.filter)===null||A===void 0?void 0:A.event)==="*"||((k=(O=E.filter)===null||O===void 0?void 0:O.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===f}).map(E=>E.callback(_,a)):(c=this.bindings[f])===null||c===void 0||c.filter(E=>{var A,O,k,L,M,R;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in E){const V=E.id,te=(A=E.filter)===null||A===void 0?void 0:A.event;return V&&((O=s.ids)===null||O===void 0?void 0:O.includes(V))&&(te==="*"||(te==null?void 0:te.toLocaleLowerCase())===((k=s.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const V=(M=(L=E==null?void 0:E.filter)===null||L===void 0?void 0:L.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return V==="*"||V===((R=s==null?void 0:s.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===f}).map(E=>{if(typeof _=="object"&&"ids"in _){const A=_.data,{schema:O,table:k,commit_timestamp:L,type:M,errors:R}=A;_=Object.assign(Object.assign({},{schema:O,table:k,commit_timestamp:L,eventType:M,new:{},old:{},errors:R}),this._getPayloadRecords(A))}E.callback(_,a)})}_isClosed(){return this.state===Me.closed}_isJoined(){return this.state===Me.joined}_isJoining(){return this.state===Me.joining}_isLeaving(){return this.state===Me.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,a){const l=r.toLocaleLowerCase(),c={type:l,filter:s,callback:a};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(r,s){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&Jl.isEqual(l.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const a in r)if(r[a]!==s[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(At.close,{},r)}_onError(r){this._on(At.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Me.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=kf(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=kf(r.columns,r.old_record)),s}}const Cf=()=>{},Zi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},g0=[1e3,2e3,5e3,1e4],y0=1e4,v0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class x0{constructor(r,s){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cl,this.transport=null,this.heartbeatIntervalMs=Zi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cf,this.ref=0,this.reconnectTimer=null,this.logger=Cf,this.conn=null,this.sendBuffer=[],this.serializer=new u0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...f)=>Ds(async()=>{const{default:p}=await Promise.resolve().then(()=>zn);return{default:p}},void 0).then(({default:p})=>p(...f)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...f)=>c(...f)},!(!((a=s==null?void 0:s.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${El.websocket}`,this.httpEndpoint=uh(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=n0.createWebSocket(this.endpointURL())}catch(r){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${r.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:o0}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},r?this.conn.close(r,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,a){this.logger(r,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case As.connecting:return qr.Connecting;case As.open:return qr.Open;case As.closing:return qr.Closing;default:return qr.Closed}}isConnected(){return this.connectionState()===qr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const a=`realtime:${r}`,l=this.getChannels().find(c=>c.topic===a);if(l)return l;{const c=new Jl(`realtime:${r}`,s,this);return this.channels.push(c),c}}push(r){const{topic:s,event:a,payload:l,ref:c}=r,f=()=>{this.encode(r,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${s} ${a} (${c})`,l),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(a0,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Zi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:l,payload:c,ref:f}=s,p=f?`(${f})`:"",m=c.status||"";this.log("receive",`${m} ${a} ${l} ${p}`.trim(),c),this.channels.filter(y=>y._isMember(a)).forEach(y=>y._trigger(l,c,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(At.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const a=r.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${r}${a}${l}`}_workerObjectUrl(r){let s;if(r)s=r;else{const a=new Blob([v0],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s;r?s=r:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(a=>{const l={access_token:s,version:i0};s&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(At.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(s)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new ah(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,a,l,c,f,p,m,y;if(this.transport=(s=r==null?void 0:r.transport)!==null&&s!==void 0?s:null,this.timeout=(a=r==null?void 0:r.timeout)!==null&&a!==void 0?a:Cl,this.heartbeatIntervalMs=(l=r==null?void 0:r.heartbeatIntervalMs)!==null&&l!==void 0?l:Zi.HEARTBEAT_INTERVAL,this.worker=(c=r==null?void 0:r.worker)!==null&&c!==void 0?c:!1,this.accessToken=(f=r==null?void 0:r.accessToken)!==null&&f!==void 0?f:null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=r==null?void 0:r.reconnectAfterMs)!==null&&p!==void 0?p:v=>g0[v-1]||y0,this.encode=(m=r==null?void 0:r.encode)!==null&&m!==void 0?m:(v,x)=>x(JSON.stringify(v)),this.decode=(y=r==null?void 0:r.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}class Ql extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function He(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class w0 extends Ql{constructor(r,s,a){super(r),this.name="StorageApiError",this.status=s,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Tl extends Ql{constructor(r,s){super(r),this.name="StorageUnknownError",this.originalError=s}}var _0=function(i,r,s,a){function l(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(a.next(v))}catch(x){f(x)}}function m(v){try{y(a.throw(v))}catch(x){f(x)}}function y(v){v.done?c(v.value):l(v.value).then(p,m)}y((a=a.apply(i,r||[])).next())})};const ch=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...s)=>Ds(async()=>{const{default:a}=await Promise.resolve().then(()=>zn);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)},b0=()=>_0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ds(()=>Promise.resolve().then(()=>zn),void 0)).Response:Response}),Al=i=>{if(Array.isArray(i))return i.map(s=>Al(s));if(typeof i=="function"||i!==Object(i))return i;const r={};return Object.entries(i).forEach(([s,a])=>{const l=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[l]=Al(a)}),r},j0=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)};var Yr=function(i,r,s,a){function l(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(a.next(v))}catch(x){f(x)}}function m(v){try{y(a.throw(v))}catch(x){f(x)}}function y(v){v.done?c(v.value):l(v.value).then(p,m)}y((a=a.apply(i,r||[])).next())})};const yl=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),k0=(i,r,s)=>Yr(void 0,void 0,void 0,function*(){const a=yield b0();i instanceof a&&!(s!=null&&s.noResolveJson)?i.json().then(l=>{const c=i.status||500,f=(l==null?void 0:l.statusCode)||c+"";r(new w0(yl(l),c,f))}).catch(l=>{r(new Tl(yl(l),l))}):r(new Tl(yl(i),i))}),S0=(i,r,s,a)=>{const l={method:i,headers:(r==null?void 0:r.headers)||{}};return i==="GET"||!a?l:(j0(a)?(l.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(a)):l.body=a,Object.assign(Object.assign({},l),s))};function Fs(i,r,s,a,l,c){return Yr(this,void 0,void 0,function*(){return new Promise((f,p)=>{i(s,S0(r,a,l,c)).then(m=>{if(!m.ok)throw m;return a!=null&&a.noResolveJson?m:m.json()}).then(m=>f(m)).catch(m=>k0(m,p,a))})})}function oo(i,r,s,a){return Yr(this,void 0,void 0,function*(){return Fs(i,"GET",r,s,a)})}function Qt(i,r,s,a,l){return Yr(this,void 0,void 0,function*(){return Fs(i,"POST",r,a,l,s)})}function Rl(i,r,s,a,l){return Yr(this,void 0,void 0,function*(){return Fs(i,"PUT",r,a,l,s)})}function N0(i,r,s,a){return Yr(this,void 0,void 0,function*(){return Fs(i,"HEAD",r,Object.assign(Object.assign({},s),{noResolveJson:!0}),a)})}function dh(i,r,s,a,l){return Yr(this,void 0,void 0,function*(){return Fs(i,"DELETE",r,a,l,s)})}var dt=function(i,r,s,a){function l(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(a.next(v))}catch(x){f(x)}}function m(v){try{y(a.throw(v))}catch(x){f(x)}}function y(v){v.done?c(v.value):l(v.value).then(p,m)}y((a=a.apply(i,r||[])).next())})};const C0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ef={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class E0{constructor(r,s={},a,l){this.url=r,this.headers=s,this.bucketId=a,this.fetch=ch(l)}uploadOrUpdate(r,s,a,l){return dt(this,void 0,void 0,function*(){try{let c;const f=Object.assign(Object.assign({},Ef),l);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),m&&c.append("metadata",this.encodeMetadata(m)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",f.cacheControl),m&&c.append("metadata",this.encodeMetadata(m))):(c=a,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,m&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),l!=null&&l.headers&&(p=Object.assign(Object.assign({},p),l.headers));const y=this._removeEmptyFolders(s),v=this._getFinalPath(y),x=yield(r=="PUT"?Rl:Qt)(this.fetch,`${this.url}/object/${v}`,c,Object.assign({headers:p},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:y,id:x.Id,fullPath:x.Key},error:null}}catch(c){if(He(c))return{data:null,error:c};throw c}})}upload(r,s,a){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,s,a)})}uploadToSignedUrl(r,s,a,l){return dt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(r),f=this._getFinalPath(c),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",s);try{let m;const y=Object.assign({upsert:Ef.upsert},l),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&a instanceof Blob?(m=new FormData,m.append("cacheControl",y.cacheControl),m.append("",a)):typeof FormData<"u"&&a instanceof FormData?(m=a,m.append("cacheControl",y.cacheControl)):(m=a,v["cache-control"]=`max-age=${y.cacheControl}`,v["content-type"]=y.contentType);const x=yield Rl(this.fetch,p.toString(),m,{headers:v});return{data:{path:c,fullPath:x.Key},error:null}}catch(m){if(He(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(r,s){return dt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r);const l=Object.assign({},this.headers);s!=null&&s.upsert&&(l["x-upsert"]="true");const c=yield Qt(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:l}),f=new URL(this.url+c.url),p=f.searchParams.get("token");if(!p)throw new Ql("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:p},error:null}}catch(a){if(He(a))return{data:null,error:a};throw a}})}update(r,s,a){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,s,a)})}move(r,s,a){return dt(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(He(l))return{data:null,error:l};throw l}})}copy(r,s,a){return dt(this,void 0,void 0,function*(){try{return{data:{path:(yield Qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(He(l))return{data:null,error:l};throw l}})}createSignedUrl(r,s,a){return dt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r),c=yield Qt(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:s},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const f=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(l){if(He(l))return{data:null,error:l};throw l}})}createSignedUrls(r,s,a){return dt(this,void 0,void 0,function*(){try{const l=yield Qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:r},{headers:this.headers}),c=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${c}`):null})),error:null}}catch(l){if(He(l))return{data:null,error:l};throw l}})}download(r,s){return dt(this,void 0,void 0,function*(){const l=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),f=c?`?${c}`:"";try{const p=this._getFinalPath(r);return{data:yield(yield oo(this.fetch,`${this.url}/${l}/${p}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(He(p))return{data:null,error:p};throw p}})}info(r){return dt(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{const a=yield oo(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Al(a),error:null}}catch(a){if(He(a))return{data:null,error:a};throw a}})}exists(r){return dt(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{return yield N0(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(He(a)&&a instanceof Tl){const l=a.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:a}}throw a}})}getPublicUrl(r,s){const a=this._getFinalPath(r),l=[],c=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&l.push(c);const p=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});m!==""&&l.push(m);let y=l.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${a}${y}`)}}}remove(r){return dt(this,void 0,void 0,function*(){try{return{data:yield dh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(s){if(He(s))return{data:null,error:s};throw s}})}list(r,s,a){return dt(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},C0),s),{prefix:r||""});return{data:yield Qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},a),error:null}}catch(l){if(He(l))return{data:null,error:l};throw l}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const s=[];return r.width&&s.push(`width=${r.width}`),r.height&&s.push(`height=${r.height}`),r.resize&&s.push(`resize=${r.resize}`),r.format&&s.push(`format=${r.format}`),r.quality&&s.push(`quality=${r.quality}`),s.join("&")}}const P0="2.10.4",T0={"X-Client-Info":`storage-js/${P0}`};var Tn=function(i,r,s,a){function l(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(a.next(v))}catch(x){f(x)}}function m(v){try{y(a.throw(v))}catch(x){f(x)}}function y(v){v.done?c(v.value):l(v.value).then(p,m)}y((a=a.apply(i,r||[])).next())})};class A0{constructor(r,s={},a,l){const c=new URL(r);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},T0),s),this.fetch=ch(a)}listBuckets(){return Tn(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}})}getBucket(r){return Tn(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(s){if(He(s))return{data:null,error:s};throw s}})}createBucket(r,s={public:!1}){return Tn(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(He(a))return{data:null,error:a};throw a}})}updateBucket(r,s){return Tn(this,void 0,void 0,function*(){try{return{data:yield Rl(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(He(a))return{data:null,error:a};throw a}})}emptyBucket(r){return Tn(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(He(s))return{data:null,error:s};throw s}})}deleteBucket(r){return Tn(this,void 0,void 0,function*(){try{return{data:yield dh(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(s){if(He(s))return{data:null,error:s};throw s}})}}class R0 extends A0{constructor(r,s={},a,l){super(r,s,a,l)}from(r){return new E0(this.url,this.headers,r,this.fetch)}}const O0="2.54.0";let Ts="";typeof Deno<"u"?Ts="deno":typeof document<"u"?Ts="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ts="react-native":Ts="node";const L0={"X-Client-Info":`supabase-js-${Ts}/${O0}`},I0={headers:L0},$0={schema:"public"},U0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},D0={};var F0=function(i,r,s,a){function l(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(a.next(v))}catch(x){f(x)}}function m(v){try{y(a.throw(v))}catch(x){f(x)}}function y(v){v.done?c(v.value):l(v.value).then(p,m)}y((a=a.apply(i,r||[])).next())})};const M0=i=>{let r;return i?r=i:typeof fetch>"u"?r=th:r=fetch,(...s)=>r(...s)},z0=()=>typeof Headers>"u"?rh:Headers,B0=(i,r,s)=>{const a=M0(s),l=z0();return(c,f)=>F0(void 0,void 0,void 0,function*(){var p;const m=(p=yield r())!==null&&p!==void 0?p:i;let y=new l(f==null?void 0:f.headers);return y.has("apikey")||y.set("apikey",i),y.has("Authorization")||y.set("Authorization",`Bearer ${m}`),a(c,Object.assign(Object.assign({},f),{headers:y}))})};var W0=function(i,r,s,a){function l(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(a.next(v))}catch(x){f(x)}}function m(v){try{y(a.throw(v))}catch(x){f(x)}}function y(v){v.done?c(v.value):l(v.value).then(p,m)}y((a=a.apply(i,r||[])).next())})};function q0(i){return i.endsWith("/")?i:i+"/"}function V0(i,r){var s,a;const{db:l,auth:c,realtime:f,global:p}=i,{db:m,auth:y,realtime:v,global:x}=r,_={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},y),c),realtime:Object.assign(Object.assign({},v),f),storage:{},global:Object.assign(Object.assign(Object.assign({},x),p),{headers:Object.assign(Object.assign({},(s=x==null?void 0:x.headers)!==null&&s!==void 0?s:{}),(a=p==null?void 0:p.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>W0(this,void 0,void 0,function*(){return""})};return i.accessToken?_.accessToken=i.accessToken:delete _.accessToken,_}const fh="2.71.1",In=30*1e3,Ol=3,vl=Ol*In,H0="http://localhost:9999",K0="supabase.auth.token",G0={"X-Client-Info":`gotrue-js/${fh}`},Ll="X-Supabase-Api-Version",hh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},J0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Q0=10*60*1e3;class Yl extends Error{constructor(r,s,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function oe(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Y0 extends Yl{constructor(r,s,a){super(r,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function X0(i){return oe(i)&&i.name==="AuthApiError"}class ph extends Yl{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class Nr extends Yl{constructor(r,s,a,l){super(r,a,l),this.name=s,this.status=a}}class xr extends Nr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Z0(i){return oe(i)&&i.name==="AuthSessionMissingError"}class eo extends Nr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class to extends Nr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class ro extends Nr{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ey(i){return oe(i)&&i.name==="AuthImplicitGrantRedirectError"}class Pf extends Nr{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Il extends Nr{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function xl(i){return oe(i)&&i.name==="AuthRetryableFetchError"}class Tf extends Nr{constructor(r,s,a){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class $l extends Nr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const ao="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Af=` 	
\r=`.split(""),ty=(()=>{const i=new Array(128);for(let r=0;r<i.length;r+=1)i[r]=-1;for(let r=0;r<Af.length;r+=1)i[Af[r].charCodeAt(0)]=-2;for(let r=0;r<ao.length;r+=1)i[ao[r].charCodeAt(0)]=r;return i})();function Rf(i,r,s){if(i!==null)for(r.queue=r.queue<<8|i,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(ao[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(ao[a]),r.queuedBits-=6}}function mh(i,r,s){const a=ty[i];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Of(i){const r=[],s=f=>{r.push(String.fromCodePoint(f))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=f=>{sy(f,a,s)};for(let f=0;f<i.length;f+=1)mh(i.charCodeAt(f),l,c);return r.join("")}function ry(i,r){if(i<=127){r(i);return}else if(i<=2047){r(192|i>>6),r(128|i&63);return}else if(i<=65535){r(224|i>>12),r(128|i>>6&63),r(128|i&63);return}else if(i<=1114111){r(240|i>>18),r(128|i>>12&63),r(128|i>>6&63),r(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function ny(i,r){for(let s=0;s<i.length;s+=1){let a=i.charCodeAt(s);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(i.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}ry(a,r)}}function sy(i,r,s){if(r.utf8seq===0){if(i<=127){s(i);return}for(let a=1;a<6;a+=1)if((i>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=i&31;else if(r.utf8seq===3)r.codepoint=i&15;else if(r.utf8seq===4)r.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|i&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function iy(i){const r=[],s={queue:0,queuedBits:0},a=l=>{r.push(l)};for(let l=0;l<i.length;l+=1)mh(i.charCodeAt(l),s,a);return new Uint8Array(r)}function oy(i){const r=[];return ny(i,s=>r.push(s)),new Uint8Array(r)}function ay(i){const r=[],s={queue:0,queuedBits:0},a=l=>{r.push(l)};return i.forEach(l=>Rf(l,s,a)),Rf(null,s,a),r.join("")}function ly(i){return Math.round(Date.now()/1e3)+i}function uy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const r=Math.random()*16|0;return(i=="x"?r:r&3|8).toString(16)})}const Tt=()=>typeof window<"u"&&typeof document<"u",zr={tested:!1,writable:!1},gh=()=>{if(!Tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zr.tested)return zr.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),zr.tested=!0,zr.writable=!0}catch{zr.tested=!0,zr.writable=!1}return zr.writable};function cy(i){const r={},s=new URL(i);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,c)=>{r[c]=l})}catch{}return s.searchParams.forEach((a,l)=>{r[l]=a}),r}const yh=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...s)=>Ds(async()=>{const{default:a}=await Promise.resolve().then(()=>zn);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)},dy=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",$n=async(i,r,s)=>{await i.setItem(r,JSON.stringify(s))},Br=async(i,r)=>{const s=await i.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},vr=async(i,r)=>{await i.removeItem(r)};class po{constructor(){this.promise=new po.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}po.promiseConstructor=Promise;function wl(i){const r=i.split(".");if(r.length!==3)throw new $l("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!J0.test(r[a]))throw new $l("JWT not in base64url format");return{header:JSON.parse(Of(r[0])),payload:JSON.parse(Of(r[1])),signature:iy(r[2]),raw:{header:r[0],payload:r[1]}}}async function fy(i){return await new Promise(r=>{setTimeout(()=>r(null),i)})}function hy(i,r){return new Promise((a,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await i(c);if(!r(c,null,f)){a(f);return}}catch(f){if(!r(c,f)){l(f);return}}})()})}function py(i){return("0"+i.toString(16)).substr(-2)}function my(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let l="";for(let c=0;c<56;c++)l+=s.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(r),Array.from(r,py).join("")}async function gy(i){const s=new TextEncoder().encode(i),a=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(a);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function yy(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const s=await gy(i);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function An(i,r,s=!1){const a=my();let l=a;s&&(l+="/PASSWORD_RECOVERY"),await $n(i,`${r}-code-verifier`,l);const c=await yy(a);return[c,a===c?"plain":"s256"]}const vy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xy(i){const r=i.headers.get(Ll);if(!r||!r.match(vy))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function wy(i){if(!i)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(i<=r)throw new Error("JWT has expired")}function _y(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const by=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rn(i){if(!by.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _l(){const i={};return new Proxy(i,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Lf(i){return JSON.parse(JSON.stringify(i))}var jy=function(i,r){var s={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&r.indexOf(a)<0&&(s[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(i);l<a.length;l++)r.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(i,a[l])&&(s[a[l]]=i[a[l]]);return s};const Wr=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),ky=[502,503,504];async function If(i){var r;if(!dy(i))throw new Il(Wr(i),0);if(ky.includes(i.status))throw new Il(Wr(i),i.status);let s;try{s=await i.json()}catch(c){throw new ph(Wr(c),c)}let a;const l=xy(i);if(l&&l.getTime()>=hh["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new Tf(Wr(s),i.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new xr}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new Tf(Wr(s),i.status,s.weak_password.reasons);throw new Y0(Wr(s),i.status||500,a)}const Sy=(i,r,s,a)=>{const l={method:i,headers:(r==null?void 0:r.headers)||{}};return i==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),s))};async function he(i,r,s,a){var l;const c=Object.assign({},a==null?void 0:a.headers);c[Ll]||(c[Ll]=hh["2024-01-01"].name),a!=null&&a.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const f=(l=a==null?void 0:a.query)!==null&&l!==void 0?l:{};a!=null&&a.redirectTo&&(f.redirect_to=a.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await Ny(i,r,s+p,{headers:c,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(m):{data:Object.assign({},m),error:null}}async function Ny(i,r,s,a,l,c){const f=Sy(r,a,l,c);let p;try{p=await i(s,Object.assign({},f))}catch(m){throw console.error(m),new Il(Wr(m),0)}if(p.ok||await If(p),a!=null&&a.noResolveJson)return p;try{return await p.json()}catch(m){await If(m)}}function Gt(i){var r;let s=null;Ty(i)&&(s=Object.assign({},i),i.expires_at||(s.expires_at=ly(i.expires_in)));const a=(r=i.user)!==null&&r!==void 0?r:i;return{data:{session:s,user:a},error:null}}function $f(i){const r=Gt(i);return!r.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(r.data.weak_password=i.weak_password),r}function wr(i){var r;return{data:{user:(r=i.user)!==null&&r!==void 0?r:i},error:null}}function Cy(i){return{data:i,error:null}}function Ey(i){const{action_link:r,email_otp:s,hashed_token:a,redirect_to:l,verification_type:c}=i,f=jy(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:s,hashed_token:a,redirect_to:l,verification_type:c},m=Object.assign({},f);return{data:{properties:p,user:m},error:null}}function Py(i){return i}function Ty(i){return i.access_token&&i.refresh_token&&i.expires_in}const bl=["global","local","others"];var Ay=function(i,r){var s={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&r.indexOf(a)<0&&(s[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(i);l<a.length;l++)r.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(i,a[l])&&(s[a[l]]=i[a[l]]);return s};class Ry{constructor({url:r="",headers:s={},fetch:a}){this.url=r,this.headers=s,this.fetch=yh(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,s=bl[0]){if(bl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bl.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(oe(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,s={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:wr})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:s}=r,a=Ay(r,["options"]),l=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(l.new_email=a==null?void 0:a.newEmail,delete l.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Ey,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(oe(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:wr})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,a,l,c,f,p,m;try{const y={nextPage:null,lastPage:0,total:0},v=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:Py});if(v.error)throw v.error;const x=await v.json(),_=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,E=(m=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return E.length>0&&(E.forEach(A=>{const O=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(A.split(";")[1].split("=")[1]);y[`${k}Page`]=O}),y.total=parseInt(_)),{data:Object.assign(Object.assign({},x),y),error:null}}catch(y){if(oe(y))return{data:{users:[]},error:y};throw y}}async getUserById(r){Rn(r);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:wr})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){Rn(r);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:wr})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,s=!1){Rn(r);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:wr})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){Rn(r.userId);try{const{data:s,error:a}=await he(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:a}}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _deleteFactor(r){Rn(r.userId),Rn(r.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}}}function Uf(i={}){return{getItem:r=>i[r]||null,setItem:(r,s)=>{i[r]=s},removeItem:r=>{delete i[r]}}}function Oy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const On={debug:!!(globalThis&&gh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vh extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Ly extends vh{}async function Iy(i,r,s){On.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),On.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){On.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,l.name);try{return await s()}finally{On.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,l.name)}}else{if(r===0)throw On.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new Ly(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(On.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Oy();const $y={url:H0,storageKey:K0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:G0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Df(i,r,s){return await s()}const Ln={};class Us{constructor(r){var s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Us.nextInstanceID,Us.nextInstanceID+=1,this.instanceID>0&&Tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},$y),r);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Ry({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=yh(l.fetch),this.lock=l.lock||Df,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Tt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Iy:this.lock=Df,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:gh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Uf(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Uf(this.memoryStorage)),Tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var r,s;return(s=(r=Ln[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=Ln[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fh}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const s=cy(window.location.href);let a="none";if(this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce"),Tt()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:c}=await this._getSessionFromURL(s,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),ey(c)){const m=(r=c.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:f,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return oe(s)?{error:s}:{error:new ph("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,a,l;try{const c=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:Gt}),{data:f,error:p}=c;if(p||!f)return{data:{user:null,session:null},error:p};const m=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:y,session:m},error:null}}catch(c){if(oe(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(r){var s,a,l;try{let c;if("email"in r){const{email:v,password:x,options:_}=r;let E=null,A=null;this.flowType==="pkce"&&([E,A]=await An(this.storage,this.storageKey)),c=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:v,password:x,data:(s=_==null?void 0:_.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:E,code_challenge_method:A},xform:Gt})}else if("phone"in r){const{phone:v,password:x,options:_}=r;c=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:x,data:(a=_==null?void 0:_.data)!==null&&a!==void 0?a:{},channel:(l=_==null?void 0:_.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Gt})}else throw new to("You must provide either an email or phone number and a password");const{data:f,error:p}=c;if(p||!f)return{data:{user:null,session:null},error:p};const m=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:y,session:m},error:null}}catch(c){if(oe(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(r){try{let s;if("email"in r){const{email:c,password:f,options:p}=r;s=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:$f})}else if("phone"in r){const{phone:c,password:f,options:p}=r;s=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:$f})}else throw new to("You must provide either an email or phone number and a password");const{data:a,error:l}=s;return l?{data:{user:null,session:null},error:l}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new eo}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(s){if(oe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(r){var s,a,l,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;if(s==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(r){var s,a,l,c,f,p,m,y,v,x,_,E;let A,O;if("message"in r)A=r.message,O=r.signature;else{const{chain:k,wallet:L,statement:M,options:R}=r;let V;if(Tt())if(typeof L=="object")V=L;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))V=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=L}const te=new URL((s=R==null?void 0:R.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in V&&V.signIn){const z=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),M?{statement:M}:null));let Z;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")Z=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)Z=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)A=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),O=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${te.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(l=(a=R==null?void 0:R.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=R==null?void 0:R.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((f=R==null?void 0:R.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((p=R==null?void 0:R.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((m=R==null?void 0:R.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((y=R==null?void 0:R.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((x=(v=R==null?void 0:R.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||x===void 0)&&x.length?["Resources",...R.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const z=await V.signMessage(new TextEncoder().encode(A),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=z}}try{const{data:k,error:L}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:ay(O)},!((_=r.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(E=r.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Gt});if(L)throw L;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new eo}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:L})}catch(k){if(oe(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(r){const s=await Br(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(s??"").split("/");try{const{data:c,error:f}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:Gt});if(await vr(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new eo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:f})}catch(c){if(oe(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(r){try{const{options:s,provider:a,token:l,access_token:c,nonce:f}=r,p=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Gt}),{data:m,error:y}=p;return y?{data:{user:null,session:null},error:y}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new eo}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:y})}catch(s){if(oe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(r){var s,a,l,c,f;try{if("email"in r){const{email:p,options:m}=r;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await An(this.storage,this.storageKey));const{error:x}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(a=m==null?void 0:m.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:v},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in r){const{phone:p,options:m}=r,{data:y,error:v}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(c=m==null?void 0:m.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(f=m==null?void 0:m.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:v}}throw new to("You must provide either an email or phone number.")}catch(p){if(oe(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(r){var s,a;try{let l,c;"options"in r&&(l=(s=r.options)===null||s===void 0?void 0:s.redirectTo,c=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:f,error:p}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:Gt});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,y=f.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:y,session:m},error:null}}catch(l){if(oe(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(r){var s,a,l;try{let c=null,f=null;return this.flowType==="pkce"&&([c,f]=await An(this.storage,this.storageKey)),await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:Cy})}catch(c){if(oe(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)throw a;if(!s)throw new xr;const{error:l}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:l}})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:a,type:l,options:c}=r,{error:f}=await he(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in r){const{phone:a,type:l,options:c}=r,{data:f,error:p}=await he(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new to("You must provide either an email or phone number and a type")}catch(s){if(oe(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await Br(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<vl:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const f=await Br(this.userStorage,this.storageKey+"-user");f!=null&&f.user?r.user=f.user:r.user=_l()}if(this.storage.isServer&&r.user){let f=this.suppressGetSessionWarning;r=new Proxy(r,{get:(m,y,v)=>(!f&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,y,v))})}return{data:{session:r},error:null}}const{session:l,error:c}=await this._callRefreshToken(r.refresh_token);return c?{data:{session:null},error:c}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:wr}):await this._useSession(async s=>{var a,l,c;const{data:f,error:p}=s;if(p)throw p;return!(!((a=f.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xr}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:wr})})}catch(s){if(oe(s))return Z0(s)&&(await this._removeSession(),await vr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async a=>{const{data:l,error:c}=a;if(c)throw c;if(!l.session)throw new xr;const f=l.session;let p=null,m=null;this.flowType==="pkce"&&r.email!=null&&([p,m]=await An(this.storage,this.storageKey));const{data:y,error:v}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:m}),jwt:f.access_token,xform:wr});if(v)throw v;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new xr;const s=Date.now()/1e3;let a=s,l=!0,c=null;const{payload:f}=wl(r.access_token);if(f.exp&&(a=f.exp,l=a<=s),l){const{session:p,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:m}=await this._getUser(r.access_token);if(m)throw m;c={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(oe(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var a;if(!r){const{data:f,error:p}=s;if(p)throw p;r=(a=f.session)!==null&&a!==void 0?a:void 0}if(!(r!=null&&r.refresh_token))throw new xr;const{session:l,error:c}=await this._callRefreshToken(r.refresh_token);return c?{data:{user:null,session:null},error:c}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(oe(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(r,s){try{if(!Tt())throw new ro("No browser detected.");if(r.error||r.error_description||r.error_code)throw new ro(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Pf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ro("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Pf("No code detected.");const{data:M,error:R}=await this._exchangeCodeForSession(r.code);if(R)throw R;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:c,refresh_token:f,expires_in:p,expires_at:m,token_type:y}=r;if(!c||!p||!f||!y)throw new ro("No session defined in URL");const v=Math.round(Date.now()/1e3),x=parseInt(p);let _=v+x;m&&(_=parseInt(m));const E=_-v;E*1e3<=In&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${x}s`);const A=_-x;v-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,_,v):v-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,_,v);const{data:O,error:k}=await this._getUser(c);if(k)throw k;const L={provider_token:a,provider_refresh_token:l,access_token:c,expires_in:x,expires_at:_,refresh_token:f,token_type:y,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:L,redirectType:r.type},error:null}}catch(a){if(oe(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await Br(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:l,error:c}=s;if(c)return{error:c};const f=(a=l.session)===null||a===void 0?void 0:a.access_token;if(f){const{error:p}=await this.admin.signOut(f,r);if(p&&!(X0(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return r!=="others"&&(await this._removeSession(),await vr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const s=uy(),a={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async s=>{var a,l;try{const{data:{session:c},error:f}=s;if(f)throw f;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,s={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await An(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(oe(c))return{data:null,error:c};throw c}}async getUserIdentities(){var r;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}}async linkIdentity(r){var s;try{const{data:a,error:l}=await this._useSession(async c=>{var f,p,m,y,v;const{data:x,error:_}=c;if(_)throw _;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(f=r.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",E,{headers:this.headers,jwt:(v=(y=x.session)===null||y===void 0?void 0:y.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return Tt()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:r.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(oe(a))return{data:{provider:r.provider,url:null},error:a};throw a}}async unlinkIdentity(r){try{return await this._useSession(async s=>{var a,l;const{data:c,error:f}=s;if(f)throw f;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await hy(async l=>(l>0&&await fy(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Gt})),(l,c)=>{const f=200*Math.pow(2,l);return c&&xl(c)&&Date.now()+f-a<In})}catch(a){if(this._debug(s,"error",a),oe(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",a),Tt()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await Br(this.storage,this.storageKey);if(l&&this.userStorage){let f=await Br(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:l.user},await $n(this.userStorage,this.storageKey+"-user",f)),l.user=(r=f==null?void 0:f.user)!==null&&r!==void 0?r:_l()}else if(l&&!l.user&&!l.user){const f=await Br(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(l.user=f.user,await vr(this.storage,this.storageKey+"-user"),await $n(this.storage,this.storageKey,l)):l.user=_l()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const c=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<vl;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${vl}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:f}=await this._callRefreshToken(l.refresh_token);f&&(console.error(f),xl(f)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(l.access_token);!p&&(f!=null&&f.user)?(l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(a,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var s,a;if(!r)throw new xr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new po;const{data:c,error:f}=await this._refreshAccessToken(r);if(f)throw f;if(!c.session)throw new xr;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={session:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(l,"error",c),oe(c)){const f={session:null,error:c};return xl(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,s,a=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:s});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,s)}catch(m){c.push(m)}});if(await Promise.all(f),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const s=Object.assign({},r),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await $n(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const c=Lf(l);await $n(this.storage,this.storageKey,c)}else{const l=Lf(s);await $n(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await vr(this.storage,this.storageKey),await vr(this.storage,this.storageKey+"-code-verifier"),await vr(this.storage,this.storageKey+"-user"),this.userStorage&&await vr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),In);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-r)/In);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${In}ms, refresh threshold is ${Ol} ticks`),l<=Ol&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof vh)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,a){const l=[`provider=${encodeURIComponent(s)}`];if(a!=null&&a.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,f]=await An(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});l.push(p.toString())}if(a!=null&&a.queryParams){const c=new URLSearchParams(a.queryParams);l.push(c.toString())}return a!=null&&a.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var a;const{data:l,error:c}=s;return c?{data:null,error:c}:await he(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _enroll(r){try{return await this._useSession(async s=>{var a,l;const{data:c,error:f}=s;if(f)return{data:null,error:f};const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:m,error:y}=await he(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(a=c==null?void 0:c.session)===null||a===void 0?void 0:a.access_token});return y?{data:null,error:y}:(r.factorType==="totp"&&(!((l=m==null?void 0:m.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:l,error:c}=s;if(c)return{data:null,error:c};const{data:f,error:p}=await he(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(s){if(oe(s))return{data:null,error:s};throw s}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:l,error:c}=s;return c?{data:null,error:c}:await he(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(oe(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(r){const{data:s,error:a}=await this._challenge({factorId:r.factorId});return a?{data:null,error:a}:await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const a=(r==null?void 0:r.factors)||[],l=a.filter(f=>f.factor_type==="totp"&&f.status==="verified"),c=a.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:a,totp:l,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var s,a;const{data:{session:l},error:c}=r;if(c)return{data:null,error:c};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=wl(l.access_token);let p=null;f.aal&&(p=f.aal);let m=p;((a=(s=l.user.factors)===null||s===void 0?void 0:s.filter(x=>x.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(m="aal2");const v=f.amr||[];return{data:{currentLevel:p,nextLevel:m,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(r,s={keys:[]}){let a=s.keys.find(p=>p.kid===r);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(p=>p.kid===r),a&&this.jwks_cached_at+Q0>l)return a;const{data:c,error:f}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,a=c.keys.find(p=>p.kid===r),!a)?null:a}async getClaims(r,s={}){try{let a=r;if(!a){const{data:E,error:A}=await this.getSession();if(A||!E.session)return{data:null,error:A};a=E.session.access_token}const{header:l,payload:c,signature:f,raw:{header:p,payload:m}}=wl(a);s!=null&&s.allowExpired||wy(c.exp);const y=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!y){const{error:E}=await this.getUser(a);if(E)throw E;return{data:{claims:c,header:l,signature:f},error:null}}const v=_y(l.alg),x=await crypto.subtle.importKey("jwk",y,v,!0,["verify"]);if(!await crypto.subtle.verify(v,x,f,oy(`${p}.${m}`)))throw new $l("Invalid JWT signature");return{data:{claims:c,header:l,signature:f},error:null}}catch(a){if(oe(a))return{data:null,error:a};throw a}}}Us.nextInstanceID=0;const Uy=Us;class Dy extends Uy{constructor(r){super(r)}}var Fy=function(i,r,s,a){function l(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(a.next(v))}catch(x){f(x)}}function m(v){try{y(a.throw(v))}catch(x){f(x)}}function y(v){v.done?c(v.value):l(v.value).then(p,m)}y((a=a.apply(i,r||[])).next())})};class My{constructor(r,s,a){var l,c,f;if(this.supabaseUrl=r,this.supabaseKey=s,!r)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const p=q0(r),m=new URL(p);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const y=`sb-${m.hostname.split(".")[0]}-auth-token`,v={db:$0,realtime:D0,auth:Object.assign(Object.assign({},U0),{storageKey:y}),global:I0},x=V0(a??{},v);this.storageKey=(l=x.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=x.global.headers)!==null&&c!==void 0?c:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(_,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=x.auth)!==null&&f!==void 0?f:{},this.headers,x.global.fetch),this.fetch=B0(s,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new r0(new URL("rest/v1",m).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new R0(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new qg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,s={},a={}){return this.rest.rpc(r,s,a)}channel(r,s={config:{}}){return this.realtime.channel(r,s)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,s;return Fy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:l,storageKey:c,flowType:f,lock:p,debug:m},y,v){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Dy({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),y),storageKey:c,autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:l,flowType:f,lock:p,debug:m,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new x0(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(r,s,a){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:r==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zy=(i,r,s)=>new My(i,r,s);function By(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const r=i.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}By()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Wy="https://hfqcbataezzfgavidhbe.supabase.co",qy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhmcWNiYXRhZXp6ZmdhdmlkaGJlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5NTk4NjksImV4cCI6MjA3MDUzNTg2OX0.vPzsikPkgLBKoPnDPiGY-y6dZRdgaHc2Ml4JjxL-Kl0",ue=zy(Wy,qy);let Vy={data:""},Hy=i=>typeof window=="object"?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||Vy,Ky=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Gy=/\/\*[^]*?\*\/|  +/g,Ff=/\n+/g,_r=(i,r)=>{let s="",a="",l="";for(let c in i){let f=i[c];c[0]=="@"?c[1]=="i"?s=c+" "+f+";":a+=c[1]=="f"?_r(f,c):c+"{"+_r(f,c[1]=="k"?"":r)+"}":typeof f=="object"?a+=_r(f,r?r.replace(/([^,])+/g,p=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,p):p?p+" "+m:m)):c):f!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=_r.p?_r.p(c,f):c+":"+f+";")}return s+(r&&l?r+"{"+l+"}":l)+a},Kt={},xh=i=>{if(typeof i=="object"){let r="";for(let s in i)r+=s+xh(i[s]);return r}return i},Jy=(i,r,s,a,l)=>{let c=xh(i),f=Kt[c]||(Kt[c]=(m=>{let y=0,v=11;for(;y<m.length;)v=101*v+m.charCodeAt(y++)>>>0;return"go"+v})(c));if(!Kt[f]){let m=c!==i?i:(y=>{let v,x,_=[{}];for(;v=Ky.exec(y.replace(Gy,""));)v[4]?_.shift():v[3]?(x=v[3].replace(Ff," ").trim(),_.unshift(_[0][x]=_[0][x]||{})):_[0][v[1]]=v[2].replace(Ff," ").trim();return _[0]})(i);Kt[f]=_r(l?{["@keyframes "+f]:m}:m,s?"":"."+f)}let p=s&&Kt.g?Kt.g:null;return s&&(Kt.g=Kt[f]),((m,y,v,x)=>{x?y.data=y.data.replace(x,m):y.data.indexOf(m)===-1&&(y.data=v?m+y.data:y.data+m)})(Kt[f],r,a,p),f},Qy=(i,r,s)=>i.reduce((a,l,c)=>{let f=r[c];if(f&&f.call){let p=f(s),m=p&&p.props&&p.props.className||/^go/.test(p)&&p;f=m?"."+m:p&&typeof p=="object"?p.props?"":_r(p,""):p===!1?"":p}return a+l+(f??"")},"");function mo(i){let r=this||{},s=i.call?i(r.p):i;return Jy(s.unshift?s.raw?Qy(s,[].slice.call(arguments,1),r.p):s.reduce((a,l)=>Object.assign(a,l&&l.call?l(r.p):l),{}):s,Hy(r.target),r.g,r.o,r.k)}let wh,Ul,Dl;mo.bind({g:1});let Yt=mo.bind({k:1});function Yy(i,r,s,a){_r.p=r,wh=i,Ul=s,Dl=a}function Cr(i,r){let s=this||{};return function(){let a=arguments;function l(c,f){let p=Object.assign({},c),m=p.className||l.className;s.p=Object.assign({theme:Ul&&Ul()},p),s.o=/ *go\d+/.test(m),p.className=mo.apply(s,a)+(m?" "+m:"");let y=i;return i[0]&&(y=p.as||i,delete p.as),Dl&&y[0]&&Dl(p),wh(y,p)}return l}}var Xy=i=>typeof i=="function",lo=(i,r)=>Xy(i)?i(r):i,Zy=(()=>{let i=0;return()=>(++i).toString()})(),_h=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let r=matchMedia("(prefers-reduced-motion: reduce)");i=!r||r.matches}return i}})(),ev=20,bh=(i,r)=>{switch(r.type){case 0:return{...i,toasts:[r.toast,...i.toasts].slice(0,ev)};case 1:return{...i,toasts:i.toasts.map(c=>c.id===r.toast.id?{...c,...r.toast}:c)};case 2:let{toast:s}=r;return bh(i,{type:i.toasts.find(c=>c.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=r;return{...i,toasts:i.toasts.map(c=>c.id===a||a===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return r.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(c=>c.id!==r.toastId)};case 5:return{...i,pausedAt:r.time};case 6:let l=r.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+l}))}}},so=[],Hr={toasts:[],pausedAt:void 0},Xr=i=>{Hr=bh(Hr,i),so.forEach(r=>{r(Hr)})},tv={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},rv=(i={})=>{let[r,s]=N.useState(Hr),a=N.useRef(Hr);N.useEffect(()=>(a.current!==Hr&&s(Hr),so.push(s),()=>{let c=so.indexOf(s);c>-1&&so.splice(c,1)}),[]);let l=r.toasts.map(c=>{var f,p,m;return{...i,...i[c.type],...c,removeDelay:c.removeDelay||((f=i[c.type])==null?void 0:f.removeDelay)||(i==null?void 0:i.removeDelay),duration:c.duration||((p=i[c.type])==null?void 0:p.duration)||(i==null?void 0:i.duration)||tv[c.type],style:{...i.style,...(m=i[c.type])==null?void 0:m.style,...c.style}}});return{...r,toasts:l}},nv=(i,r="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:r,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...s,id:(s==null?void 0:s.id)||Zy()}),Ms=i=>(r,s)=>{let a=nv(r,i,s);return Xr({type:2,toast:a}),a.id},st=(i,r)=>Ms("blank")(i,r);st.error=Ms("error");st.success=Ms("success");st.loading=Ms("loading");st.custom=Ms("custom");st.dismiss=i=>{Xr({type:3,toastId:i})};st.remove=i=>Xr({type:4,toastId:i});st.promise=(i,r,s)=>{let a=st.loading(r.loading,{...s,...s==null?void 0:s.loading});return typeof i=="function"&&(i=i()),i.then(l=>{let c=r.success?lo(r.success,l):void 0;return c?st.success(c,{id:a,...s,...s==null?void 0:s.success}):st.dismiss(a),l}).catch(l=>{let c=r.error?lo(r.error,l):void 0;c?st.error(c,{id:a,...s,...s==null?void 0:s.error}):st.dismiss(a)}),i};var sv=(i,r)=>{Xr({type:1,toast:{id:i,height:r}})},iv=()=>{Xr({type:5,time:Date.now()})},Ls=new Map,ov=1e3,av=(i,r=ov)=>{if(Ls.has(i))return;let s=setTimeout(()=>{Ls.delete(i),Xr({type:4,toastId:i})},r);Ls.set(i,s)},lv=i=>{let{toasts:r,pausedAt:s}=rv(i);N.useEffect(()=>{if(s)return;let c=Date.now(),f=r.map(p=>{if(p.duration===1/0)return;let m=(p.duration||0)+p.pauseDuration-(c-p.createdAt);if(m<0){p.visible&&st.dismiss(p.id);return}return setTimeout(()=>st.dismiss(p.id),m)});return()=>{f.forEach(p=>p&&clearTimeout(p))}},[r,s]);let a=N.useCallback(()=>{s&&Xr({type:6,time:Date.now()})},[s]),l=N.useCallback((c,f)=>{let{reverseOrder:p=!1,gutter:m=8,defaultPosition:y}=f||{},v=r.filter(E=>(E.position||y)===(c.position||y)&&E.height),x=v.findIndex(E=>E.id===c.id),_=v.filter((E,A)=>A<x&&E.visible).length;return v.filter(E=>E.visible).slice(...p?[_+1]:[0,_]).reduce((E,A)=>E+(A.height||0)+m,0)},[r]);return N.useEffect(()=>{r.forEach(c=>{if(c.dismissed)av(c.id,c.removeDelay);else{let f=Ls.get(c.id);f&&(clearTimeout(f),Ls.delete(c.id))}})},[r]),{toasts:r,handlers:{updateHeight:sv,startPause:iv,endPause:a,calculateOffset:l}}},uv=Yt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,cv=Yt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dv=Yt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,fv=Cr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${uv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${cv} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${dv} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,hv=Yt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,pv=Cr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${hv} 1s linear infinite;
`,mv=Yt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,gv=Yt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,yv=Cr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${gv} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,vv=Cr("div")`
  position: absolute;
`,xv=Cr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,wv=Yt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_v=Cr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${wv} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,bv=({toast:i})=>{let{icon:r,type:s,iconTheme:a}=i;return r!==void 0?typeof r=="string"?N.createElement(_v,null,r):r:s==="blank"?null:N.createElement(xv,null,N.createElement(pv,{...a}),s!=="loading"&&N.createElement(vv,null,s==="error"?N.createElement(fv,{...a}):N.createElement(yv,{...a})))},jv=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,kv=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,Sv="0%{opacity:0;} 100%{opacity:1;}",Nv="0%{opacity:1;} 100%{opacity:0;}",Cv=Cr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ev=Cr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Pv=(i,r)=>{let s=i.includes("top")?1:-1,[a,l]=_h()?[Sv,Nv]:[jv(s),kv(s)];return{animation:r?`${Yt(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Yt(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Tv=N.memo(({toast:i,position:r,style:s,children:a})=>{let l=i.height?Pv(i.position||r||"top-center",i.visible):{opacity:0},c=N.createElement(bv,{toast:i}),f=N.createElement(Ev,{...i.ariaProps},lo(i.message,i));return N.createElement(Cv,{className:i.className,style:{...l,...s,...i.style}},typeof a=="function"?a({icon:c,message:f}):N.createElement(N.Fragment,null,c,f))});Yy(N.createElement);var Av=({id:i,className:r,style:s,onHeightUpdate:a,children:l})=>{let c=N.useCallback(f=>{if(f){let p=()=>{let m=f.getBoundingClientRect().height;a(i,m)};p(),new MutationObserver(p).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[i,a]);return N.createElement("div",{ref:c,className:r,style:s},l)},Rv=(i,r)=>{let s=i.includes("top"),a=s?{top:0}:{bottom:0},l=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:_h()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${r*(s?1:-1)}px)`,...a,...l}},Ov=mo`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,no=16,Lv=({reverseOrder:i,position:r="top-center",toastOptions:s,gutter:a,children:l,containerStyle:c,containerClassName:f})=>{let{toasts:p,handlers:m}=lv(s);return N.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:no,left:no,right:no,bottom:no,pointerEvents:"none",...c},className:f,onMouseEnter:m.startPause,onMouseLeave:m.endPause},p.map(y=>{let v=y.position||r,x=m.calculateOffset(y,{reverseOrder:i,gutter:a,defaultPosition:r}),_=Rv(v,x);return N.createElement(Av,{id:y.id,key:y.id,onHeightUpdate:m.updateHeight,className:y.visible?Ov:"",style:_},y.type==="custom"?lo(y.message,y):l?l(y):N.createElement(Tv,{toast:y,position:v}))}))},ie=st;const jh=N.createContext(void 0);function Dt(){const i=N.useContext(jh);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i}function Iv({children:i}){const[r,s]=N.useState(null),[a,l]=N.useState(null),[c,f]=N.useState(!0),p=(a==null?void 0:a.role)==="admin";N.useEffect(()=>{let A=!0,O;async function k(){try{f(!0),O=setTimeout(()=>{A&&(console.warn("Loading timeout reached, setting loading to false"),f(!1))},1e4);const{data:{user:M}}=await ue.auth.getUser();if(!A)return;s(M),M&&await m(M.id)}catch(M){console.error("Error loading user:",M),A&&(s(null),l(null))}finally{A&&(f(!1),O&&clearTimeout(O))}}k();const{data:{subscription:L}}=ue.auth.onAuthStateChange((M,R)=>{var V;A&&(console.log("Auth state changed:",M,(V=R==null?void 0:R.user)==null?void 0:V.email),s((R==null?void 0:R.user)||null),R!=null&&R.user?m(R.user.id).catch(te=>{console.error("Error loading profile after auth change:",te),l(null)}):l(null))});return()=>{A=!1,O&&clearTimeout(O),L.unsubscribe()}},[]);async function m(A){try{console.log("Loading profile for user:",A);let O=3,k=null;for(;O>0&&!k;){const{data:L,error:M}=await ue.from("profiles").select("*").eq("id",A).maybeSingle();if(M){if(console.error("Profile load error:",M),O===1)throw M;O--,await new Promise(R=>setTimeout(R,500));continue}k=L;break}console.log("Profile loaded:",k),l(k),k||console.warn("No profile found for user, this should not happen with triggers")}catch(O){console.error("Error loading profile:",O),l(null)}}async function y(){r&&await m(r.id)}async function v(A,O){const{error:k}=await ue.auth.signInWithPassword({email:A,password:O});if(k)throw ie.error(k.message),k;ie.success("Successfully signed in!")}async function x(A,O,k){const{error:L}=await ue.auth.signUp({email:A,password:O,options:{data:{full_name:k}}});if(L)throw ie.error(L.message),L;ie.success("Successfully signed up!")}async function _(){const{error:A}=await ue.auth.signOut();if(A)throw ie.error(A.message),A;ie.success("Successfully signed out!")}const E={user:r,profile:a,loading:c,isAdmin:p,signIn:v,signUp:x,signOut:_,refreshProfile:y};return u.jsx(jh.Provider,{value:E,children:i})}function $v({children:i}){const{user:r,loading:s}=Dt();return console.log("ProtectedRoute - Loading:",s,"User:",r==null?void 0:r.email),s?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):r?(console.log("ProtectedRoute - User authenticated, rendering children"),u.jsx(u.Fragment,{children:i})):(console.log("ProtectedRoute - No user, redirecting to login"),u.jsx(Gr,{to:"/login",replace:!0}))}function Uv({children:i}){const{user:r,profile:s,loading:a,isAdmin:l}=Dt();return console.log("AdminRoute - Loading:",a,"User:",r==null?void 0:r.email,"Profile:",s,"IsAdmin:",l),a?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Loading admin panel..."})]})}):r?l?(console.log("AdminRoute - Admin user authenticated, rendering admin panel"),u.jsx(u.Fragment,{children:i})):(console.log("AdminRoute - User not admin, redirecting to app"),u.jsx(Gr,{to:"/app",replace:!0})):(console.log("AdminRoute - No user, redirecting to login"),u.jsx(Gr,{to:"/login",replace:!0}))}/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(i,r)=>{const s=N.forwardRef(({color:a="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:f,className:p="",children:m,...y},v)=>N.createElement("svg",{ref:v,...Dv,width:l,height:l,stroke:a,strokeWidth:f?Number(c)*24/Number(l):c,className:["lucide",`lucide-${Fv(i)}`,p].join(" "),...y},[...r.map(([x,_])=>N.createElement(x,_)),...Array.isArray(m)?m:[m]]));return s.displayName=`${i}`,s};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=_e("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=_e("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=_e("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=_e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=_e("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=_e("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=_e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=_e("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=_e("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=_e("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=_e("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=_e("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Qv(){const[i,r]=N.useState(""),[s,a]=N.useState(""),[l,c]=N.useState(!1),[f,p]=N.useState(!1),{signIn:m,user:y}=Dt(),v=Mn();N.useEffect(()=>{y&&(console.log("User already logged in, redirecting to app"),v("/app",{replace:!0}))},[y,v]);async function x(_){if(_.preventDefault(),!f){p(!0);try{console.log("Attempting login for:",i),await m(i,s),console.log("Login successful, redirecting...")}catch(E){console.error("Login error:",E)}finally{p(!1)}}}return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("img",{className:"mx-auto h-16 w-auto",src:"https://i.ibb.co/GzB7Wg5/aiw-logo.png",alt:"AI Agent Chat"}),u.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Sign in to your account"}),u.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",u.jsx(Ut,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your email",value:i,onChange:_=>r(_.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{id:"password",name:"password",type:l?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none relative block w-full px-3 py-3 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your password",value:s,onChange:_=>a(_.target.value)}),u.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>c(!l),children:l?u.jsx(Xl,{className:"h-5 w-5 text-gray-400"}):u.jsx(go,{className:"h-5 w-5 text-gray-400"})})]})]})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:f,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-150 ease-in-out",style:{backgroundColor:"#1043FA"},children:f?u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Sign in"})})]})]})})}function Yv({email:i,onBack:r}){const[s,a]=N.useState(!1),[l,c]=N.useState(0);async function f(){if(!(s||l>0)){a(!0);try{const{error:p}=await ue.auth.resend({type:"signup",email:i});if(p)throw ie.error(p.message),p;ie.success("Confirmation email sent successfully!"),c(60);const m=setInterval(()=>{c(y=>y<=1?(clearInterval(m),0):y-1)},1e3)}catch(p){console.error("Error resending email:",p)}finally{a(!1)}}}return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:u.jsx(Vv,{className:"h-8 w-8 text-green-600"})}),u.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Check Your Email"}),u.jsxs("div",{className:"mt-6 text-sm text-gray-600 space-y-3",children:[u.jsx("p",{className:"text-base leading-relaxed",children:"We've sent a confirmation email to:"}),u.jsx("p",{className:"font-semibold text-gray-900 bg-gray-100 px-4 py-2 rounded-lg",children:i})]})]}),u.jsx("div",{className:"bg-white shadow-sm rounded-lg p-6 border border-gray-200",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"Email Details:"}),u.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"From:"})," Supabase Auth"]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"Email:"})," noreply@mail.app.supabase.io"]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"Subject:"}),' "Asking to confirm your Sign Up"']})]})]}),u.jsx("div",{className:"text-sm text-gray-600 leading-relaxed",children:u.jsx("p",{children:"Please click on the link in the email and log in with the email and password you created."})}),u.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Didn't receive the email? Check your spam folder or request a new one."}),u.jsx("button",{onClick:f,disabled:s||l>0,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-150 ease-in-out",children:s?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600 mr-2"}),"Sending..."]}):l>0?u.jsxs(u.Fragment,{children:[u.jsx(Fl,{className:"h-4 w-4 mr-2"}),"Resend in ",l,"s"]}):u.jsxs(u.Fragment,{children:[u.jsx(Fl,{className:"h-4 w-4 mr-2"}),"Resend Confirmation Email"]})})]})]})}),u.jsxs("div",{className:"text-center space-y-4",children:[u.jsxs("button",{onClick:r,className:"inline-flex items-center text-sm font-medium text-gray-600 hover:text-gray-900 transition duration-150 ease-in-out",children:[u.jsx(uo,{className:"h-4 w-4 mr-1"}),"Back to Registration"]}),u.jsx("div",{className:"border-t border-gray-200 pt-4",children:u.jsxs("p",{className:"text-sm text-gray-600",children:["Already confirmed your email?"," ",u.jsx(Ut,{to:"/login",className:"font-medium hover:underline transition duration-150 ease-in-out",style:{color:"#1043FA"},children:"Sign in to your account"})]})})]})]})})}function Xv(){const[i,r]=N.useState(""),[s,a]=N.useState(""),[l,c]=N.useState(""),[f,p]=N.useState(!1),[m,y]=N.useState(!1),[v,x]=N.useState(!1),{signUp:_,user:E}=Dt(),A=Mn();N.useEffect(()=>{E&&(console.log("User already logged in, redirecting to app"),A("/app",{replace:!0}))},[E,A]);async function O(L){if(L.preventDefault(),!m){y(!0);try{console.log("Attempting signup for:",i),await _(i,s,l),console.log("Signup successful - showing email verification screen"),x(!0)}catch(M){console.error("Signup error:",M)}finally{y(!1)}}}function k(){x(!1)}return v?u.jsx(Yv,{email:i,onBack:k}):u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("img",{className:"mx-auto h-16 w-auto",src:"https://i.ibb.co/GzB7Wg5/aiw-logo.png",alt:"AI Agent Chat"}),u.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create your account"}),u.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Already have an account?"," ",u.jsx(Ut,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})]}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:O,children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),u.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,className:"appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your full name",value:l,onChange:L=>c(L.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your email",value:i,onChange:L=>r(L.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{id:"password",name:"password",type:f?"text":"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-3 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your password",value:s,onChange:L=>a(L.target.value),minLength:6}),u.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!f),children:f?u.jsx(Xl,{className:"h-5 w-5 text-gray-400"}):u.jsx(go,{className:"h-5 w-5 text-gray-400"})})]}),u.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"Must be at least 6 characters"})]})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:m,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-150 ease-in-out",style:{backgroundColor:"#1043FA"},children:m?u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Create account"})})]})]})})}function Zv(){const[i,r]=N.useState([]),[s,a]=N.useState(!0);N.useEffect(()=>{l()},[]);async function l(){try{const{data:c,error:f}=await ue.from("agents").select("*").eq("is_enabled",!0).order("created_at",{ascending:!1});if(f)throw f;r(c||[])}catch{ie.error("Failed to load agents")}finally{a(!1)}}return s?u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((c,f)=>u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 animate-pulse",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full mx-auto mb-4"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),u.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),u.jsx("div",{className:"h-10 bg-gray-200 rounded"})]},f))})}):u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"AI Agent Gallery"}),u.jsx("p",{className:"text-gray-600",children:"Choose an AI agent to start a conversation"})]}),i.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Qe,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No agents available"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Contact your administrator to add AI agents."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(c=>u.jsx(Ut,{to:`/app/chat/${c.id}`,className:"group bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md hover:border-blue-300 transition-all duration-200 p-6",children:u.jsxs("div",{className:"text-center",children:[c.image_url?u.jsx("img",{src:c.image_url,alt:c.name,className:"w-16 h-16 rounded-full mx-auto mb-4 object-cover border-2 border-gray-200 group-hover:border-blue-300 transition-colors duration-200"}):u.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center border-2 border-gray-200 group-hover:border-blue-300 transition-colors duration-200",style:{backgroundColor:"#f0f9ff"},children:u.jsx(Qe,{className:"h-8 w-8",style:{color:"#1043FA"}})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors duration-200",children:c.name}),u.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:c.short_description}),u.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-medium text-white transition-colors duration-200",style:{backgroundColor:"#1043FA"},children:[u.jsx(kr,{className:"w-4 h-4 mr-2"}),"Start Chat"]})]})},c.id))})]})}function zf(){const{agentId:i,conversationId:r}=hg(),{user:s}=Dt(),a=Mn(),[l,c]=N.useState(null),[f,p]=N.useState(null),[m,y]=N.useState([]),[v,x]=N.useState(""),[_,E]=N.useState(!0),[A,O]=N.useState(!1),k=N.useRef(null);N.useEffect(()=>{i&&s&&M()},[i,r,s]),N.useEffect(()=>{L()},[m]);const L=()=>{var I;(I=k.current)==null||I.scrollIntoView({behavior:"smooth"})};async function M(){try{const{data:I,error:Y}=await ue.from("agents").select("*").eq("id",i).eq("is_enabled",!0).maybeSingle();if(Y)throw Y;if(!I){ie.error("Agent not found"),a("/app/agents");return}c(I),r?await R(r):await V(I.id)}catch{ie.error("Failed to initialize chat"),a("/app/agents")}finally{E(!1)}}async function R(I){try{const{data:Y,error:le}=await ue.from("conversations").select("*").eq("id",I).eq("user_id",s==null?void 0:s.id).maybeSingle();if(le)throw le;if(!Y)throw new Error("Conversation not found");p(Y);const{data:ze,error:Te}=await ue.from("messages").select("*").eq("conversation_id",I).order("created_at",{ascending:!0});if(Te)throw Te;y(ze||[])}catch{ie.error("Failed to load conversation"),await V(i)}}async function V(I){try{const{data:Y,error:le}=await ue.from("conversations").insert({user_id:s==null?void 0:s.id,agent_id:I,title:`Chat with ${(l==null?void 0:l.name)||"AI Agent"}`,is_active:!0}).select().single();if(le)throw le;p(Y),a(`/app/chat/${I}/${Y.id}`,{replace:!0})}catch{ie.error("Failed to create conversation")}}async function te(){if(console.log("sendMessage called",{hasMessage:!!v.trim(),hasConversation:!!f,hasAgent:!!l,isSending:A}),!v.trim()){console.log("No message content, returning");return}if(!f){console.log("No conversation, returning"),ie.error("No active conversation");return}if(!l){console.log("No agent, returning"),ie.error("No agent selected");return}if(A){console.log("Already sending, returning");return}const I=v.trim();console.log("Sending message:",I),x(""),O(!0);try{console.log("Calling chat-handler with:",{message:I,conversationId:f.id,agentId:l.id});const{data:Y,error:le}=await ue.functions.invoke("working-chat-handler",{body:{message:I,conversationId:f.id,agentId:l.id}});if(console.log("Chat handler response:",{data:Y,error:le}),le)throw console.error("Chat handler error:",le),le;console.log("Message sent successfully, refreshing messages..."),await z()}catch(Y){console.error("Failed to send message:",Y),ie.error(`Failed to send message: ${Y.message}`),x(I)}finally{O(!1)}}async function z(){if(f)try{const{data:I,error:Y}=await ue.from("messages").select("*").eq("conversation_id",f.id).order("created_at",{ascending:!0});if(Y)throw Y;y(I||[])}catch(I){console.error("Failed to load messages:",I)}}const Z=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),te())};return _?u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:"#1043FA"}})}):l?u.jsxs("div",{className:"flex flex-col h-screen",children:[u.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("button",{onClick:()=>a("/app/agents"),className:"mr-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:u.jsx(uo,{className:"h-6 w-6"})}),l.image_url?u.jsx("img",{src:l.image_url,alt:l.name,className:"h-10 w-10 rounded-full object-cover border-2 border-gray-200"}):u.jsx("div",{className:"h-10 w-10 rounded-full flex items-center justify-center border-2 border-gray-200",style:{backgroundColor:"#f0f9ff"},children:u.jsx(Qe,{className:"h-6 w-6",style:{color:"#1043FA"}})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:l.name}),u.jsx("p",{className:"text-sm text-gray-500",children:l.short_description})]})]})}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{backgroundColor:"#f9fafb"},children:[m.length===0?u.jsx("div",{className:"text-center py-8",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-auto shadow-sm",children:[u.jsx(Qe,{className:"mx-auto h-12 w-12 mb-4",style:{color:"#1043FA"}}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Start a conversation"}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Send a message to begin chatting with ",l.name]})]})}):m.map(I=>u.jsx("div",{className:`flex ${I.role==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-xs lg:max-w-md xl:max-w-lg flex ${I.role==="user"?"flex-row-reverse":"flex-row"} items-start space-x-2`,children:[u.jsx("div",{className:`flex-shrink-0 ${I.role==="user"?"ml-2":"mr-2"}`,children:I.role==="user"?u.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center",style:{backgroundColor:"#1043FA"},children:u.jsx(Kr,{className:"h-5 w-5 text-white"})}):l.image_url?u.jsx("img",{src:l.image_url,alt:l.name,className:"h-8 w-8 rounded-full object-cover border border-gray-200"}):u.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center border border-gray-200",style:{backgroundColor:"#f0f9ff"},children:u.jsx(Qe,{className:"h-5 w-5",style:{color:"#1043FA"}})})}),u.jsxs("div",{className:`px-4 py-2 rounded-2xl ${I.role==="user"?"text-white":"bg-white text-gray-900 border border-gray-200"}`,style:{backgroundColor:I.role==="user"?"#1043FA":void 0},children:[u.jsx("p",{className:"text-sm whitespace-pre-wrap",children:I.content}),u.jsx("p",{className:`text-xs mt-1 ${I.role==="user"?"text-blue-200":"text-gray-500"}`,children:new Date(I.created_at).toLocaleTimeString()})]})]})},I.id)),A&&u.jsx("div",{className:"flex justify-start",children:u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center border border-gray-200",style:{backgroundColor:"#f0f9ff"},children:u.jsx(Qe,{className:"h-5 w-5",style:{color:"#1043FA"}})}),u.jsx("div",{className:"bg-white px-4 py-2 rounded-2xl border border-gray-200",children:u.jsxs("div",{className:"flex space-x-1",children:[u.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),u.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),u.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),u.jsx("div",{ref:k})]}),u.jsx("div",{className:"border-t border-gray-200 p-4 bg-white",children:u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:"flex-1",children:u.jsx("textarea",{value:v,onChange:I=>x(I.target.value),onKeyPress:Z,placeholder:"Type your message...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:border-blue-500 focus:ring-blue-500 resize-none max-h-32",rows:1,disabled:A})}),u.jsx("button",{onClick:()=>{console.log("Send button clicked"),te()},disabled:!v.trim()||A,className:"p-3 rounded-xl text-white transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"#21A35B"},children:u.jsx(Gv,{className:"h-5 w-5"})})]})})]}):u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Qe,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Agent not found"}),u.jsx("button",{onClick:()=>a("/app/agents"),className:"mt-2 text-sm text-blue-600 hover:text-blue-500",children:"Back to Gallery"})]})})}function ex(){const{user:i}=Dt(),[r,s]=N.useState([]),[a,l]=N.useState(!0);N.useEffect(()=>{i&&c()},[i]);async function c(){try{const{data:p,error:m}=await ue.from("conversations").select("*").eq("user_id",i==null?void 0:i.id).order("updated_at",{ascending:!1});if(m)throw m;if(!p||p.length===0){s([]),l(!1);return}const y=[...new Set(p.map(E=>E.agent_id))],{data:v,error:x}=await ue.from("agents").select("*").in("id",y);if(x)throw x;const _=await Promise.all(p.map(async E=>{const{data:A,error:O}=await ue.from("messages").select("created_at").eq("conversation_id",E.id).order("created_at",{ascending:!1}).limit(1),{count:k}=await ue.from("messages").select("*",{count:"exact",head:!0}).eq("conversation_id",E.id),L=v==null?void 0:v.find(R=>R.id===E.agent_id),M=A&&A.length>0?A[0]:null;return{...E,agent:L,message_count:k||0,last_message_date:M==null?void 0:M.created_at}}));s(_)}catch{ie.error("Failed to load conversations")}finally{l(!1)}}const f=p=>{const m=new Date(p),v=Math.abs(new Date().getTime()-m.getTime()),x=Math.ceil(v/(1e3*60*60*24));return x===1?"Today":x===2?"Yesterday":x<=7?`${x-1} days ago`:m.toLocaleDateString()};return a?u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"space-y-4",children:[...Array(5)].map((p,m)=>u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 animate-pulse",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),u.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]})},m))})}):u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Conversation History"}),u.jsx("p",{className:"text-gray-600",children:"Your past conversations with AI agents"})]}),r.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(kr,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No conversations yet"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start a conversation with an AI agent to see your history here."}),u.jsx("div",{className:"mt-6",children:u.jsx(Ut,{to:"/app/agents",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white transition-colors duration-200",style:{backgroundColor:"#1043FA"},children:"Browse Agents"})})]}):u.jsx("div",{className:"space-y-4",children:r.map(p=>{var m,y,v;return u.jsx(Ut,{to:`/app/chat/${p.agent_id}/${p.id}`,className:"block bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md hover:border-blue-300 transition-all duration-200",children:u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[(m=p.agent)!=null&&m.image_url?u.jsx("img",{src:p.agent.image_url,alt:p.agent.name,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200"}):u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center border-2 border-gray-200",style:{backgroundColor:"#f0f9ff"},children:u.jsx(Qe,{className:"h-6 w-6",style:{color:"#1043FA"}})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:p.title||`Chat with ${((y=p.agent)==null?void 0:y.name)||"AI Agent"}`}),u.jsxs("p",{className:"text-sm text-gray-600 truncate",children:[(v=p.agent)==null?void 0:v.name," • ",p.message_count," messages"]}),u.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500",children:[u.jsx(kh,{className:"w-3 h-3 mr-1"}),p.last_message_date?f(p.last_message_date):f(p.created_at)]})]})]}),u.jsx(zv,{className:"w-5 h-5 text-gray-400 group-hover:text-gray-600"})]})})},p.id)})})]})}function tx({children:i}){const{profile:r,signOut:s}=Dt(),[a,l]=N.useState(!1),c=Qr(),f=[{name:"Agent Gallery",href:"/app/agents",icon:kr},{name:"Chat History",href:"/app/history",icon:Bv},...(r==null?void 0:r.role)==="admin"?[{name:"Admin Panel",href:"/admin",icon:Vr}]:[]],p=m=>c.pathname===m;return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsxs("div",{className:`fixed inset-0 flex z-40 md:hidden ${a?"":"pointer-events-none"}`,children:[u.jsx("div",{className:`fixed inset-0 bg-gray-600 ${a?"opacity-75":"opacity-0"} transition-opacity ease-linear duration-300`}),u.jsxs("div",{className:`relative flex-1 flex flex-col max-w-xs w-full bg-white ${a?"translate-x-0":"-translate-x-full"} transition-transform ease-in-out duration-300`,children:[u.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:u.jsx("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>l(!1),children:u.jsx(fo,{className:"h-6 w-6 text-white"})})}),u.jsxs("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[u.jsx("div",{className:"flex-shrink-0 flex items-center px-4",children:u.jsx("img",{className:"h-8 w-auto",src:"https://i.ibb.co/GzB7Wg5/aiw-logo.png",alt:"AI Agent Chat"})}),u.jsx("nav",{className:"mt-5 px-2 space-y-1",children:f.map(m=>{const y=m.icon;return u.jsxs(Ut,{to:m.href,className:`${p(m.href)?"bg-blue-100 text-blue-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-2 py-2 text-base font-medium rounded-md`,onClick:()=>l(!1),children:[u.jsx(y,{className:"mr-4 h-6 w-6"}),m.name]},m.name)})})]}),u.jsx("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center",children:u.jsx(Kr,{className:"h-5 w-5 text-white"})})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-base font-medium text-gray-700",children:r==null?void 0:r.full_name}),u.jsx("p",{className:"text-sm font-medium text-gray-500",children:r==null?void 0:r.email})]})]})})]})]}),u.jsx("div",{className:"hidden md:flex md:w-64 md:flex-col md:fixed md:inset-y-0",children:u.jsxs("div",{className:"flex-1 flex flex-col min-h-0 border-r border-gray-200 bg-white",children:[u.jsxs("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center flex-shrink-0 px-4",children:[u.jsx("img",{className:"h-8 w-auto",src:"https://i.ibb.co/GzB7Wg5/aiw-logo.png",alt:"AI Agent Chat"}),u.jsx("h1",{className:"ml-2 text-xl font-bold",style:{color:"#1043FA"},children:"AI Agent Chat"})]}),u.jsx("nav",{className:"mt-5 flex-1 px-2 bg-white space-y-1",children:f.map(m=>{const y=m.icon;return u.jsxs(Ut,{to:m.href,className:`${p(m.href)?"text-white":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-2 py-3 text-sm font-medium rounded-md transition-colors duration-200`,style:{backgroundColor:p(m.href)?"#1043FA":"transparent"},children:[u.jsx(y,{className:"mr-3 h-5 w-5"}),m.name]},m.name)})})]}),u.jsx("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:u.jsxs("div",{className:"flex items-center justify-between w-full",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center",style:{backgroundColor:"#1043FA"},children:u.jsx(Kr,{className:"h-5 w-5 text-white"})})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700",children:r==null?void 0:r.full_name}),u.jsx("p",{className:"text-xs text-gray-500",children:r==null?void 0:r.email})]})]}),u.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors duration-200",title:"Sign out",children:u.jsx(co,{className:"h-5 w-5"})})]})})]})}),u.jsxs("div",{className:"md:pl-64 flex flex-col flex-1",children:[u.jsx("div",{className:"md:hidden sticky top-0 z-10 bg-white shadow",children:u.jsxs("div",{className:"px-4 py-2 flex items-center justify-between",children:[u.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-600",onClick:()=>l(!0),children:u.jsx(Sh,{className:"h-6 w-6"})}),u.jsx("img",{className:"h-8 w-auto",src:"https://i.ibb.co/GzB7Wg5/aiw-logo.png",alt:"AI Agent Chat"}),u.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:u.jsx(co,{className:"h-6 w-6"})})]})}),u.jsx("main",{className:"flex-1",children:i})]})]})}function rx(){const{profile:i}=Dt();return i?u.jsx(tx,{children:u.jsxs(Hl,{children:[u.jsx(Je,{path:"/",element:u.jsx(Gr,{to:"agents",replace:!0})}),u.jsx(Je,{path:"agents",element:u.jsx(Zv,{})}),u.jsx(Je,{path:"chat/:agentId",element:u.jsx(zf,{})}),u.jsx(Je,{path:"chat/:agentId/:conversationId",element:u.jsx(zf,{})}),u.jsx(Je,{path:"history",element:u.jsx(ex,{})})]})}):u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}function nx({children:i}){const{profile:r,signOut:s}=Dt(),[a,l]=N.useState(!1),c=Qr(),f=Mn(),p=[{name:"Dashboard",href:"/admin/dashboard",icon:qv},{name:"User Management",href:"/admin/users",icon:Jr},{name:"Agent Management",href:"/admin/agents",icon:Qe},{name:"Conversations",href:"/admin/conversations",icon:kr},{name:"Settings",href:"/admin/settings",icon:Eh}],m=y=>c.pathname===y;return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsxs("div",{className:`fixed inset-0 flex z-40 md:hidden ${a?"":"pointer-events-none"}`,children:[u.jsx("div",{className:`fixed inset-0 bg-gray-600 ${a?"opacity-75":"opacity-0"} transition-opacity ease-linear duration-300`}),u.jsxs("div",{className:`relative flex-1 flex flex-col max-w-xs w-full bg-white ${a?"translate-x-0":"-translate-x-full"} transition-transform ease-in-out duration-300`,children:[u.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:u.jsx("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>l(!1),children:u.jsx(fo,{className:"h-6 w-6 text-white"})})}),u.jsxs("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[u.jsxs("div",{className:"flex-shrink-0 flex items-center px-4",children:[u.jsx(Vr,{className:"h-8 w-8",style:{color:"#1043FA"}}),u.jsx("h1",{className:"ml-2 text-lg font-bold text-gray-900",children:"Admin Panel"})]}),u.jsx("div",{className:"px-4 mt-4 mb-2",children:u.jsxs("button",{onClick:()=>{f("/app"),l(!1)},className:"w-full flex items-center px-2 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors duration-200",children:[u.jsx(uo,{className:"mr-3 h-4 w-4"}),"Back to User View"]})}),u.jsx("nav",{className:"mt-5 px-2 space-y-1",children:p.map(y=>{const v=y.icon;return u.jsxs(Ut,{to:y.href,className:`${m(y.href)?"bg-blue-100 text-blue-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-2 py-2 text-base font-medium rounded-md`,onClick:()=>l(!1),children:[u.jsx(v,{className:"mr-4 h-6 w-6"}),y.name]},y.name)})})]}),u.jsx("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center",style:{backgroundColor:"#1043FA"},children:u.jsx(Vr,{className:"h-5 w-5 text-white"})})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-base font-medium text-gray-700",children:r==null?void 0:r.full_name}),u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Administrator"})]})]})})]})]}),u.jsx("div",{className:"hidden md:flex md:w-64 md:flex-col md:fixed md:inset-y-0",children:u.jsxs("div",{className:"flex-1 flex flex-col min-h-0 border-r border-gray-200 bg-white",children:[u.jsxs("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center flex-shrink-0 px-4 mb-4",children:[u.jsx(Vr,{className:"h-8 w-8",style:{color:"#1043FA"}}),u.jsx("h1",{className:"ml-2 text-xl font-bold",style:{color:"#1043FA"},children:"Admin Panel"})]}),u.jsx("div",{className:"px-4 mb-6",children:u.jsxs("button",{onClick:()=>f("/app"),className:"w-full flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors duration-200 group",children:[u.jsx(uo,{className:"mr-3 h-4 w-4 group-hover:text-blue-600"}),"Back to User View"]})}),u.jsx("nav",{className:"mt-5 flex-1 px-2 bg-white space-y-1",children:p.map(y=>{const v=y.icon;return u.jsxs(Ut,{to:y.href,className:`${m(y.href)?"text-white":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} group flex items-center px-2 py-3 text-sm font-medium rounded-md transition-colors duration-200`,style:{backgroundColor:m(y.href)?"#1043FA":"transparent"},children:[u.jsx(v,{className:"mr-3 h-5 w-5"}),y.name]},y.name)})})]}),u.jsx("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:u.jsxs("div",{className:"flex items-center justify-between w-full",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center",style:{backgroundColor:"#1043FA"},children:u.jsx(Vr,{className:"h-5 w-5 text-white"})})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700",children:r==null?void 0:r.full_name}),u.jsx("p",{className:"text-xs text-gray-500",children:"Administrator"})]})]}),u.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors duration-200",title:"Sign out",children:u.jsx(co,{className:"h-5 w-5"})})]})})]})}),u.jsxs("div",{className:"md:pl-64 flex flex-col flex-1",children:[u.jsx("div",{className:"md:hidden sticky top-0 z-10 bg-white shadow",children:u.jsxs("div",{className:"px-4 py-2 flex items-center justify-between",children:[u.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-600",onClick:()=>l(!0),children:u.jsx(Sh,{className:"h-6 w-6"})}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Vr,{className:"h-6 w-6",style:{color:"#1043FA"}}),u.jsx("span",{className:"ml-2 font-semibold",style:{color:"#1043FA"},children:"Admin"})]}),u.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:u.jsx(co,{className:"h-6 w-6"})})]})}),u.jsx("main",{className:"flex-1",children:i})]})]})}function sx(){const[i,r]=N.useState([]),[s,a]=N.useState(!0),[l,c]=N.useState(""),[f,p]=N.useState(!1),[m,y]=N.useState(!1),[v,x]=N.useState(null),[_,E]=N.useState({email:"",password:"",full_name:"",role:"user"}),[A,O]=N.useState(!1);N.useEffect(()=>{k()},[]);async function k(){try{const{data:z,error:Z}=await ue.from("profiles").select("*").order("created_at",{ascending:!1});if(Z)throw Z;r(z||[])}catch{ie.error("Failed to load users")}finally{a(!1)}}async function L(){if(!_.email||!_.password){ie.error("Email and password are required");return}O(!0);try{const{data:z,error:Z}=await ue.functions.invoke("admin-operations",{body:{action:"create_user",data:_}});if(Z)throw Z;ie.success("User created successfully"),p(!1),R(),k()}catch(z){ie.error(z.message||"Failed to create user")}finally{O(!1)}}async function M(){if(v){O(!0);try{const{data:z,error:Z}=await ue.functions.invoke("admin-operations",{body:{action:"update_user",data:{userId:v.id,updates:{full_name:_.full_name,role:_.role}}}});if(Z)throw Z;ie.success("User updated successfully"),y(!1),R(),k()}catch(z){ie.error(z.message||"Failed to update user")}finally{O(!1)}}}function R(){E({email:"",password:"",full_name:"",role:"user"}),x(null)}function V(z){x(z),E({email:z.email,password:"",full_name:z.full_name||"",role:z.role||"user"}),y(!0)}const te=i.filter(z=>{var Z;return((Z=z.full_name)==null?void 0:Z.toLowerCase().includes(l.toLowerCase()))||z.email.toLowerCase().includes(l.toLowerCase())});return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"User Management"}),u.jsx("p",{className:"text-gray-600",children:"Manage users and their access permissions"})]}),u.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-medium text-white transition-colors duration-200",style:{backgroundColor:"#1043FA"},children:[u.jsx(Ch,{className:"w-4 h-4 mr-2"}),"Add User"]})]}),u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"relative",children:[u.jsx(Zl,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search users...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:border-blue-500 focus:ring-blue-500",value:l,onChange:z=>c(z.target.value)})]})}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[u.jsx(Jr,{className:"w-5 h-5 mr-2",style:{color:"#1043FA"}}),"Users (",te.length,")"]})}),s?u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"space-y-4",children:[...Array(5)].map((z,Z)=>u.jsxs("div",{className:"flex items-center space-x-4 animate-pulse",children:[u.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),u.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},Z))})}):te.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Jr,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No users found"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new user."})]}):u.jsx("div",{className:"divide-y divide-gray-200",children:te.map(z=>u.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors duration-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"h-10 w-10 rounded-full flex items-center justify-center",style:{backgroundColor:z.role==="admin"?"#1043FA":"#f0f9ff"},children:z.role==="admin"?u.jsx(Vr,{className:"h-6 w-6 text-white"}):u.jsx(Kr,{className:"h-6 w-6",style:{color:"#1043FA"}})})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:z.full_name||"No name provided"}),u.jsx("p",{className:"text-sm text-gray-600",children:z.email}),u.jsxs("div",{className:"mt-1 flex items-center",children:[u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${z.role==="admin"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:z.role==="admin"?"Administrator":"User"}),u.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["Created ",new Date(z.created_at).toLocaleDateString()]})]})]})]}),u.jsxs("button",{onClick:()=>V(z),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[u.jsx(Nh,{className:"w-4 h-4 mr-2"}),"Edit"]})]})},z.id))})]}),f&&u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New User"})}),u.jsxs("div",{className:"px-6 py-4 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:border-blue-500 focus:ring-blue-500",value:_.email,onChange:z=>E({..._,email:z.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),u.jsx("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:border-blue-500 focus:ring-blue-500",value:_.password,onChange:z=>E({..._,password:z.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),u.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:border-blue-500 focus:ring-blue-500",value:_.full_name,onChange:z=>E({..._,full_name:z.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),u.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:border-blue-500 focus:ring-blue-500",value:_.role,onChange:z=>E({..._,role:z.target.value}),children:[u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"admin",children:"Administrator"})]})]})]}),u.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[u.jsx("button",{onClick:()=>{p(!1),R()},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),u.jsx("button",{onClick:L,disabled:A,className:"px-4 py-2 text-sm font-medium text-white rounded-md transition-colors duration-200 disabled:opacity-50",style:{backgroundColor:"#21A35B"},children:A?"Creating...":"Create User"})]})]})}),m&&v&&u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit User"})}),u.jsxs("div",{className:"px-6 py-4 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100",value:_.email,disabled:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),u.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:border-blue-500 focus:ring-blue-500",value:_.full_name,onChange:z=>E({..._,full_name:z.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),u.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:border-blue-500 focus:ring-blue-500",value:_.role,onChange:z=>E({..._,role:z.target.value}),children:[u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"admin",children:"Administrator"})]})]})]}),u.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[u.jsx("button",{onClick:()=>{y(!1),R()},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),u.jsx("button",{onClick:M,disabled:A,className:"px-4 py-2 text-sm font-medium text-white rounded-md transition-colors duration-200 disabled:opacity-50",style:{backgroundColor:"#21A35B"},children:A?"Updating...":"Update User"})]})]})})]})}function ix(){const[i,r]=N.useState([]),[s,a]=N.useState(!0),[l,c]=N.useState(""),[f,p]=N.useState(!1),[m,y]=N.useState(!1),[v,x]=N.useState(null),[_,E]=N.useState({name:"",short_description:"",system_prompt:"",is_enabled:!0}),[A,O]=N.useState(!1),[k,L]=N.useState(null),[M,R]=N.useState(null),V=N.useRef(null);N.useEffect(()=>{te()},[]);async function te(){try{const{data:W,error:ae}=await ue.from("agents").select("*").order("created_at",{ascending:!1});if(ae)throw ae;r(W||[])}catch{ie.error("Failed to load agents")}finally{a(!1)}}async function z(W){try{return new Promise((ae,pe)=>{const q=new FileReader;q.onloadend=async()=>{try{const ee=q.result,K=`agent-${Date.now()}-${W.name}`,{data:S,error:$}=await ue.functions.invoke("image-upload",{body:{imageData:ee,fileName:K,bucketName:"agent-images"}});if($)throw $;ae(S.data.publicUrl)}catch(ee){pe(ee)}},q.onerror=pe,q.readAsDataURL(W)})}catch{return ie.error("Failed to upload image"),null}}async function Z(){if(!_.name||!_.system_prompt){ie.error("Name and system prompt are required");return}O(!0);try{let W=null;k&&(W=await z(k));const{data:ae,error:pe}=await ue.from("agents").insert({name:_.name,short_description:_.short_description,system_prompt:_.system_prompt,image_url:W,is_enabled:_.is_enabled}).select().single();if(pe)throw pe;ie.success("Agent created successfully"),p(!1),le(),te()}catch(W){ie.error(W.message||"Failed to create agent")}finally{O(!1)}}async function I(){if(v){O(!0);try{let W=v.image_url;if(k){const pe=await z(k);pe&&(W=pe)}const{error:ae}=await ue.from("agents").update({name:_.name,short_description:_.short_description,system_prompt:_.system_prompt,image_url:W,is_enabled:_.is_enabled}).eq("id",v.id);if(ae)throw ae;ie.success("Agent updated successfully"),y(!1),le(),te()}catch(W){ie.error(W.message||"Failed to update agent")}finally{O(!1)}}}async function Y(W){try{const{error:ae}=await ue.from("agents").update({is_enabled:!W.is_enabled}).eq("id",W.id);if(ae)throw ae;ie.success(`Agent ${W.is_enabled?"disabled":"enabled"} successfully`),te()}catch{ie.error("Failed to update agent status")}}function le(){E({name:"",short_description:"",system_prompt:"",is_enabled:!0}),x(null),L(null),R(null)}function ze(W){x(W),E({name:W.name,short_description:W.short_description||"",system_prompt:W.system_prompt,is_enabled:W.is_enabled}),R(W.image_url),y(!0)}function Te(W){var pe;const ae=(pe=W.target.files)==null?void 0:pe[0];if(ae){L(ae);const q=new FileReader;q.onloadend=()=>{R(q.result)},q.readAsDataURL(ae)}}function be(){L(null),R(null),V.current&&(V.current.value="")}const Ye=i.filter(W=>{var ae;return W.name.toLowerCase().includes(l.toLowerCase())||((ae=W.short_description)==null?void 0:ae.toLowerCase().includes(l.toLowerCase()))||!1});return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agent Management"}),u.jsx("p",{className:"text-gray-600",children:"Create and manage AI agents for your platform"})]}),u.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-medium text-white transition-colors duration-200",style:{backgroundColor:"#1043FA"},children:[u.jsx(Ch,{className:"w-4 h-4 mr-2"}),"Add Agent"]})]}),u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"relative",children:[u.jsx(Zl,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search agents...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:border-blue-500 focus:ring-blue-500",value:l,onChange:W=>c(W.target.value)})]})}),s?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((W,ae)=>u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full mx-auto mb-4"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),u.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),u.jsx("div",{className:"h-10 bg-gray-200 rounded"})]},ae))}):Ye.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Qe,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No agents found"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new AI agent."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ye.map(W=>u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"text-center mb-4",children:W.image_url?u.jsx("img",{src:W.image_url,alt:W.name,className:"w-16 h-16 rounded-full mx-auto object-cover border-2 border-gray-200"}):u.jsx("div",{className:"w-16 h-16 rounded-full mx-auto flex items-center justify-center border-2 border-gray-200",style:{backgroundColor:"#f0f9ff"},children:u.jsx(Qe,{className:"h-8 w-8",style:{color:"#1043FA"}})})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 text-center",children:W.name}),u.jsx("p",{className:"text-sm text-gray-600 mb-4 text-center line-clamp-2",children:W.short_description||"No description provided"}),u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${W.is_enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:W.is_enabled?"Enabled":"Disabled"})}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("button",{onClick:()=>ze(W),className:"flex-1 inline-flex items-center justify-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors duration-200",children:[u.jsx(Nh,{className:"w-4 h-4 mr-1"}),"Edit"]}),u.jsx("button",{onClick:()=>Y(W),className:"flex-1 inline-flex items-center justify-center px-3 py-2 text-sm font-medium text-white rounded-md transition-colors duration-200",style:{backgroundColor:W.is_enabled?"#dc2626":"#21A35B"},children:W.is_enabled?u.jsxs(u.Fragment,{children:[u.jsx(Xl,{className:"w-4 h-4 mr-1"}),"Disable"]}):u.jsxs(u.Fragment,{children:[u.jsx(go,{className:"w-4 h-4 mr-1"}),"Enable"]})})]})]})},W.id))}),f&&u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New Agent"})}),u.jsxs("div",{className:"px-6 py-4 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agent Image"}),u.jsxs("div",{className:"flex items-center space-x-4",children:[M?u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:M,alt:"Preview",className:"w-16 h-16 rounded-full object-cover border-2 border-gray-200"}),u.jsx("button",{onClick:be,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:u.jsx(fo,{className:"w-3 h-3"})})]}):u.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center border-2 border-gray-200 bg-gray-50",children:u.jsx(Qe,{className:"h-8 w-8 text-gray-400"})}),u.jsxs("div",{children:[u.jsx("input",{ref:V,type:"file",accept:"image/*",onChange:Te,className:"hidden"}),u.jsxs("button",{onClick:()=>{var W;return(W=V.current)==null?void 0:W.click()},className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors duration-200",children:[u.jsx(Ml,{className:"w-4 h-4 mr-2"}),"Upload Image"]})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agent Name"}),u.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:border-blue-500 focus:ring-blue-500",value:_.name,onChange:W=>E({..._,name:W.target.value}),placeholder:"e.g., Customer Support Assistant"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Description"}),u.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:border-blue-500 focus:ring-blue-500 resize-none",rows:2,value:_.short_description,onChange:W=>E({..._,short_description:W.target.value}),placeholder:"Brief description of what this agent does..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"System Prompt"}),u.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:border-blue-500 focus:ring-blue-500 resize-none",rows:6,value:_.system_prompt,onChange:W=>E({..._,system_prompt:W.target.value}),placeholder:"Define the agent's behavior, personality, and capabilities..."})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"is_enabled",className:"h-4 w-4 rounded border-gray-300 focus:ring-2",style:{color:"#1043FA"},checked:_.is_enabled,onChange:W=>E({..._,is_enabled:W.target.checked})}),u.jsx("label",{htmlFor:"is_enabled",className:"ml-2 text-sm font-medium text-gray-700",children:"Enable agent for users"})]})]}),u.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[u.jsx("button",{onClick:()=>{p(!1),le()},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),u.jsx("button",{onClick:Z,disabled:A,className:"px-4 py-2 text-sm font-medium text-white rounded-md transition-colors duration-200 disabled:opacity-50",style:{backgroundColor:"#21A35B"},children:A?"Creating...":"Create Agent"})]})]})}),m&&v&&u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Agent"})}),u.jsxs("div",{className:"px-6 py-4 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agent Image"}),u.jsxs("div",{className:"flex items-center space-x-4",children:[M?u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:M,alt:"Preview",className:"w-16 h-16 rounded-full object-cover border-2 border-gray-200"}),u.jsx("button",{onClick:be,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:u.jsx(fo,{className:"w-3 h-3"})})]}):u.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center border-2 border-gray-200 bg-gray-50",children:u.jsx(Qe,{className:"h-8 w-8 text-gray-400"})}),u.jsxs("div",{children:[u.jsx("input",{ref:V,type:"file",accept:"image/*",onChange:Te,className:"hidden"}),u.jsxs("button",{onClick:()=>{var W;return(W=V.current)==null?void 0:W.click()},className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors duration-200",children:[u.jsx(Ml,{className:"w-4 h-4 mr-2"}),M?"Change Image":"Upload Image"]})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agent Name"}),u.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:border-blue-500 focus:ring-blue-500",value:_.name,onChange:W=>E({..._,name:W.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Description"}),u.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:border-blue-500 focus:ring-blue-500 resize-none",rows:2,value:_.short_description,onChange:W=>E({..._,short_description:W.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"System Prompt"}),u.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:border-blue-500 focus:ring-blue-500 resize-none",rows:6,value:_.system_prompt,onChange:W=>E({..._,system_prompt:W.target.value})})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"edit_is_enabled",className:"h-4 w-4 rounded border-gray-300 focus:ring-2",style:{color:"#1043FA"},checked:_.is_enabled,onChange:W=>E({..._,is_enabled:W.target.checked})}),u.jsx("label",{htmlFor:"edit_is_enabled",className:"ml-2 text-sm font-medium text-gray-700",children:"Enable agent for users"})]})]}),u.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[u.jsx("button",{onClick:()=>{y(!1),le()},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),u.jsx("button",{onClick:I,disabled:A,className:"px-4 py-2 text-sm font-medium text-white rounded-md transition-colors duration-200 disabled:opacity-50",style:{backgroundColor:"#21A35B"},children:A?"Updating...":"Update Agent"})]})]})})]})}function ox(){var te,z,Z;const[i,r]=N.useState([]),[s,a]=N.useState(null),[l,c]=N.useState([]),[f,p]=N.useState(null),[m,y]=N.useState(!0),[v,x]=N.useState(""),[_,E]=N.useState(!1);N.useEffect(()=>{A()},[]),N.useEffect(()=>{s&&O(s.id)},[s]);async function A(){try{const{data:I,error:Y}=await ue.from("profiles").select("*").order("full_name",{ascending:!0});if(Y)throw Y;r(I||[])}catch{ie.error("Failed to load users")}finally{y(!1)}}async function O(I){try{y(!0);const{data:Y,error:le}=await ue.from("conversations").select("*").eq("user_id",I).order("updated_at",{ascending:!1});if(le)throw le;if(!Y||Y.length===0){c([]);return}const ze=[...new Set(Y.map(W=>W.agent_id))],{data:Te,error:be}=await ue.from("agents").select("*").in("id",ze);if(be)throw be;const Ye=await Promise.all(Y.map(async W=>{const{data:ae,error:pe}=await ue.from("messages").select("created_at").eq("conversation_id",W.id).order("created_at",{ascending:!1}).limit(1),{count:q}=await ue.from("messages").select("*",{count:"exact",head:!0}).eq("conversation_id",W.id),ee=Te==null?void 0:Te.find(S=>S.id===W.agent_id),K=ae&&ae.length>0?ae[0].created_at:W.created_at;return{...W,user:s,agent:ee,message_count:q||0,last_activity:K}}));c(Ye)}catch{ie.error("Failed to load conversations")}finally{y(!1)}}async function k(I){try{const{data:Y,error:le}=await ue.from("messages").select("*").eq("conversation_id",I.id).order("created_at",{ascending:!0});if(le)throw le;p({conversation:I,messages:Y||[]}),E(!0)}catch{ie.error("Failed to load conversation messages")}}async function L(I){try{const{data:Y,error:le}=await ue.functions.invoke("admin-operations",{body:{action:"get_conversation_transcript",data:{conversationId:I.id}}});if(le)throw le;const ze=new Blob([Y.data.transcript],{type:"text/plain"}),Te=window.URL.createObjectURL(ze),be=document.createElement("a");be.style.display="none",be.href=Te,be.download=`conversation-${I.id}-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(be),be.click(),window.URL.revokeObjectURL(Te),document.body.removeChild(be),ie.success("Transcript downloaded successfully")}catch{ie.error("Failed to download transcript")}}const M=I=>new Date(I).toLocaleString(),R=i.filter(I=>{var Y;return((Y=I.full_name)==null?void 0:Y.toLowerCase().includes(v.toLowerCase()))||I.email.toLowerCase().includes(v.toLowerCase())}),V=l.filter(I=>{var Y,le;return((Y=I.agent)==null?void 0:Y.name.toLowerCase().includes(v.toLowerCase()))||((le=I.title)==null?void 0:le.toLowerCase().includes(v.toLowerCase()))});return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Conversation Monitoring"}),u.jsx("p",{className:"text-gray-600",children:"Monitor and analyze user conversations with AI agents"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[u.jsx(Jr,{className:"w-5 h-5 mr-2",style:{color:"#1043FA"}}),"Users (",R.length,")"]}),u.jsx("div",{className:"mt-4",children:u.jsxs("div",{className:"relative",children:[u.jsx(Zl,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search users...",className:"pl-9 pr-4 py-2 w-full border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:border-blue-500 focus:ring-blue-500 text-sm",value:v,onChange:I=>x(I.target.value)})]})})]}),u.jsx("div",{className:"max-h-96 overflow-y-auto",children:m?u.jsx("div",{className:"p-4 space-y-3",children:[...Array(5)].map((I,Y)=>u.jsxs("div",{className:"flex items-center space-x-3 animate-pulse",children:[u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"h-3 bg-gray-200 rounded mb-1"}),u.jsx("div",{className:"h-2 bg-gray-200 rounded w-2/3"})]})]},Y))}):R.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(Jr,{className:"mx-auto h-8 w-8 text-gray-400"}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No users found"})]}):u.jsx("div",{className:"divide-y divide-gray-200",children:R.map(I=>u.jsx("button",{onClick:()=>a(I),className:`w-full text-left p-4 hover:bg-gray-50 transition-colors duration-200 ${(s==null?void 0:s.id)===I.id?"bg-blue-50 border-r-4 border-blue-500":""}`,children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center",style:{backgroundColor:I.role==="admin"?"#1043FA":"#f0f9ff"},children:I.role==="admin"?u.jsx(Kr,{className:"h-5 w-5 text-white"}):u.jsx(Kr,{className:"h-5 w-5",style:{color:"#1043FA"}})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:I.full_name||"No name provided"}),u.jsx("p",{className:"text-xs text-gray-500 truncate",children:I.email})]})]})},I.id))})})]}),u.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm border border-gray-200",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[u.jsx(kr,{className:"w-5 h-5 mr-2",style:{color:"#1043FA"}}),"Conversations",s&&u.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["for ",s.full_name||s.email]})]})}),s?m?u.jsx("div",{className:"p-6 space-y-4",children:[...Array(3)].map((I,Y)=>u.jsx("div",{className:"border border-gray-200 rounded-lg p-4 animate-pulse",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),u.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]})},Y))}):l.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(kr,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No conversations"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This user hasn't started any conversations yet."})]}):u.jsx("div",{className:"p-6 space-y-4",children:V.map(I=>{var Y,le,ze;return u.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors duration-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[(Y=I.agent)!=null&&Y.image_url?u.jsx("img",{src:I.agent.image_url,alt:I.agent.name,className:"w-10 h-10 rounded-full object-cover border-2 border-gray-200"}):u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border-2 border-gray-200",style:{backgroundColor:"#f0f9ff"},children:u.jsx(Qe,{className:"h-6 w-6",style:{color:"#1043FA"}})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:I.title||`Chat with ${((le=I.agent)==null?void 0:le.name)||"AI Agent"}`}),u.jsxs("p",{className:"text-xs text-gray-600 truncate",children:[(ze=I.agent)==null?void 0:ze.name," • ",I.message_count," messages"]}),u.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500",children:[u.jsx(kh,{className:"w-3 h-3 mr-1"}),"Last activity: ",M(I.last_activity)]})]})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("button",{onClick:()=>k(I),className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors duration-200",children:[u.jsx(go,{className:"w-3 h-3 mr-1"}),"View"]}),u.jsxs("button",{onClick:()=>L(I),className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-white rounded-md transition-colors duration-200",style:{backgroundColor:"#21A35B"},children:[u.jsx(Mf,{className:"w-3 h-3 mr-1"}),"Download"]})]})]})},I.id)})}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx(kr,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Select a user"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Choose a user from the left to view their conversations."})]})]})]}),_&&f&&u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f.conversation.title||`Chat with ${(te=f.conversation.agent)==null?void 0:te.name}`}),u.jsxs("p",{className:"text-sm text-gray-600",children:[f.messages.length," messages •",(z=f.conversation.user)==null?void 0:z.full_name," with ",(Z=f.conversation.agent)==null?void 0:Z.name]})]}),u.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",style:{backgroundColor:"#f9fafb"},children:f.messages.map(I=>{var Y;return u.jsx("div",{className:`flex ${I.role==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-xs lg:max-w-md xl:max-w-lg flex ${I.role==="user"?"flex-row-reverse":"flex-row"} items-start space-x-2`,children:[u.jsx("div",{className:`flex-shrink-0 ${I.role==="user"?"ml-2":"mr-2"}`,children:I.role==="user"?u.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center",style:{backgroundColor:"#1043FA"},children:u.jsx(Kr,{className:"h-5 w-5 text-white"})}):(Y=f.conversation.agent)!=null&&Y.image_url?u.jsx("img",{src:f.conversation.agent.image_url,alt:f.conversation.agent.name,className:"h-8 w-8 rounded-full object-cover border border-gray-200"}):u.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center border border-gray-200",style:{backgroundColor:"#f0f9ff"},children:u.jsx(Qe,{className:"h-5 w-5",style:{color:"#1043FA"}})})}),u.jsxs("div",{className:`px-4 py-2 rounded-2xl ${I.role==="user"?"text-white":"bg-white text-gray-900 border border-gray-200"}`,style:{backgroundColor:I.role==="user"?"#1043FA":void 0},children:[u.jsx("p",{className:"text-sm whitespace-pre-wrap",children:I.content}),u.jsx("p",{className:`text-xs mt-1 ${I.role==="user"?"text-blue-200":"text-gray-500"}`,children:M(I.created_at)})]})]})},I.id)})}),u.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[u.jsxs("button",{onClick:()=>L(f.conversation),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white rounded-md transition-colors duration-200",style:{backgroundColor:"#21A35B"},children:[u.jsx(Mf,{className:"w-4 h-4 mr-2"}),"Download Transcript"]}),u.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors duration-200",children:"Close"})]})]})})]})}function ax(){const[i,r]=N.useState({app_logo_url:"",brand_color:"#1043FA",app_name:"AI Agent Chat"}),[s,a]=N.useState(!0),[l,c]=N.useState(!1),[f,p]=N.useState(null),[m,y]=N.useState(null),v=N.useRef(null);N.useEffect(()=>{x()},[]);async function x(){try{const{data:k,error:L}=await ue.from("settings").select("*");if(L)throw L;const M={};k==null||k.forEach(R=>{M[R.setting_key]=R.setting_value||""}),r({app_logo_url:M.app_logo_url||"https://i.ibb.co/GzB7Wg5/aiw-logo.png",brand_color:M.brand_color||"#1043FA",app_name:M.app_name||"AI Agent Chat"}),y(M.app_logo_url||"https://i.ibb.co/GzB7Wg5/aiw-logo.png")}catch{ie.error("Failed to load settings")}finally{a(!1)}}async function _(k){try{return new Promise((L,M)=>{const R=new FileReader;R.onloadend=async()=>{try{const V=R.result,te=`logo-${Date.now()}-${k.name}`,{data:z,error:Z}=await ue.functions.invoke("image-upload",{body:{imageData:V,fileName:te,bucketName:"logos"}});if(Z)throw Z;L(z.data.publicUrl)}catch(V){M(V)}},R.onerror=M,R.readAsDataURL(k)})}catch{return ie.error("Failed to upload logo"),null}}async function E(){c(!0);try{let k=i.app_logo_url;if(f){const M=await _(f);M&&(k=M)}const L=[{key:"app_logo_url",value:k},{key:"brand_color",value:i.brand_color},{key:"app_name",value:i.app_name}];for(const M of L){const{error:R}=await ue.from("settings").upsert({setting_key:M.key,setting_value:M.value,updated_at:new Date().toISOString()});if(R)throw R}r(M=>({...M,app_logo_url:k})),p(null),v.current&&(v.current.value=""),ie.success("Settings saved successfully")}catch{ie.error("Failed to save settings")}finally{c(!1)}}function A(k){var M;const L=(M=k.target.files)==null?void 0:M[0];if(L){if(L.size>5*1024*1024){ie.error("Logo file must be smaller than 5MB");return}if(!L.type.startsWith("image/")){ie.error("Please select an image file");return}p(L);const R=new FileReader;R.onloadend=()=>{y(R.result)},R.readAsDataURL(L)}}function O(){p(null),y(i.app_logo_url),v.current&&(v.current.value="")}return s?u.jsx("div",{className:"p-6",children:u.jsxs("div",{className:"animate-pulse space-y-6",children:[u.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6",children:[u.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4"}),u.jsx("div",{className:"h-32 bg-gray-200 rounded"}),u.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4"}),u.jsx("div",{className:"h-10 bg-gray-200 rounded w-full"})]})]})}):u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Application Settings"}),u.jsx("p",{className:"text-gray-600",children:"Customize your AI Agent Chat platform branding and configuration"})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[u.jsx(Eh,{className:"w-5 h-5 mr-2",style:{color:"#1043FA"}}),"Client Customization"]})}),u.jsxs("div",{className:"p-6 space-y-8",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Application Logo"}),u.jsxs("div",{className:"flex items-center space-x-6",children:[u.jsx("div",{className:"flex-shrink-0",children:m?u.jsx("img",{src:m,alt:"Logo preview",className:"h-16 w-16 object-contain border border-gray-300 rounded-lg bg-white p-2"}):u.jsx("div",{className:"h-16 w-16 border border-gray-300 rounded-lg bg-gray-50 flex items-center justify-center",children:u.jsx(Wv,{className:"h-8 w-8 text-gray-400"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:A,className:"hidden"}),u.jsxs("button",{onClick:()=>{var k;return(k=v.current)==null?void 0:k.click()},className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[u.jsx(Ml,{className:"w-4 h-4 mr-2"}),f?"Change Logo":"Upload Logo"]}),f&&u.jsx("button",{onClick:O,className:"text-sm text-gray-500 hover:text-gray-700",children:"Cancel"})]}),u.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Recommended: Square logo, max 5MB. Supports JPG, PNG, WebP formats."}),f&&u.jsxs("p",{className:"mt-1 text-xs text-blue-600",children:["New logo selected: ",f.name]})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"app_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Application Name"}),u.jsx("input",{type:"text",id:"app_name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:border-blue-500 focus:ring-blue-500",value:i.app_name,onChange:k=>r({...i,app_name:k.target.value}),placeholder:"Enter application name"}),u.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"This name will appear in the user interface and browser title."})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"brand_color",className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand Color"}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"color",id:"brand_color",className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer",value:i.brand_color,onChange:k=>r({...i,brand_color:k.target.value})}),u.jsx("input",{type:"text",className:"w-24 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:border-blue-500 focus:ring-blue-500 text-sm font-mono",value:i.brand_color,onChange:k=>r({...i,brand_color:k.target.value}),pattern:"^#[0-9A-Fa-f]{6}$",placeholder:"#1043FA"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Hv,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"text-sm text-gray-600",children:"Preview:"}),u.jsx("div",{className:"w-8 h-8 rounded border border-gray-300",style:{backgroundColor:i.brand_color}})]})]}),u.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"This color will be used for buttons, links, and accent elements throughout the application."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Presets"}),u.jsx("div",{className:"flex space-x-2",children:[{name:"Default Blue",color:"#1043FA"},{name:"Green",color:"#21A35B"},{name:"Purple",color:"#8B5CF6"},{name:"Red",color:"#EF4444"},{name:"Orange",color:"#F97316"},{name:"Dark Blue",color:"#0D0095"}].map(k=>u.jsx("button",{onClick:()=>r({...i,brand_color:k.color}),className:"w-8 h-8 rounded border-2 border-gray-300 hover:border-gray-400 transition-colors duration-200",style:{backgroundColor:k.color},title:k.name},k.name))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Preview"}),u.jsx("div",{className:"border border-gray-300 rounded-lg p-6 bg-gray-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[m&&u.jsx("img",{src:m,alt:"Logo",className:"h-8 w-8 object-contain"}),u.jsx("h3",{className:"text-lg font-bold",style:{color:i.brand_color},children:i.app_name})]}),u.jsx("button",{className:"px-4 py-2 rounded-lg text-white text-sm font-medium",style:{backgroundColor:i.brand_color},children:"Sample Button"})]})})]}),u.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:u.jsx("button",{onClick:E,disabled:l,className:"inline-flex items-center px-6 py-2 text-sm font-medium text-white rounded-md transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"#21A35B"},children:l?u.jsxs(u.Fragment,{children:[u.jsx(Fl,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Kv,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})})]})]})]})}function lx(){const[i,r]=N.useState({totalUsers:0,totalAgents:0,totalConversations:0,activeConversations:0}),[s,a]=N.useState(!0);N.useEffect(()=>{l()},[]);async function l(){try{const{count:f}=await ue.from("profiles").select("*",{count:"exact",head:!0}),{count:p}=await ue.from("agents").select("*",{count:"exact",head:!0}),{count:m}=await ue.from("conversations").select("*",{count:"exact",head:!0}),y=new Date;y.setDate(y.getDate()-1);const{count:v}=await ue.from("conversations").select("*",{count:"exact",head:!0}).eq("is_active",!0).gte("updated_at",y.toISOString());r({totalUsers:f||0,totalAgents:p||0,totalConversations:m||0,activeConversations:v||0})}catch{ie.error("Failed to load dashboard statistics")}finally{a(!1)}}const c=[{name:"Total Users",value:i.totalUsers,icon:Jr,color:"#1043FA",bgColor:"#f0f9ff"},{name:"AI Agents",value:i.totalAgents,icon:Qe,color:"#33B6FF",bgColor:"#f0f9ff"},{name:"Total Conversations",value:i.totalConversations,icon:kr,color:"#21A35B",bgColor:"#f0fdf4"},{name:"Active Today",value:i.activeConversations,icon:Mv,color:"#0D0095",bgColor:"#faf5ff"}];return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),u.jsx("p",{className:"text-gray-600",children:"Overview of your AI Agent Chat platform"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:c.map(f=>{const p=f.icon;return u.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"h-12 w-12 rounded-lg flex items-center justify-center",style:{backgroundColor:f.bgColor},children:u.jsx(p,{className:"h-6 w-6",style:{color:f.color}})})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:f.name}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s?u.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded animate-pulse"}):f.value})]})]})},f.name)})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors duration-200",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Jr,{className:"h-5 w-5 mr-3",style:{color:"#1043FA"}}),u.jsx("span",{className:"font-medium text-gray-900",children:"Create New User"})]})}),u.jsx("button",{className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors duration-200",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Qe,{className:"h-5 w-5 mr-3",style:{color:"#33B6FF"}}),u.jsx("span",{className:"font-medium text-gray-900",children:"Add AI Agent"})]})}),u.jsx("button",{className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors duration-200",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Jv,{className:"h-5 w-5 mr-3",style:{color:"#21A35B"}}),u.jsx("span",{className:"font-medium text-gray-900",children:"View Analytics"})]})})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Status"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Database"}),u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Operational"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium text-gray-600",children:"API Services"}),u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Operational"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium text-gray-600",children:"File Storage"}),u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Operational"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Chat Functions"}),u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Operational"})]})]})]})]})]})}function ux(){const{profile:i,loading:r}=Dt();return r?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):!i||i.role!=="admin"?u.jsx(Gr,{to:"/app",replace:!0}):u.jsx(nx,{children:u.jsxs(Hl,{children:[u.jsx(Je,{path:"/",element:u.jsx(Gr,{to:"dashboard",replace:!0})}),u.jsx(Je,{path:"dashboard",element:u.jsx(lx,{})}),u.jsx(Je,{path:"users",element:u.jsx(sx,{})}),u.jsx(Je,{path:"agents",element:u.jsx(ix,{})}),u.jsx(Je,{path:"conversations",element:u.jsx(ox,{})}),u.jsx(Je,{path:"settings",element:u.jsx(ax,{})})]})})}function cx(){return u.jsx(Iv,{children:u.jsxs(Ig,{children:[u.jsx("div",{className:"min-h-screen bg-gray-50",children:u.jsxs(Hl,{children:[u.jsx(Je,{path:"/login",element:u.jsx(Qv,{})}),u.jsx(Je,{path:"/signup",element:u.jsx(Xv,{})}),u.jsx(Je,{path:"/app/*",element:u.jsx($v,{children:u.jsx(rx,{})})}),u.jsx(Je,{path:"/admin/*",element:u.jsx(Uv,{children:u.jsx(ux,{})})}),u.jsx(Je,{path:"/",element:u.jsx(Gr,{to:"/app",replace:!0})})]})}),u.jsx(Lv,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})}Im.createRoot(document.getElementById("root")).render(u.jsx(N.StrictMode,{children:u.jsx(Um,{children:u.jsx(cx,{})})}));
